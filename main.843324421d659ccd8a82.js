(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/o+h":function(n,e,t){"use strict";t.r(e);var l=function(n,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(n,e)};function r(n,e){function t(){this.constructor=n}l(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var i=function(){return(i=Object.assign||function(n){for(var e,t=1,l=arguments.length;t<l;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)};function o(n){var e="function"==typeof Symbol&&n[Symbol.iterator],t=0;return e?e.call(n):{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}}}function u(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var l,r,i=t.call(n),o=[];try{for(;(void 0===e||e-- >0)&&!(l=i.next()).done;)o.push(l.value)}catch(u){r={error:u}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return o}function a(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(u(arguments[e]));return n}var s=Array.isArray||function(n){return n&&"number"==typeof n.length};function c(n){return null!==n&&"object"==typeof n}function d(n){return"function"==typeof n}function p(n){return Error.call(this),this.message=n?n.length+" errors occurred during unsubscription:\n"+n.map((function(n,e){return e+1+") "+n.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=n,this}p.prototype=Object.create(Error.prototype);var h=p,f=function(){function n(n){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,n&&(this._unsubscribe=n)}return n.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this._parentOrParents,l=this._unsubscribe,r=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof n)t.remove(this);else if(null!==t)for(var i=0;i<t.length;++i)t[i].remove(this);if(d(l))try{l.call(this)}catch(a){e=a instanceof h?m(a.errors):[a]}if(s(r)){i=-1;for(var o=r.length;++i<o;){var u=r[i];if(c(u))try{u.unsubscribe()}catch(a){e=e||[],a instanceof h?e=e.concat(m(a.errors)):e.push(a)}}}if(e)throw new h(e)}},n.prototype.add=function(e){var t=e;if(!e)return n.EMPTY;switch(typeof e){case"function":t=new n(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof n)){var l=t;(t=new n)._subscriptions=[l]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=t._parentOrParents;if(null===r)t._parentOrParents=this;else if(r instanceof n){if(r===this)return t;t._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return t;r.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[t]:i.push(t),t},n.prototype.remove=function(n){var e=this._subscriptions;if(e){var t=e.indexOf(n);-1!==t&&e.splice(t,1)}},n.EMPTY=function(n){return n.closed=!0,n}(new n),n}();function m(n){return n.reduce((function(n,e){return n.concat(e instanceof h?e.errors:e)}),[])}var g=!1,v={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){g=n},get useDeprecatedSynchronousErrorHandling(){return g}};function y(n){setTimeout((function(){throw n}),0)}var b={closed:!0,next:function(n){},error:function(n){if(v.useDeprecatedSynchronousErrorHandling)throw n;y(n)},complete:function(){}},w="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),x=function(n){function e(t,l,r){var i=n.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=b;break;case 1:if(!t){i.destination=b;break}if("object"==typeof t){t instanceof e?(i.syncErrorThrowable=t.syncErrorThrowable,i.destination=t,t.add(i)):(i.syncErrorThrowable=!0,i.destination=new _(i,t));break}default:i.syncErrorThrowable=!0,i.destination=new _(i,t,l,r)}return i}return r(e,n),e.prototype[w]=function(){return this},e.create=function(n,t,l){var r=new e(n,t,l);return r.syncErrorThrowable=!1,r},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this))},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this},e}(f),_=function(n){function e(e,t,l,r){var i,o=n.call(this)||this;o._parentSubscriber=e;var u=o;return d(t)?i=t:t&&(i=t.next,l=t.error,r=t.complete,t!==b&&(d((u=Object.create(t)).unsubscribe)&&o.add(u.unsubscribe.bind(u)),u.unsubscribe=o.unsubscribe.bind(o))),o._context=u,o._next=i,o._error=l,o._complete=r,o}return r(e,n),e.prototype.next=function(n){if(!this.isStopped&&this._next){var e=this._parentSubscriber;v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,n)&&this.unsubscribe():this.__tryOrUnsub(this._next,n)}},e.prototype.error=function(n){if(!this.isStopped){var e=this._parentSubscriber,t=v.useDeprecatedSynchronousErrorHandling;if(this._error)t&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,n),this.unsubscribe()):(this.__tryOrUnsub(this._error,n),this.unsubscribe());else if(e.syncErrorThrowable)t?(e.syncErrorValue=n,e.syncErrorThrown=!0):y(n),this.unsubscribe();else{if(this.unsubscribe(),t)throw n;y(n)}}},e.prototype.complete=function(){var n=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var t=function(){return n._complete.call(n._context)};v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(n,e){try{n.call(this._context,e)}catch(t){if(this.unsubscribe(),v.useDeprecatedSynchronousErrorHandling)throw t;y(t)}},e.prototype.__tryOrSetError=function(n,e,t){if(!v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,t)}catch(l){return v.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=l,n.syncErrorThrown=!0,!0):(y(l),!0)}return!1},e.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._context=null,this._parentSubscriber=null,n.unsubscribe()},e}(x),C="function"==typeof Symbol&&Symbol.observable||"@@observable";function S(){}function I(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return k(n)}function k(n){return n?1===n.length?n[0]:function(e){return n.reduce((function(n,e){return e(n)}),e)}:S}var E=function(){function n(n){this._isScalar=!1,n&&(this._subscribe=n)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(n,e,t){var l=this.operator,r=function(n,e,t){if(n){if(n instanceof x)return n;if(n[w])return n[w]()}return n||e||t?new x(n,e,t):new x(b)}(n,e,t);if(r.add(l?l.call(r,this.source):this.source||v.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),v.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},n.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(e){v.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=e),function(n){for(;n;){var e=n.destination;if(n.closed||n.isStopped)return!1;n=e&&e instanceof x?e:null}return!0}(n)?n.error(e):console.warn(e)}},n.prototype.forEach=function(n,e){var t=this;return new(e=T(e))((function(e,l){var r;r=t.subscribe((function(e){try{n(e)}catch(t){l(t),r&&r.unsubscribe()}}),l,e)}))},n.prototype._subscribe=function(n){var e=this.source;return e&&e.subscribe(n)},n.prototype[C]=function(){return this},n.prototype.pipe=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return 0===n.length?this:k(n)(this)},n.prototype.toPromise=function(n){var e=this;return new(n=T(n))((function(n,t){var l;e.subscribe((function(n){return l=n}),(function(n){return t(n)}),(function(){return n(l)}))}))},n.create=function(e){return new n(e)},n}();function T(n){if(n||(n=v.Promise||Promise),!n)throw new Error("no Promise impl found");return n}function P(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}P.prototype=Object.create(Error.prototype);var A=P,O=function(n){function e(e,t){var l=n.call(this)||this;return l.subject=e,l.subscriber=t,l.closed=!1,l}return r(e,n),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,e=n.observers;if(this.subject=null,e&&0!==e.length&&!n.isStopped&&!n.closed){var t=e.indexOf(this.subscriber);-1!==t&&e.splice(t,1)}}},e}(f),D=function(n){function e(e){var t=n.call(this,e)||this;return t.destination=e,t}return r(e,n),e}(x),N=function(n){function e(){var e=n.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r(e,n),e.prototype[w]=function(){return new D(this)},e.prototype.lift=function(n){var e=new R(this,this);return e.operator=n,e},e.prototype.next=function(n){if(this.closed)throw new A;if(!this.isStopped)for(var e=this.observers,t=e.length,l=e.slice(),r=0;r<t;r++)l[r].next(n)},e.prototype.error=function(n){if(this.closed)throw new A;this.hasError=!0,this.thrownError=n,this.isStopped=!0;for(var e=this.observers,t=e.length,l=e.slice(),r=0;r<t;r++)l[r].error(n);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new A;this.isStopped=!0;for(var n=this.observers,e=n.length,t=n.slice(),l=0;l<e;l++)t[l].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new A;return n.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(n){if(this.closed)throw new A;return this.hasError?(n.error(this.thrownError),f.EMPTY):this.isStopped?(n.complete(),f.EMPTY):(this.observers.push(n),new O(this,n))},e.prototype.asObservable=function(){var n=new E;return n.source=this,n},e.create=function(n,e){return new R(n,e)},e}(E),R=function(n){function e(e,t){var l=n.call(this)||this;return l.destination=e,l.source=t,l}return r(e,n),e.prototype.next=function(n){var e=this.destination;e&&e.next&&e.next(n)},e.prototype.error=function(n){var e=this.destination;e&&e.error&&this.destination.error(n)},e.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},e.prototype._subscribe=function(n){return this.source?this.source.subscribe(n):f.EMPTY},e}(N);function M(n){return n&&"function"==typeof n.schedule}var V=function(n){function e(e,t,l){var r=n.call(this)||this;return r.parent=e,r.outerValue=t,r.outerIndex=l,r.index=0,r}return r(e,n),e.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)},e.prototype._error=function(n){this.parent.notifyError(n,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(x),j=function(n){return function(e){for(var t=0,l=n.length;t<l&&!e.closed;t++)e.next(n[t]);e.complete()}};function z(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var L=z(),U=function(n){return n&&"number"==typeof n.length&&"function"!=typeof n};function F(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}var H=function(n){if(n&&"function"==typeof n[C])return l=n,function(n){var e=l[C]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(n)};if(U(n))return j(n);if(F(n))return t=n,function(n){return t.then((function(e){n.closed||(n.next(e),n.complete())}),(function(e){return n.error(e)})).then(null,y),n};if(n&&"function"==typeof n[L])return e=n,function(n){for(var t=e[L]();;){var l=t.next();if(l.done){n.complete();break}if(n.next(l.value),n.closed)break}return"function"==typeof t.return&&n.add((function(){t.return&&t.return()})),n};var e,t,l,r=c(n)?"an invalid object":"'"+n+"'";throw new TypeError("You provided "+r+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function B(n,e,t,l,r){if(void 0===r&&(r=new V(n,t,l)),!r.closed)return e instanceof E?e.subscribe(r):H(e)(r)}var $=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return r(e,n),e.prototype.notifyNext=function(n,e,t,l,r){this.destination.next(e)},e.prototype.notifyError=function(n,e){this.destination.error(n)},e.prototype.notifyComplete=function(n){this.destination.complete()},e}(x);function W(n,e){return function(t){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return t.lift(new q(n,e))}}var q=function(){function n(n,e){this.project=n,this.thisArg=e}return n.prototype.call=function(n,e){return e.subscribe(new G(n,this.project,this.thisArg))},n}(),G=function(n){function e(e,t,l){var r=n.call(this,e)||this;return r.project=t,r.count=0,r.thisArg=l||r,r}return r(e,n),e.prototype._next=function(n){var e;try{e=this.project.call(this.thisArg,n,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(x);function Z(n,e){return new E((function(t){var l=new f,r=0;return l.add(e.schedule((function(){r!==n.length?(t.next(n[r++]),t.closed||l.add(this.schedule())):t.complete()}))),l}))}function Q(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[C]}(n))return function(n,e){return new E((function(t){var l=new f;return l.add(e.schedule((function(){var r=n[C]();l.add(r.subscribe({next:function(n){l.add(e.schedule((function(){return t.next(n)})))},error:function(n){l.add(e.schedule((function(){return t.error(n)})))},complete:function(){l.add(e.schedule((function(){return t.complete()})))}}))}))),l}))}(n,e);if(F(n))return function(n,e){return new E((function(t){var l=new f;return l.add(e.schedule((function(){return n.then((function(n){l.add(e.schedule((function(){t.next(n),l.add(e.schedule((function(){return t.complete()})))})))}),(function(n){l.add(e.schedule((function(){return t.error(n)})))}))}))),l}))}(n,e);if(U(n))return Z(n,e);if(function(n){return n&&"function"==typeof n[L]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new E((function(t){var l,r=new f;return r.add((function(){l&&"function"==typeof l.return&&l.return()})),r.add(e.schedule((function(){l=n[L](),r.add(e.schedule((function(){if(!t.closed){var n,e;try{var r=l.next();n=r.value,e=r.done}catch(i){return void t.error(i)}e?t.complete():(t.next(n),this.schedule())}})))}))),r}))}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof E?n:new E(H(n))}function K(n,e,t){return void 0===t&&(t=Number.POSITIVE_INFINITY),"function"==typeof e?function(l){return l.pipe(K((function(t,l){return Q(n(t,l)).pipe(W((function(n,r){return e(t,n,l,r)})))}),t))}:("number"==typeof e&&(t=e),function(e){return e.lift(new X(n,t))})}var X=function(){function n(n,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=n,this.concurrent=e}return n.prototype.call=function(n,e){return e.subscribe(new J(n,this.project,this.concurrent))},n}(),J=function(n){function e(e,t,l){void 0===l&&(l=Number.POSITIVE_INFINITY);var r=n.call(this,e)||this;return r.project=t,r.concurrent=l,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return r(e,n),e.prototype._next=function(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)},e.prototype._tryNext=function(n){var e,t=this.index++;try{e=this.project(n,t)}catch(l){return void this.destination.error(l)}this.active++,this._innerSub(e,n,t)},e.prototype._innerSub=function(n,e,t){var l=new V(this,void 0,void 0);this.destination.add(l),B(this,n,e,t,l)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n,e,t,l,r){this.destination.next(e)},e.prototype.notifyComplete=function(n){var e=this.buffer;this.remove(n),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}($);function Y(n){return n}function nn(n){return void 0===n&&(n=Number.POSITIVE_INFINITY),K(Y,n)}function en(n,e){return e?Z(n,e):new E(j(n))}function tn(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Number.POSITIVE_INFINITY,l=null,r=n[n.length-1];return M(r)?(l=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof r&&(t=n.pop()),null===l&&1===n.length&&n[0]instanceof E?n[0]:nn(t)(en(n,l))}function ln(){return function(n){return n.lift(new rn(n))}}var rn=function(){function n(n){this.connectable=n}return n.prototype.call=function(n,e){var t=this.connectable;t._refCount++;var l=new on(n,t),r=e.subscribe(l);return l.closed||(l.connection=t.connect()),r},n}(),on=function(n){function e(e,t){var l=n.call(this,e)||this;return l.connectable=t,l}return r(e,n),e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var e=n._refCount;if(e<=0)this.connection=null;else if(n._refCount=e-1,e>1)this.connection=null;else{var t=this.connection,l=n._connection;this.connection=null,!l||t&&l!==t||l.unsubscribe()}}else this.connection=null},e}(x),un=function(n){function e(e,t){var l=n.call(this)||this;return l.source=e,l.subjectFactory=t,l._refCount=0,l._isComplete=!1,l}return r(e,n),e.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},e.prototype.getSubject=function(){var n=this._subject;return n&&!n.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var n=this._connection;return n||(this._isComplete=!1,(n=this._connection=new f).add(this.source.subscribe(new sn(this.getSubject(),this))),n.closed&&(this._connection=null,n=f.EMPTY)),n},e.prototype.refCount=function(){return ln()(this)},e}(E).prototype,an={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:un._subscribe},_isComplete:{value:un._isComplete,writable:!0},getSubject:{value:un.getSubject},connect:{value:un.connect},refCount:{value:un.refCount}},sn=function(n){function e(e,t){var l=n.call(this,e)||this;return l.connectable=t,l}return r(e,n),e.prototype._error=function(e){this._unsubscribe(),n.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),n.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var e=n._connection;n._refCount=0,n._subject=null,n._connection=null,e&&e.unsubscribe()}},e}(D);function cn(){return new N}var dn="__parameters__";function pn(n,e,t){var l=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(n){var l=n.apply(void 0,a(e));for(var r in l)this[r]=l[r]}}}(e);function r(){for(var n,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this instanceof r)return l.apply(this,e),this;var i=new((n=r).bind.apply(n,a([void 0],e)));return o.annotation=i,o;function o(n,e,t){for(var l=n.hasOwnProperty(dn)?n[dn]:Object.defineProperty(n,dn,{value:[]})[dn];l.length<=t;)l.push(null);return(l[t]=l[t]||[]).push(i),n}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r}var hn=pn("Inject",(function(n){return{token:n}})),fn=pn("Optional"),mn=pn("Self"),gn=pn("SkipSelf"),vn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}({});function yn(n){for(var e in n)if(n[e]===yn)return e;throw Error("Could not find renamed property on target object.")}function bn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function wn(n){var e=n[xn];return e&&e.token===n?e:null}var xn=yn({ngInjectableDef:yn});function _n(n){if("string"==typeof n)return n;if(n instanceof Array)return"["+n.map(_n).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return""+n.overriddenName;if(n.name)return""+n.name;var e=n.toString();if(null==e)return""+e;var t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}var Cn=yn({__forward_ref__:yn});function Sn(n){return n.__forward_ref__=Sn,n.toString=function(){return _n(this())},n}function In(n){var e=n;return"function"==typeof e&&e.hasOwnProperty(Cn)&&e.__forward_ref__===Sn?e():n}var kn,En="undefined"!=typeof globalThis&&globalThis,Tn="undefined"!=typeof window&&window,Pn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,An="undefined"!=typeof global&&global,On=En||An||Tn||Pn,Dn=function(){function n(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=bn({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}return n.prototype.toString=function(){return"InjectionToken "+this._desc},n}(),Nn=new Dn("INJECTOR",-1),Rn=new Object,Mn=/\n/gm,Vn="ɵ",jn="__source",zn=yn({provide:String,useValue:yn}),Ln=void 0;function Un(n){var e=Ln;return Ln=n,e}function Fn(n,e){if(void 0===e&&(e=vn.Default),void 0===Ln)throw new Error("inject() must be called from an injection context");return null===Ln?function(n,e,t){var l=wn(n);if(l&&"root"==l.providedIn)return void 0===l.value?l.value=l.factory():l.value;if(t&vn.Optional)return null;throw new Error("Injector: NOT_FOUND ["+_n(n)+"]")}(n,0,e):Ln.get(n,e&vn.Optional?null:void 0,e)}function Hn(n,e){return void 0===e&&(e=vn.Default),(kn||Fn)(n,e)}var Bn=function(){function n(){}return n.prototype.get=function(n,e){if(void 0===e&&(e=Rn),e===Rn){var t=new Error("NullInjectorError: No provider for "+_n(n)+"!");throw t.name="NullInjectorError",t}return e},n}();function $n(n,e,t,l){void 0===l&&(l=null),n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Vn?n.substr(2):n;var r=_n(e);if(e instanceof Array)r=e.map(_n).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var u=e[o];i.push(o+":"+("string"==typeof u?JSON.stringify(u):_n(u)))}r="{"+i.join(", ")+"}"}return t+(l?"("+l+")":"")+"["+r+"]: "+n.replace(Mn,"\n  ")}var Wn=function(){return function(){}}(),qn=function(){return function(){}}();function Gn(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Zn(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var Qn=function(n){return n[n.Emulated=0]="Emulated",n[n.Native=1]="Native",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}({}),Kn=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(On)}(),Xn="ngDebugContext",Jn="ngOriginalError",Yn="ngErrorLogger";function ne(n){return n[Xn]}function ee(n){return n[Jn]}function te(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];n.error.apply(n,a(e))}var le=function(){function n(){this._console=console}return n.prototype.handleError=function(n){var e=this._findOriginalError(n),t=this._findContext(n),l=function(n){return n[Yn]||te}(n);l(this._console,"ERROR",n),e&&l(this._console,"ORIGINAL ERROR",e),t&&l(this._console,"ERROR CONTEXT",t)},n.prototype._findContext=function(n){return n?ne(n)?ne(n):this._findContext(ee(n)):null},n.prototype._findOriginalError=function(n){for(var e=ee(n);e&&ee(e);)e=ee(e);return e},n}(),re=!0,ie=!1;function oe(){return ie=!0,re}var ue=function(){function n(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(n){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return n.prototype.getInertBodyElement_XHR=function(n){n="<body><remove></remove>"+n+"</body>";try{n=encodeURI(n)}catch(l){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+n,!1),e.send(void 0);var t=e.response.body;return t.removeChild(t.firstChild),t},n.prototype.getInertBodyElement_DOMParser=function(n){n="<body><remove></remove>"+n+"</body>";try{var e=(new window.DOMParser).parseFromString(n,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}},n.prototype.getInertBodyElement_InertDocument=function(n){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=n,e):(this.inertBodyElement.innerHTML=n,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},n.prototype.stripCustomNsAttrs=function(n){for(var e=n.attributes,t=e.length-1;0<t;t--){var l=e.item(t).name;"xmlns:ns1"!==l&&0!==l.indexOf("ns1:")||n.removeAttribute(l)}for(var r=n.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling},n}(),ae=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,se=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ce(n){return(n=String(n)).match(ae)||n.match(se)?n:(oe()&&console.warn("WARNING: sanitizing unsafe URL value "+n+" (see http://g.co/ng/security#xss)"),"unsafe:"+n)}function de(n){var e,t,l={};try{for(var r=o(n.split(",")),i=r.next();!i.done;i=r.next())l[i.value]=!0}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return l}function pe(){for(var n,e,t=[],l=0;l<arguments.length;l++)t[l]=arguments[l];var r={};try{for(var i=o(t),u=i.next();!u.done;u=i.next()){var a=u.value;for(var s in a)a.hasOwnProperty(s)&&(r[s]=!0)}}catch(c){n={error:c}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}return r}var he,fe=de("area,br,col,hr,img,wbr"),me=de("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ge=de("rp,rt"),ve=pe(ge,me),ye=pe(fe,pe(me,de("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pe(ge,de("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ve),be=de("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),we=de("srcset"),xe=pe(be,we,de("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),de("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_e=de("script,style,template"),Ce=function(){function n(){this.sanitizedSomething=!1,this.buf=[]}return n.prototype.sanitizeChildren=function(n){for(var e=n.firstChild,t=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?t=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,t&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var l=this.checkClobberedElement(e,e.nextSibling);if(l){e=l;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},n.prototype.startElement=function(n){var e,t=n.nodeName.toLowerCase();if(!ye.hasOwnProperty(t))return this.sanitizedSomething=!0,!_e.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var l=n.attributes,r=0;r<l.length;r++){var i=l.item(r),o=i.name,u=o.toLowerCase();if(xe.hasOwnProperty(u)){var a=i.value;be[u]&&(a=ce(a)),we[u]&&(e=a,a=(e=String(e)).split(",").map((function(n){return ce(n.trim())})).join(", ")),this.buf.push(" ",o,'="',ke(a),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},n.prototype.endElement=function(n){var e=n.nodeName.toLowerCase();ye.hasOwnProperty(e)&&!fe.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},n.prototype.chars=function(n){this.buf.push(ke(n))},n.prototype.checkClobberedElement=function(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+n.outerHTML);return e},n}(),Se=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ie=/([^\#-~ |!])/g;function ke(n){return n.replace(/&/g,"&amp;").replace(Se,(function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"})).replace(Ie,(function(n){return"&#"+n.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ee(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Te=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}({}),Pe=function(){return function(){}}(),Ae=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Oe=/^url\(([^)]+)\)$/,De=/([A-Z])/g;function Ne(n){try{return null!=n?n.toString().slice(0,30):n}catch(e){return"[ERROR] Exception while trying to serialize the value"}}var Re=function(){function n(){}return n.__NG_ELEMENT_ID__=function(){return Me()},n}(),Me=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e]},Ve=new Dn("The presence of this token marks an injector as being the root injector."),je=function(n,e,t){return new Be(n,e,t)},ze=function(){function n(){}return n.create=function(n,e){return Array.isArray(n)?je(n,e,""):je(n.providers,n.parent,n.name||"")},n.THROW_IF_NOT_FOUND=Rn,n.NULL=new Bn,n.ngInjectableDef=bn({token:n,providedIn:"any",factory:function(){return Hn(Nn)}}),n.__NG_ELEMENT_ID__=-1,n}(),Le=function(n){return n},Ue=[],Fe=Le,He=function(){return Array.prototype.slice.call(arguments)},Be=function(){function n(n,e,t){void 0===e&&(e=ze.NULL),void 0===t&&(t=null),this.parent=e,this.source=t;var l=this._records=new Map;l.set(ze,{token:ze,fn:Le,deps:Ue,value:this,useNew:!1}),l.set(Nn,{token:Nn,fn:Le,deps:Ue,value:this,useNew:!1}),function n(e,t){if(t)if((t=In(t))instanceof Array)for(var l=0;l<t.length;l++)n(e,t[l]);else{if("function"==typeof t)throw We("Function/Class not supported",t);if(!t||"object"!=typeof t||!t.provide)throw We("Unexpected provider",t);var r=In(t.provide),i=function(n){var e=function(n){var e=Ue,t=n.deps;if(t&&t.length){e=[];for(var l=0;l<t.length;l++){var r=6;if((a=In(t[l]))instanceof Array)for(var i=0,o=a;i<o.length;i++){var u=o[i];u instanceof fn||u==fn?r|=1:u instanceof gn||u==gn?r&=-3:u instanceof mn||u==mn?r&=-5:a=u instanceof hn?u.token:In(u)}e.push({token:a,options:r})}}else if(n.useExisting){var a=In(n.useExisting);e=[{token:a,options:6}]}else if(!(t||zn in n))throw We("'deps' required",n);return e}(n),t=Le,l=Ue,r=!1,i=In(n.provide);if(zn in n)l=n.useValue;else if(n.useFactory)t=n.useFactory;else if(n.useExisting);else if(n.useClass)r=!0,t=In(n.useClass);else{if("function"!=typeof i)throw We("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",n);r=!0,t=i}return{deps:e,fn:t,useNew:r,value:l}}(t);if(!0===t.multi){var o=e.get(r);if(o){if(o.fn!==He)throw $e(r)}else e.set(r,o={token:t.provide,deps:[],useNew:!1,fn:He,value:Ue});o.deps.push({token:r=t,options:6})}var u=e.get(r);if(u&&u.fn==He)throw $e(r);e.set(r,i)}}(l,n)}return n.prototype.get=function(n,e,t){void 0===t&&(t=vn.Default);var l=this._records.get(n);try{return function n(e,t,l,r,i,o){try{return function(e,t,l,r,i,o){var u,s;if(!t||o&vn.SkipSelf)o&vn.Self||(s=r.get(e,i,vn.Default));else{if((s=t.value)==Fe)throw Error("ɵCircular dependency");if(s===Ue){t.value=Fe;var c=t.useNew,d=t.fn,p=t.deps,h=Ue;if(p.length){h=[];for(var f=0;f<p.length;f++){var m=p[f],g=m.options,v=2&g?l.get(m.token):void 0;h.push(n(m.token,v,l,v||4&g?r:ze.NULL,1&g?null:ze.THROW_IF_NOT_FOUND,vn.Default))}}t.value=s=c?new((u=d).bind.apply(u,a([void 0],h))):d.apply(void 0,h)}}return s}(e,t,l,r,i,o)}catch(u){throw u instanceof Error||(u=new Error(u)),(u.ngTempTokenPath=u.ngTempTokenPath||[]).unshift(e),t&&t.value==Fe&&(t.value=Ue),u}}(n,l,this._records,this.parent,e,t)}catch(r){return function(n,e,t,l){var r=n.ngTempTokenPath;throw e[jn]&&r.unshift(e[jn]),n.message=$n("\n"+n.message,r,"StaticInjectorError",l),n.ngTokenPath=r,n.ngTempTokenPath=null,n}(r,n,0,this.source)}},n.prototype.toString=function(){var n=[];return this._records.forEach((function(e,t){return n.push(_n(t))})),"StaticInjector["+n.join(", ")+"]"},n}();function $e(n){return We("Cannot mix multi providers and regular providers",n)}function We(n,e){return new Error($n(n,e,"StaticInjectorError"))}var qe=new Dn("AnalyzeForEntryComponents"),Ge=null;function Ze(){if(!Ge){var n=On.Symbol;if(n&&n.iterator)Ge=n.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),t=0;t<e.length;++t){var l=e[t];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Ge=l)}}return Ge}function Qe(n,e){return n===e||"number"==typeof n&&"number"==typeof e&&isNaN(n)&&isNaN(e)}function Ke(n,e){var t=Je(n),l=Je(e);return t&&l?function(n,e,t){for(var l=n[Ze()](),r=e[Ze()]();;){var i=l.next(),o=r.next();if(i.done&&o.done)return!0;if(i.done||o.done)return!1;if(!t(i.value,o.value))return!1}}(n,e,Ke):!(t||!n||"object"!=typeof n&&"function"!=typeof n||l||!e||"object"!=typeof e&&"function"!=typeof e)||Qe(n,e)}var Xe=function(){function n(n){this.wrapped=n}return n.wrap=function(e){return new n(e)},n.unwrap=function(e){return n.isWrapped(e)?e.wrapped:e},n.isWrapped=function(e){return e instanceof n},n}();function Je(n){return!!Ye(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ze()in n)}function Ye(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function nt(n){return!!n&&"function"==typeof n.then}function et(n){return!!n&&"function"==typeof n.subscribe}var tt=function(){function n(n,e,t){this.previousValue=n,this.currentValue=e,this.firstChange=t}return n.prototype.isFirstChange=function(){return this.firstChange},n}(),lt=function(){return function(){}}(),rt=function(){return function(){}}();function it(n){var e=Error("No component factory found for "+_n(n)+". Did you add it to @NgModule.entryComponents?");return e[ot]=n,e}var ot="ngComponent",ut=function(){function n(){}return n.prototype.resolveComponentFactory=function(n){throw it(n)},n}(),at=function(){function n(){}return n.NULL=new ut,n}(),st=function(){function n(n,e,t){this._parent=e,this._ngModule=t,this._factories=new Map;for(var l=0;l<n.length;l++){var r=n[l];this._factories.set(r.componentType,r)}}return n.prototype.resolveComponentFactory=function(n){var e=this._factories.get(n);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(n)),!e)throw it(n);return new ct(e,this._ngModule)},n}(),ct=function(n){function e(e,t){var l=n.call(this)||this;return l.factory=e,l.ngModule=t,l.selector=e.selector,l.componentType=e.componentType,l.ngContentSelectors=e.ngContentSelectors,l.inputs=e.inputs,l.outputs=e.outputs,l}return r(e,n),e.prototype.create=function(n,e,t,l){return this.factory.create(n,e,t,l||this.ngModule)},e}(rt);function dt(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e]}var pt=function(){function n(n){this.nativeElement=n}return n.__NG_ELEMENT_ID__=function(){return ht(n)},n}(),ht=dt,ft=function(){return function(){}}(),mt=function(){return function(){}}(),gt=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}({}),vt=function(){function n(){}return n.__NG_ELEMENT_ID__=function(){return yt()},n}(),yt=dt,bt=new(function(){return function(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}())("8.2.14"),wt=function(){function n(){}return n.prototype.supports=function(n){return Je(n)},n.prototype.create=function(n){return new _t(n)},n}(),xt=function(n,e){return e},_t=function(){function n(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||xt}return n.prototype.forEachItem=function(n){var e;for(e=this._itHead;null!==e;e=e._next)n(e)},n.prototype.forEachOperation=function(n){for(var e=this._itHead,t=this._removalsHead,l=0,r=null;e||t;){var i=!t||e&&e.currentIndex<kt(t,l,r)?e:t,o=kt(i,l,r),u=i.currentIndex;if(i===t)l--,t=t._nextRemoved;else if(e=e._next,null==i.previousIndex)l++;else{r||(r=[]);var a=o-l,s=u-l;if(a!=s){for(var c=0;c<a;c++){var d=c<r.length?r[c]:r[c]=0,p=d+c;s<=p&&p<a&&(r[c]=d+1)}r[i.previousIndex]=s-a}}o!==u&&n(i,o,u)}},n.prototype.forEachPreviousItem=function(n){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)},n.prototype.forEachAddedItem=function(n){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)},n.prototype.forEachMovedItem=function(n){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)},n.prototype.forEachRemovedItem=function(n){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)},n.prototype.forEachIdentityChange=function(n){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)},n.prototype.diff=function(n){if(null==n&&(n=[]),!Je(n))throw new Error("Error trying to diff '"+_n(n)+"'. Only arrays and iterables are allowed");return this.check(n)?this:null},n.prototype.onDestroy=function(){},n.prototype.check=function(n){var e=this;this._reset();var t,l,r,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(var u=0;u<this.length;u++)r=this._trackByFn(u,l=n[u]),null!==i&&Qe(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,l,r,u)),Qe(i.item,l)||this._addIdentityChange(i,l)):(i=this._mismatch(i,l,r,u),o=!0),i=i._next}else t=0,function(n,e){if(Array.isArray(n))for(var t=0;t<n.length;t++)e(n[t]);else for(var l=n[Ze()](),r=void 0;!(r=l.next()).done;)e(r.value)}(n,(function(n){r=e._trackByFn(t,n),null!==i&&Qe(i.trackById,r)?(o&&(i=e._verifyReinsertion(i,n,r,t)),Qe(i.item,n)||e._addIdentityChange(i,n)):(i=e._mismatch(i,n,r,t),o=!0),i=i._next,t++})),this.length=t;return this._truncate(i),this.collection=n,this.isDirty},Object.defineProperty(n.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),n.prototype._reset=function(){if(this.isDirty){var n=void 0,e=void 0;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=e)n.previousIndex=n.currentIndex,e=n._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},n.prototype._mismatch=function(n,e,t,l){var r;return null===n?r=this._itTail:(r=n._prev,this._remove(n)),null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(t,l))?(Qe(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,r,l)):null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(t,null))?(Qe(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,r,l)):n=this._addAfter(new Ct(e,t),r,l),n},n.prototype._verifyReinsertion=function(n,e,t,l){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(t,null);return null!==r?n=this._reinsertAfter(r,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n},n.prototype._truncate=function(n){for(;null!==n;){var e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},n.prototype._reinsertAfter=function(n,e,t){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);var l=n._prevRemoved,r=n._nextRemoved;return null===l?this._removalsHead=r:l._nextRemoved=r,null===r?this._removalsTail=l:r._prevRemoved=l,this._insertAfter(n,e,t),this._addToMoves(n,t),n},n.prototype._moveAfter=function(n,e,t){return this._unlink(n),this._insertAfter(n,e,t),this._addToMoves(n,t),n},n.prototype._addAfter=function(n,e,t){return this._insertAfter(n,e,t),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n},n.prototype._insertAfter=function(n,e,t){var l=null===e?this._itHead:e._next;return n._next=l,n._prev=e,null===l?this._itTail=n:l._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new It),this._linkedRecords.put(n),n.currentIndex=t,n},n.prototype._remove=function(n){return this._addToRemovals(this._unlink(n))},n.prototype._unlink=function(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);var e=n._prev,t=n._next;return null===e?this._itHead=t:e._next=t,null===t?this._itTail=e:t._prev=e,n},n.prototype._addToMoves=function(n,e){return n.previousIndex===e?n:(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n,n)},n.prototype._addToRemovals=function(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new It),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n},n.prototype._addIdentityChange=function(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n},n}(),Ct=function(){return function(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),St=function(){function n(){this._head=null,this._tail=null}return n.prototype.add=function(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)},n.prototype.get=function(n,e){var t;for(t=this._head;null!==t;t=t._nextDup)if((null===e||e<=t.currentIndex)&&Qe(t.trackById,n))return t;return null},n.prototype.remove=function(n){var e=n._prevDup,t=n._nextDup;return null===e?this._head=t:e._nextDup=t,null===t?this._tail=e:t._prevDup=e,null===this._head},n}(),It=function(){function n(){this.map=new Map}return n.prototype.put=function(n){var e=n.trackById,t=this.map.get(e);t||(t=new St,this.map.set(e,t)),t.add(n)},n.prototype.get=function(n,e){var t=this.map.get(n);return t?t.get(n,e):null},n.prototype.remove=function(n){var e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n},Object.defineProperty(n.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this.map.clear()},n}();function kt(n,e,t){var l=n.previousIndex;if(null===l)return l;var r=0;return t&&l<t.length&&(r=t[l]),l+e+r}var Et=function(){function n(){}return n.prototype.supports=function(n){return n instanceof Map||Ye(n)},n.prototype.create=function(){return new Tt},n}(),Tt=function(){function n(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(n.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),n.prototype.forEachItem=function(n){var e;for(e=this._mapHead;null!==e;e=e._next)n(e)},n.prototype.forEachPreviousItem=function(n){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)},n.prototype.forEachChangedItem=function(n){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)},n.prototype.forEachAddedItem=function(n){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)},n.prototype.forEachRemovedItem=function(n){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)},n.prototype.diff=function(n){if(n){if(!(n instanceof Map||Ye(n)))throw new Error("Error trying to diff '"+_n(n)+"'. Only maps and objects are allowed")}else n=new Map;return this.check(n)?this:null},n.prototype.onDestroy=function(){},n.prototype.check=function(n){var e=this;this._reset();var t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(function(n,l){if(t&&t.key===l)e._maybeAddToChanges(t,n),e._appendAfter=t,t=t._next;else{var r=e._getOrCreateRecordForKey(l,n);t=e._insertBeforeOrAppend(t,r)}})),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(var l=t;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},n.prototype._insertBeforeOrAppend=function(n,e){if(n){var t=n._prev;return e._next=n,e._prev=t,n._prev=e,t&&(t._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},n.prototype._getOrCreateRecordForKey=function(n,e){if(this._records.has(n)){var t=this._records.get(n);this._maybeAddToChanges(t,e);var l=t._prev,r=t._next;return l&&(l._next=r),r&&(r._prev=l),t._next=null,t._prev=null,t}var i=new Pt(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i},n.prototype._reset=function(){if(this.isDirty){var n=void 0;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},n.prototype._maybeAddToChanges=function(n,e){Qe(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))},n.prototype._addToAdditions=function(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)},n.prototype._addToChanges=function(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)},n.prototype._forEach=function(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach((function(t){return e(n[t],t)}))},n}(),Pt=function(){return function(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),At=function(){function n(n){this.factories=n}return n.create=function(e,t){if(null!=t){var l=t.factories.slice();e=e.concat(l)}return new n(e)},n.extend=function(e){return{provide:n,useFactory:function(t){if(!t)throw new Error("Cannot extend IterableDiffers without a parent injector");return n.create(e,t)},deps:[[n,new gn,new fn]]}},n.prototype.find=function(n){var e,t=this.factories.find((function(e){return e.supports(n)}));if(null!=t)return t;throw new Error("Cannot find a differ supporting object '"+n+"' of type '"+((e=n).name||typeof e)+"'")},n.ngInjectableDef=bn({token:n,providedIn:"root",factory:function(){return new n([new wt])}}),n}(),Ot=function(){function n(n){this.factories=n}return n.create=function(e,t){if(t){var l=t.factories.slice();e=e.concat(l)}return new n(e)},n.extend=function(e){return{provide:n,useFactory:function(t){if(!t)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return n.create(e,t)},deps:[[n,new gn,new fn]]}},n.prototype.find=function(n){var e=this.factories.find((function(e){return e.supports(n)}));if(e)return e;throw new Error("Cannot find a differ supporting object '"+n+"'")},n.ngInjectableDef=bn({token:n,providedIn:"root",factory:function(){return new n([new Et])}}),n}(),Dt=[new Et],Nt=new At([new wt]),Rt=new Ot(Dt),Mt=function(){function n(){}return n.__NG_ELEMENT_ID__=function(){return Vt(n,pt)},n}(),Vt=dt,jt=function(){function n(){}return n.__NG_ELEMENT_ID__=function(){return zt(n,pt)},n}(),zt=dt;function Lt(n,e,t,l){var r="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+t+"'.";return l&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(n,e){var t=new Error(n);return Ut(t,e),t}(r,n)}function Ut(n,e){n[Xn]=e,n[Yn]=e.logError.bind(e)}function Ft(n){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+n)}function Ht(n,e,t){var l=n.state,r=1792&l;return r===e?(n.state=-1793&l|t,n.initIndex=-1,!0):r===t}function Bt(n,e,t){return(1792&n.state)===e&&n.initIndex<=t&&(n.initIndex=t+1,!0)}function $t(n,e){return n.nodes[e]}function Wt(n,e){return n.nodes[e]}function qt(n,e){return n.nodes[e]}function Gt(n,e){return n.nodes[e]}function Zt(n,e){return n.nodes[e]}var Qt={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Kt=function(){},Xt=new Map;function Jt(n){var e=Xt.get(n);return e||(e=_n(n)+"_"+Xt.size,Xt.set(n,e)),e}function Yt(n,e,t,l){if(Xe.isWrapped(l)){l=Xe.unwrap(l);var r=n.def.nodes[e].bindingIndex+t,i=Xe.unwrap(n.oldValues[r]);n.oldValues[r]=new Xe(i)}return l}var nl="$$undefined",el="$$empty";function tl(n){return{id:nl,styles:n.styles,encapsulation:n.encapsulation,data:n.data}}var ll=0;function rl(n,e,t,l){return!(!(2&n.state)&&Qe(n.oldValues[e.bindingIndex+t],l))}function il(n,e,t,l){return!!rl(n,e,t,l)&&(n.oldValues[e.bindingIndex+t]=l,!0)}function ol(n,e,t,l){var r=n.oldValues[e.bindingIndex+t];if(1&n.state||!Ke(r,l)){var i=e.bindings[t].name;throw Lt(Qt.createDebugContext(n,e.nodeIndex),i+": "+r,i+": "+l,0!=(1&n.state))}}function ul(n){for(var e=n;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function al(n,e){for(var t=n;t&&t!==e;)t.state|=64,t=t.viewContainerParent||t.parent}function sl(n,e,t,l){try{return ul(33554432&n.def.nodes[e].flags?Wt(n,e).componentView:n),Qt.handleEvent(n,e,t,l)}catch(r){n.root.errorHandler.handleError(r)}}function cl(n){return n.parent?Wt(n.parent,n.parentNodeDef.nodeIndex):null}function dl(n){return n.parent?n.parentNodeDef.parent:null}function pl(n,e){switch(201347067&e.flags){case 1:return Wt(n,e.nodeIndex).renderElement;case 2:return $t(n,e.nodeIndex).renderText}}function hl(n){return!!n.parent&&!!(32768&n.parentNodeDef.flags)}function fl(n){return!(!n.parent||32768&n.parentNodeDef.flags)}function ml(n){return 1<<n%32}function gl(n){var e={},t=0,l={};return n&&n.forEach((function(n){var r=u(n,2),i=r[0],o=r[1];"number"==typeof i?(e[i]=o,t|=ml(i)):l[i]=o})),{matchedQueries:e,references:l,matchedQueryIds:t}}function vl(n,e){return n.map((function(n){var t,l,r;return Array.isArray(n)?(r=(t=u(n,2))[0],l=t[1]):(r=0,l=n),l&&("function"==typeof l||"object"==typeof l)&&e&&Object.defineProperty(l,jn,{value:e,configurable:!0}),{flags:r,token:l,tokenKey:Jt(l)}}))}function yl(n,e,t){var l=t.renderParent;return l?0==(1&l.flags)||0==(33554432&l.flags)||l.element.componentRendererType&&l.element.componentRendererType.encapsulation===Qn.Native?Wt(n,t.renderParent.nodeIndex).renderElement:void 0:e}var bl=new WeakMap;function wl(n){var e=bl.get(n);return e||((e=n((function(){return Kt}))).factory=n,bl.set(n,e)),e}function xl(n,e,t,l,r){3===e&&(t=n.renderer.parentNode(pl(n,n.def.lastRenderRootNode))),_l(n,e,0,n.def.nodes.length-1,t,l,r)}function _l(n,e,t,l,r,i,o){for(var u=t;u<=l;u++){var a=n.def.nodes[u];11&a.flags&&Sl(n,a,e,r,i,o),u+=a.childCount}}function Cl(n,e,t,l,r,i){for(var o=n;o&&!hl(o);)o=o.parent;for(var u=o.parent,a=dl(o),s=a.nodeIndex+a.childCount,c=a.nodeIndex+1;c<=s;c++){var d=u.def.nodes[c];d.ngContentIndex===e&&Sl(u,d,t,l,r,i),c+=d.childCount}if(!u.parent){var p=n.root.projectableNodes[e];if(p)for(c=0;c<p.length;c++)Il(n,p[c],t,l,r,i)}}function Sl(n,e,t,l,r,i){if(8&e.flags)Cl(n,e.ngContent.index,t,l,r,i);else{var o=pl(n,e);if(3===t&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Il(n,o,t,l,r,i),32&e.bindingFlags&&Il(Wt(n,e.nodeIndex).componentView,o,t,l,r,i)):Il(n,o,t,l,r,i),16777216&e.flags)for(var u=Wt(n,e.nodeIndex).viewContainer._embeddedViews,a=0;a<u.length;a++)xl(u[a],t,l,r,i);1&e.flags&&!e.element.name&&_l(n,t,e.nodeIndex+1,e.nodeIndex+e.childCount,l,r,i)}}function Il(n,e,t,l,r,i){var o=n.renderer;switch(t){case 1:o.appendChild(l,e);break;case 2:o.insertBefore(l,e,r);break;case 3:o.removeChild(l,e);break;case 0:i.push(e)}}var kl=/^:([^:]+):(.+)$/;function El(n){if(":"===n[0]){var e=n.match(kl);return[e[1],e[2]]}return["",n]}function Tl(n){for(var e=0,t=0;t<n.length;t++)e|=n[t].flags;return e}function Pl(n,e,t,l,r,i,o,u,a,s,c,d,p,h,f,m,g,v,y,b){switch(n){case 1:return e+Al(t)+l;case 2:return e+Al(t)+l+Al(r)+i;case 3:return e+Al(t)+l+Al(r)+i+Al(o)+u;case 4:return e+Al(t)+l+Al(r)+i+Al(o)+u+Al(a)+s;case 5:return e+Al(t)+l+Al(r)+i+Al(o)+u+Al(a)+s+Al(c)+d;case 6:return e+Al(t)+l+Al(r)+i+Al(o)+u+Al(a)+s+Al(c)+d+Al(p)+h;case 7:return e+Al(t)+l+Al(r)+i+Al(o)+u+Al(a)+s+Al(c)+d+Al(p)+h+Al(f)+m;case 8:return e+Al(t)+l+Al(r)+i+Al(o)+u+Al(a)+s+Al(c)+d+Al(p)+h+Al(f)+m+Al(g)+v;case 9:return e+Al(t)+l+Al(r)+i+Al(o)+u+Al(a)+s+Al(c)+d+Al(p)+h+Al(f)+m+Al(g)+v+Al(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function Al(n){return null!=n?n.toString():""}var Ol=new Object,Dl=Jt(ze),Nl=Jt(Nn),Rl=Jt(Wn);function Ml(n,e,t,l){return t=In(t),{index:-1,deps:vl(l,_n(e)),flags:n,token:e,value:t}}function Vl(n,e,t){void 0===t&&(t=ze.THROW_IF_NOT_FOUND);var l,r,i=Un(n);try{if(8&e.flags)return e.token;if(2&e.flags&&(t=null),1&e.flags)return n._parent.get(e.token,t);var o=e.tokenKey;switch(o){case Dl:case Nl:case Rl:return n}var u,a=n._def.providersByKey[o];if(a){var s=n._providers[a.index];return void 0===s&&(s=n._providers[a.index]=jl(n,a)),s===Ol?void 0:s}if((u=wn(e.token))&&(l=n,null!=(r=u).providedIn&&(function(n,e){return n._def.modules.indexOf(e)>-1}(l,r.providedIn)||"root"===r.providedIn&&l._def.isRoot))){var c=n._providers.length;return n._def.providers[c]=n._def.providersByKey[e.tokenKey]={flags:5120,value:u.factory,deps:[],index:c,token:e.token},n._providers[c]=Ol,n._providers[c]=jl(n,n._def.providersByKey[e.tokenKey])}return 4&e.flags?t:n._parent.get(e.token,t)}finally{Un(i)}}function jl(n,e){var t;switch(201347067&e.flags){case 512:t=function(n,e,t){var l=t.length;switch(l){case 0:return new e;case 1:return new e(Vl(n,t[0]));case 2:return new e(Vl(n,t[0]),Vl(n,t[1]));case 3:return new e(Vl(n,t[0]),Vl(n,t[1]),Vl(n,t[2]));default:for(var r=new Array(l),i=0;i<l;i++)r[i]=Vl(n,t[i]);return new(e.bind.apply(e,a([void 0],r)))}}(n,e.value,e.deps);break;case 1024:t=function(n,e,t){var l=t.length;switch(l){case 0:return e();case 1:return e(Vl(n,t[0]));case 2:return e(Vl(n,t[0]),Vl(n,t[1]));case 3:return e(Vl(n,t[0]),Vl(n,t[1]),Vl(n,t[2]));default:for(var r=Array(l),i=0;i<l;i++)r[i]=Vl(n,t[i]);return e.apply(void 0,a(r))}}(n,e.value,e.deps);break;case 2048:t=Vl(n,e.deps[0]);break;case 256:t=e.value}return t===Ol||null===t||"object"!=typeof t||131072&e.flags||"function"!=typeof t.ngOnDestroy||(e.flags|=131072),void 0===t?Ol:t}function zl(n,e){var t=n.viewContainer._embeddedViews;if((null==e||e>=t.length)&&(e=t.length-1),e<0)return null;var l=t[e];return l.viewContainerParent=null,Zn(t,e),Qt.dirtyParentQueries(l),Ul(l),l}function Ll(n,e,t){var l=e?pl(e,e.def.lastRenderRootNode):n.renderElement,r=t.renderer.parentNode(l),i=t.renderer.nextSibling(l);xl(t,2,r,i,void 0)}function Ul(n){xl(n,3,null,null,void 0)}var Fl=new Object;function Hl(n,e,t,l,r,i){return new Bl(n,e,t,l,r,i)}var Bl=function(n){function e(e,t,l,r,i,o){var u=n.call(this)||this;return u.selector=e,u.componentType=t,u._inputs=r,u._outputs=i,u.ngContentSelectors=o,u.viewDefFactory=l,u}return r(e,n),Object.defineProperty(e.prototype,"inputs",{get:function(){var n=[],e=this._inputs;for(var t in e)n.push({propName:t,templateName:e[t]});return n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var n=[];for(var e in this._outputs)n.push({propName:e,templateName:this._outputs[e]});return n},enumerable:!0,configurable:!0}),e.prototype.create=function(n,e,t,l){if(!l)throw new Error("ngModule should be provided");var r=wl(this.viewDefFactory),i=r.nodes[0].element.componentProvider.nodeIndex,o=Qt.createRootView(n,e||[],t,r,l,Fl),u=qt(o,i).instance;return t&&o.renderer.setAttribute(Wt(o,0).renderElement,"ng-version",bt.full),new $l(o,new Zl(o),u)},e}(rt),$l=function(n){function e(e,t,l){var r=n.call(this)||this;return r._view=e,r._viewRef=t,r._component=l,r._elDef=r._view.def.nodes[0],r.hostView=t,r.changeDetectorRef=t,r.instance=l,r}return r(e,n),Object.defineProperty(e.prototype,"location",{get:function(){return new pt(Wt(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Jl(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(n){this._viewRef.onDestroy(n)},e}(lt);function Wl(n,e,t){return new ql(n,e,t)}var ql=function(){function n(n,e,t){this._view=n,this._elDef=e,this._data=t,this._embeddedViews=[]}return Object.defineProperty(n.prototype,"element",{get:function(){return new pt(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return new Jl(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentInjector",{get:function(){for(var n=this._view,e=this._elDef.parent;!e&&n;)e=dl(n),n=n.parent;return n?new Jl(n,e):new Jl(this._view,null)},enumerable:!0,configurable:!0}),n.prototype.clear=function(){for(var n=this._embeddedViews.length-1;n>=0;n--){var e=zl(this._data,n);Qt.destroyView(e)}},n.prototype.get=function(n){var e=this._embeddedViews[n];if(e){var t=new Zl(e);return t.attachToViewContainerRef(this),t}return null},Object.defineProperty(n.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),n.prototype.createEmbeddedView=function(n,e,t){var l=n.createEmbeddedView(e||{});return this.insert(l,t),l},n.prototype.createComponent=function(n,e,t,l,r){var i=t||this.parentInjector;r||n instanceof ct||(r=i.get(Wn));var o=n.create(i,l,void 0,r);return this.insert(o.hostView,e),o},n.prototype.insert=function(n,e){if(n.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var t,l,r,i,o=n;return i=(t=this._data).viewContainer._embeddedViews,null==(l=e)&&(l=i.length),(r=o._view).viewContainerParent=this._view,Gn(i,l,r),function(n,e){var t=cl(e);if(t&&t!==n&&!(16&e.state)){e.state|=16;var l=t.template._projectedViews;l||(l=t.template._projectedViews=[]),l.push(e),function(n,e){if(!(4&e.flags)){n.nodeFlags|=4,e.flags|=4;for(var t=e.parent;t;)t.childFlags|=4,t=t.parent}}(e.parent.def,e.parentNodeDef)}}(t,r),Qt.dirtyParentQueries(r),Ll(t,l>0?i[l-1]:null,r),o.attachToViewContainerRef(this),n},n.prototype.move=function(n,e){if(n.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var t,l,r,i,o,u=this._embeddedViews.indexOf(n._view);return r=e,o=(i=(t=this._data).viewContainer._embeddedViews)[l=u],Zn(i,l),null==r&&(r=i.length),Gn(i,r,o),Qt.dirtyParentQueries(o),Ul(o),Ll(t,r>0?i[r-1]:null,o),n},n.prototype.indexOf=function(n){return this._embeddedViews.indexOf(n._view)},n.prototype.remove=function(n){var e=zl(this._data,n);e&&Qt.destroyView(e)},n.prototype.detach=function(n){var e=zl(this._data,n);return e?new Zl(e):null},n}();function Gl(n){return new Zl(n)}var Zl=function(){function n(n){this._view=n,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(n.prototype,"rootNodes",{get:function(){return xl(this._view,0,void 0,void 0,n=[]),n;var n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),n.prototype.markForCheck=function(){ul(this._view)},n.prototype.detach=function(){this._view.state&=-5},n.prototype.detectChanges=function(){var n=this._view.root.rendererFactory;n.begin&&n.begin();try{Qt.checkAndUpdateView(this._view)}finally{n.end&&n.end()}},n.prototype.checkNoChanges=function(){Qt.checkNoChangesView(this._view)},n.prototype.reattach=function(){this._view.state|=4},n.prototype.onDestroy=function(n){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(n)},n.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Qt.destroyView(this._view)},n.prototype.detachFromAppRef=function(){this._appRef=null,Ul(this._view),Qt.dirtyParentQueries(this._view)},n.prototype.attachToAppRef=function(n){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n},n.prototype.attachToViewContainerRef=function(n){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=n},n}();function Ql(n,e){return new Kl(n,e)}var Kl=function(n){function e(e,t){var l=n.call(this)||this;return l._parentView=e,l._def=t,l}return r(e,n),e.prototype.createEmbeddedView=function(n){return new Zl(Qt.createEmbeddedView(this._parentView,this._def,this._def.element.template,n))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new pt(Wt(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Mt);function Xl(n,e){return new Jl(n,e)}var Jl=function(){function n(n,e){this.view=n,this.elDef=e}return n.prototype.get=function(n,e){return void 0===e&&(e=ze.THROW_IF_NOT_FOUND),Qt.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:n,tokenKey:Jt(n)},e)},n}();function Yl(n,e){var t=n.def.nodes[e];if(1&t.flags){var l=Wt(n,t.nodeIndex);return t.element.template?l.template:l.renderElement}if(2&t.flags)return $t(n,t.nodeIndex).renderText;if(20240&t.flags)return qt(n,t.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function nr(n){return new er(n.renderer)}var er=function(){function n(n){this.delegate=n}return n.prototype.selectRootElement=function(n){return this.delegate.selectRootElement(n)},n.prototype.createElement=function(n,e){var t=u(El(e),2),l=this.delegate.createElement(t[1],t[0]);return n&&this.delegate.appendChild(n,l),l},n.prototype.createViewRoot=function(n){return n},n.prototype.createTemplateAnchor=function(n){var e=this.delegate.createComment("");return n&&this.delegate.appendChild(n,e),e},n.prototype.createText=function(n,e){var t=this.delegate.createText(e);return n&&this.delegate.appendChild(n,t),t},n.prototype.projectNodes=function(n,e){for(var t=0;t<e.length;t++)this.delegate.appendChild(n,e[t])},n.prototype.attachViewAfter=function(n,e){for(var t=this.delegate.parentNode(n),l=this.delegate.nextSibling(n),r=0;r<e.length;r++)this.delegate.insertBefore(t,e[r],l)},n.prototype.detachView=function(n){for(var e=0;e<n.length;e++){var t=n[e],l=this.delegate.parentNode(t);this.delegate.removeChild(l,t)}},n.prototype.destroyView=function(n,e){for(var t=0;t<e.length;t++)this.delegate.destroyNode(e[t])},n.prototype.listen=function(n,e,t){return this.delegate.listen(n,e,t)},n.prototype.listenGlobal=function(n,e,t){return this.delegate.listen(n,e,t)},n.prototype.setElementProperty=function(n,e,t){this.delegate.setProperty(n,e,t)},n.prototype.setElementAttribute=function(n,e,t){var l=u(El(e),2),r=l[0],i=l[1];null!=t?this.delegate.setAttribute(n,i,t,r):this.delegate.removeAttribute(n,i,r)},n.prototype.setBindingDebugInfo=function(n,e,t){},n.prototype.setElementClass=function(n,e,t){t?this.delegate.addClass(n,e):this.delegate.removeClass(n,e)},n.prototype.setElementStyle=function(n,e,t){null!=t?this.delegate.setStyle(n,e,t):this.delegate.removeStyle(n,e)},n.prototype.invokeElementMethod=function(n,e,t){n[e].apply(n,t)},n.prototype.setText=function(n,e){this.delegate.setValue(n,e)},n.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},n}();function tr(n,e,t,l){return new lr(n,e,t,l)}var lr=function(){function n(n,e,t,l){this._moduleType=n,this._parent=e,this._bootstrapComponents=t,this._def=l,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(n){for(var e=n._def,t=n._providers=new Array(e.providers.length),l=0;l<e.providers.length;l++){var r=e.providers[l];4096&r.flags||void 0===t[l]&&(t[l]=jl(n,r))}}(this)}return n.prototype.get=function(n,e,t){void 0===e&&(e=ze.THROW_IF_NOT_FOUND),void 0===t&&(t=vn.Default);var l=0;return t&vn.SkipSelf?l|=1:t&vn.Self&&(l|=4),Vl(this,{token:n,tokenKey:Jt(n),flags:l},e)},Object.defineProperty(n.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"componentFactoryResolver",{get:function(){return this.get(at)},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+_n(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(n,e){for(var t=n._def,l=new Set,r=0;r<t.providers.length;r++)if(131072&t.providers[r].flags){var i=n._providers[r];if(i&&i!==Ol){var o=i.ngOnDestroy;"function"!=typeof o||l.has(i)||(o.apply(i),l.add(i))}}}(this),this._destroyListeners.forEach((function(n){return n()}))},n.prototype.onDestroy=function(n){this._destroyListeners.push(n)},n}(),rr=Jt(ft),ir=Jt(vt),or=Jt(pt),ur=Jt(jt),ar=Jt(Mt),sr=Jt(Re),cr=Jt(ze),dr=Jt(Nn);function pr(n,e,t,l,r,i,o,a){var s=[];if(o)for(var c in o){var d=u(o[c],2);s[d[0]]={flags:8,name:c,nonMinifiedName:d[1],ns:null,securityContext:null,suffix:null}}var p=[];if(a)for(var h in a)p.push({type:1,propName:h,target:null,eventName:a[h]});return mr(n,e|=16384,t,l,r,r,i,s,p)}function hr(n,e,t){return mr(-1,n|=16,null,0,e,e,t)}function fr(n,e,t,l,r){return mr(-1,n,e,0,t,l,r)}function mr(n,e,t,l,r,i,o,u,a){var s=gl(t),c=s.matchedQueries,d=s.references,p=s.matchedQueryIds;a||(a=[]),u||(u=[]),i=In(i);var h=vl(o,_n(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:p,references:d,ngContentIndex:-1,childCount:l,bindings:u,bindingFlags:Tl(u),outputs:a,element:null,provider:{token:r,value:i,deps:h},text:null,query:null,ngContent:null}}function gr(n,e){return wr(n,e)}function vr(n,e){for(var t=n;t.parent&&!hl(t);)t=t.parent;return xr(t.parent,dl(t),!0,e.provider.value,e.provider.deps)}function yr(n,e){var t=xr(n,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var l=0;l<e.outputs.length;l++){var r=e.outputs[l],i=t[r.propName];if(!et(i))throw new Error("@Output "+r.propName+" not initialized in '"+t.constructor.name+"'.");var o=i.subscribe(br(n,e.parent.nodeIndex,r.eventName));n.disposables[e.outputIndex+l]=o.unsubscribe.bind(o)}return t}function br(n,e,t){return function(l){return sl(n,e,t,l)}}function wr(n,e){var t=(8192&e.flags)>0,l=e.provider;switch(201347067&e.flags){case 512:return xr(n,e.parent,t,l.value,l.deps);case 1024:return function(n,e,t,l,r){var i=r.length;switch(i){case 0:return l();case 1:return l(Cr(n,e,t,r[0]));case 2:return l(Cr(n,e,t,r[0]),Cr(n,e,t,r[1]));case 3:return l(Cr(n,e,t,r[0]),Cr(n,e,t,r[1]),Cr(n,e,t,r[2]));default:for(var o=Array(i),u=0;u<i;u++)o[u]=Cr(n,e,t,r[u]);return l.apply(void 0,a(o))}}(n,e.parent,t,l.value,l.deps);case 2048:return Cr(n,e.parent,t,l.deps[0]);case 256:return l.value}}function xr(n,e,t,l,r){var i=r.length;switch(i){case 0:return new l;case 1:return new l(Cr(n,e,t,r[0]));case 2:return new l(Cr(n,e,t,r[0]),Cr(n,e,t,r[1]));case 3:return new l(Cr(n,e,t,r[0]),Cr(n,e,t,r[1]),Cr(n,e,t,r[2]));default:for(var o=new Array(i),u=0;u<i;u++)o[u]=Cr(n,e,t,r[u]);return new(l.bind.apply(l,a([void 0],o)))}}var _r={};function Cr(n,e,t,l,r){if(void 0===r&&(r=ze.THROW_IF_NOT_FOUND),8&l.flags)return l.token;var i=n;2&l.flags&&(r=null);var o=l.tokenKey;o===sr&&(t=!(!e||!e.element.componentView)),e&&1&l.flags&&(t=!1,e=e.parent);for(var u=n;u;){if(e)switch(o){case rr:return nr(Sr(u,e,t));case ir:return Sr(u,e,t).renderer;case or:return new pt(Wt(u,e.nodeIndex).renderElement);case ur:return Wt(u,e.nodeIndex).viewContainer;case ar:if(e.element.template)return Wt(u,e.nodeIndex).template;break;case sr:return Gl(Sr(u,e,t));case cr:case dr:return Xl(u,e);default:var a=(t?e.element.allProviders:e.element.publicProviders)[o];if(a){var s=qt(u,a.nodeIndex);return s||(s={instance:wr(u,a)},u.nodes[a.nodeIndex]=s),s.instance}}t=hl(u),e=dl(u),u=u.parent,4&l.flags&&(u=null)}var c=i.root.injector.get(l.token,_r);return c!==_r||r===_r?c:i.root.ngModule.injector.get(l.token,r)}function Sr(n,e,t){var l;if(t)l=Wt(n,e.nodeIndex).componentView;else for(l=n;l.parent&&!hl(l);)l=l.parent;return l}function Ir(n,e,t,l,r,i){if(32768&t.flags){var o=Wt(n,t.parent.nodeIndex).componentView;2&o.def.flags&&(o.state|=8)}if(e.instance[t.bindings[l].name]=r,524288&t.flags){i=i||{};var u=Xe.unwrap(n.oldValues[t.bindingIndex+l]);i[t.bindings[l].nonMinifiedName]=new tt(u,r,0!=(2&n.state))}return n.oldValues[t.bindingIndex+l]=r,i}function kr(n,e){if(n.def.nodeFlags&e)for(var t=n.def.nodes,l=0,r=0;r<t.length;r++){var i=t[r],o=i.parent;for(!o&&i.flags&e&&Tr(n,r,i.flags&e,l++),0==(i.childFlags&e)&&(r+=i.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(l=Er(n,o,e,l)),o=o.parent}}function Er(n,e,t,l){for(var r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){var i=n.def.nodes[r];i.flags&t&&Tr(n,r,i.flags&t,l++),r+=i.childCount}return l}function Tr(n,e,t,l){var r=qt(n,e);if(r){var i=r.instance;i&&(Qt.setCurrentNode(n,e),1048576&t&&Bt(n,512,l)&&i.ngAfterContentInit(),2097152&t&&i.ngAfterContentChecked(),4194304&t&&Bt(n,768,l)&&i.ngAfterViewInit(),8388608&t&&i.ngAfterViewChecked(),131072&t&&i.ngOnDestroy())}}var Pr=new Dn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Kn}}),Ar={},Or=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencySymbol=15]="CurrencySymbol",n[n.CurrencyName=16]="CurrencyName",n[n.Currencies=17]="Currencies",n[n.PluralCase=18]="PluralCase",n[n.ExtraData=19]="ExtraData",n}({}),Dr=void 0,Nr=["en",[["a","p"],["AM","PM"],Dr],[["AM","PM"],Dr,Dr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dr,"{1} 'at' {0}",Dr],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"$","US Dollar",{},function(n){var e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}],Rr="en-US";function Mr(n){var e;e="Expected localeId to be defined",null==n&&function(n){throw new Error("ASSERTION ERROR: "+n)}(e),"string"==typeof n&&n.toLowerCase().replace(/_/g,"-")}var Vr=function(n){function e(e){void 0===e&&(e=!1);var t=n.call(this)||this;return t.__isAsync=e,t}return r(e,n),e.prototype.emit=function(e){n.prototype.next.call(this,e)},e.prototype.subscribe=function(e,t,l){var r,i=function(n){return null},o=function(){return null};e&&"object"==typeof e?(r=this.__isAsync?function(n){setTimeout((function(){return e.next(n)}))}:function(n){e.next(n)},e.error&&(i=this.__isAsync?function(n){setTimeout((function(){return e.error(n)}))}:function(n){e.error(n)}),e.complete&&(o=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(r=this.__isAsync?function(n){setTimeout((function(){return e(n)}))}:function(n){e(n)},t&&(i=this.__isAsync?function(n){setTimeout((function(){return t(n)}))}:function(n){t(n)}),l&&(o=this.__isAsync?function(){setTimeout((function(){return l()}))}:function(){l()}));var u=n.prototype.subscribe.call(this,r,i,o);return e instanceof f&&e.add(u),u},e}(N);function jr(){return this._results[Ze()]()}var zr=function(){function n(){this.dirty=!0,this._results=[],this.changes=new Vr,this.length=0;var e=Ze(),t=n.prototype;t[e]||(t[e]=jr)}return n.prototype.map=function(n){return this._results.map(n)},n.prototype.filter=function(n){return this._results.filter(n)},n.prototype.find=function(n){return this._results.find(n)},n.prototype.reduce=function(n,e){return this._results.reduce(n,e)},n.prototype.forEach=function(n){this._results.forEach(n)},n.prototype.some=function(n){return this._results.some(n)},n.prototype.toArray=function(){return this._results.slice()},n.prototype.toString=function(){return this._results.toString()},n.prototype.reset=function(n){this._results=function n(e,t){void 0===t&&(t=e);for(var l=0;l<e.length;l++){var r=e[l];Array.isArray(r)?(t===e&&(t=e.slice(0,l)),n(r,t)):t!==e&&t.push(r)}return t}(n),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},n.prototype.notifyOnChanges=function(){this.changes.emit(this)},n.prototype.setDirty=function(){this.dirty=!0},n.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},n}(),Lr=new Dn("Application Initializer"),Ur=function(){function n(n){var e=this;this.appInits=n,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(n,t){e.resolve=n,e.reject=t}))}return n.prototype.runInitializers=function(){var n=this;if(!this.initialized){var e=[],t=function(){n.done=!0,n.resolve()};if(this.appInits)for(var l=0;l<this.appInits.length;l++){var r=this.appInits[l]();nt(r)&&e.push(r)}Promise.all(e).then((function(){t()})).catch((function(e){n.reject(e)})),0===e.length&&t(),this.initialized=!0}},n}(),Fr=new Dn("AppId");function Hr(){return""+Br()+Br()+Br()}function Br(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var $r=new Dn("Platform Initializer"),Wr=new Dn("Platform ID"),qr=new Dn("appBootstrapListener"),Gr=function(){function n(){}return n.prototype.log=function(n){console.log(n)},n.prototype.warn=function(n){console.warn(n)},n}(),Zr=new Dn("LocaleId"),Qr=!1;function Kr(){throw new Error("Runtime compiler is not loaded")}var Xr,Jr,Yr=Kr,ni=Kr,ei=Kr,ti=Kr,li=function(){function n(){this.compileModuleSync=Yr,this.compileModuleAsync=ni,this.compileModuleAndAllComponentsSync=ei,this.compileModuleAndAllComponentsAsync=ti}return n.prototype.clearCache=function(){},n.prototype.clearCacheFor=function(n){},n.prototype.getModuleId=function(n){},n}(),ri=function(){return function(){}}();function ii(){var n=On.wtf;return!(!n||!(Xr=n.trace)||(Jr=Xr.events,0))}var oi=ii();function ui(n,e){return null}var ai=oi?function(n,e){return void 0===e&&(e=null),Jr.createScope(n,e)}:function(n,e){return ui},si=oi?function(n,e){return Xr.leaveScope(n,e),e}:function(n,e){return e},ci=function(){return Promise.resolve(0)}();function di(n){"undefined"==typeof Zone?ci.then((function(){n&&n.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}var pi=function(){function n(n){var e,t=n.enableLongStackTrace,l=void 0!==t&&t;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vr(!1),this.onMicrotaskEmpty=new Vr(!1),this.onStable=new Vr(!1),this.onError=new Vr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(n,t,l,r,i,o){try{return gi(e),n.invokeTask(l,r,i,o)}finally{vi(e)}},onInvoke:function(n,t,l,r,i,o,u){try{return gi(e),n.invoke(l,r,i,o,u)}finally{vi(e)}},onHasTask:function(n,t,l,r){n.hasTask(l,r),t===l&&("microTask"==r.change?(e.hasPendingMicrotasks=r.microTask,mi(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:function(n,t,l,r){return n.handleError(l,r),e.runOutsideAngular((function(){return e.onError.emit(r)})),!1}})}return n.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},n.assertInAngularZone=function(){if(!n.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},n.assertNotInAngularZone=function(){if(n.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},n.prototype.run=function(n,e,t){return this._inner.run(n,e,t)},n.prototype.runTask=function(n,e,t,l){var r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+l,n,fi,hi,hi);try{return r.runTask(i,e,t)}finally{r.cancelTask(i)}},n.prototype.runGuarded=function(n,e,t){return this._inner.runGuarded(n,e,t)},n.prototype.runOutsideAngular=function(n){return this._outer.run(n)},n}();function hi(){}var fi={};function mi(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular((function(){return n.onStable.emit(null)}))}finally{n.isStable=!0}}}function gi(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vi(n){n._nesting--,mi(n)}var yi,bi=function(){function n(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vr,this.onMicrotaskEmpty=new Vr,this.onStable=new Vr,this.onError=new Vr}return n.prototype.run=function(n){return n()},n.prototype.runGuarded=function(n){return n()},n.prototype.runOutsideAngular=function(n){return n()},n.prototype.runTask=function(n){return n()},n}(),wi=function(){function n(n){var e=this;this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run((function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return n.prototype._watchAngularEvents=function(){var n=this;this._ngZone.onUnstable.subscribe({next:function(){n._didWork=!0,n._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){n._ngZone.onStable.subscribe({next:function(){pi.assertNotInAngularZone(),di((function(){n._isZoneStable=!0,n._runCallbacksIfReady()}))}})}))},n.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},n.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},n.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},n.prototype._runCallbacksIfReady=function(){var n=this;if(this.isStable())di((function(){for(;0!==n._callbacks.length;){var e=n._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(n._didWork)}n._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(n){return!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)})),this._didWork=!0}},n.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(n){return{source:n.source,creationLocation:n.creationLocation,data:n.data}})):[]},n.prototype.addCallback=function(n,e,t){var l=this,r=-1;e&&e>0&&(r=setTimeout((function(){l._callbacks=l._callbacks.filter((function(n){return n.timeoutId!==r})),n(l._didWork,l.getPendingTasks())}),e)),this._callbacks.push({doneCb:n,timeoutId:r,updateCb:t})},n.prototype.whenStable=function(n,e,t){if(t&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(n,e,t),this._runCallbacksIfReady()},n.prototype.getPendingRequestCount=function(){return this._pendingCount},n.prototype.findProviders=function(n,e,t){return[]},n}(),xi=function(){function n(){this._applications=new Map,_i.addToWindow(this)}return n.prototype.registerApplication=function(n,e){this._applications.set(n,e)},n.prototype.unregisterApplication=function(n){this._applications.delete(n)},n.prototype.unregisterAllApplications=function(){this._applications.clear()},n.prototype.getTestability=function(n){return this._applications.get(n)||null},n.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},n.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},n.prototype.findTestabilityInTree=function(n,e){return void 0===e&&(e=!0),_i.findTestabilityInTree(this,n,e)},n}(),_i=new(function(){function n(){}return n.prototype.addToWindow=function(n){},n.prototype.findTestabilityInTree=function(n,e,t){return null},n}()),Ci=new Dn("AllowMultipleToken"),Si=function(){return function(n,e){this.name=n,this.token=e}}();function Ii(n,e,t){void 0===t&&(t=[]);var l="Platform: "+e,r=new Dn(l);return function(e){void 0===e&&(e=[]);var i=ki();if(!i||i.injector.get(Ci,!1))if(n)n(t.concat(e).concat({provide:r,useValue:!0}));else{var o=t.concat(e).concat({provide:r,useValue:!0});!function(n){if(yi&&!yi.destroyed&&!yi.injector.get(Ci,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yi=n.get(Ei);var e=n.get($r,null);e&&e.forEach((function(n){return n()}))}(ze.create({providers:o,name:l}))}return function(n){var e=ki();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function ki(){return yi&&!yi.destroyed?yi:null}var Ei=function(){function n(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return n.prototype.bootstrapModuleFactory=function(n,e){var t,l=this,r="noop"===(t=e?e.ngZone:void 0)?new bi:("zone.js"===t?void 0:t)||new pi({enableLongStackTrace:oe()}),i=[{provide:pi,useValue:r}];return r.run((function(){var e=ze.create({providers:i,parent:l.injector,name:n.moduleType.name}),t=n.create(e),o=t.injector.get(le,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Qr&&Mr(t.injector.get(Zr,Rr)||Rr),t.onDestroy((function(){return Ai(l._modules,t)})),r.runOutsideAngular((function(){return r.onError.subscribe({next:function(n){o.handleError(n)}})})),function(n,e,r){try{var i=((o=t.injector.get(Ur)).runInitializers(),o.donePromise.then((function(){return l._moduleDoBootstrap(t),t})));return nt(i)?i.catch((function(t){throw e.runOutsideAngular((function(){return n.handleError(t)})),t})):i}catch(u){throw e.runOutsideAngular((function(){return n.handleError(u)})),u}var o}(o,r)}))},n.prototype.bootstrapModule=function(n,e){var t=this;void 0===e&&(e=[]);var l=Ti({},e);return function(n,e,t){return n.get(ri).createCompiler([e]).compileModuleAsync(t)}(this.injector,l,n).then((function(n){return t.bootstrapModuleFactory(n,l)}))},n.prototype._moduleDoBootstrap=function(n){var e=n.injector.get(Pi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach((function(n){return e.bootstrap(n)}));else{if(!n.instance.ngDoBootstrap)throw new Error("The module "+_n(n.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');n.instance.ngDoBootstrap(e)}this._modules.push(n)},n.prototype.onDestroy=function(n){this._destroyListeners.push(n)},Object.defineProperty(n.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(n){return n.destroy()})),this._destroyListeners.forEach((function(n){return n()})),this._destroyed=!0},Object.defineProperty(n.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),n}();function Ti(n,e){return Array.isArray(e)?e.reduce(Ti,n):i({},n,e)}var Pi=function(){function n(n,e,t,l,r,i){var o=this;this._zone=n,this._console=e,this._injector=t,this._exceptionHandler=l,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=oe(),this._zone.onMicrotaskEmpty.subscribe({next:function(){o._zone.run((function(){o.tick()}))}});var u=new E((function(n){o._stable=o._zone.isStable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks,o._zone.runOutsideAngular((function(){n.next(o._stable),n.complete()}))})),a=new E((function(n){var e;o._zone.runOutsideAngular((function(){e=o._zone.onStable.subscribe((function(){pi.assertNotInAngularZone(),di((function(){o._stable||o._zone.hasPendingMacrotasks||o._zone.hasPendingMicrotasks||(o._stable=!0,n.next(!0))}))}))}));var t=o._zone.onUnstable.subscribe((function(){pi.assertInAngularZone(),o._stable&&(o._stable=!1,o._zone.runOutsideAngular((function(){n.next(!1)})))}));return function(){e.unsubscribe(),t.unsubscribe()}}));this.isStable=tn(u,a.pipe((function(n){return ln()((e=cn,function(n){var t;t="function"==typeof e?e:function(){return e};var l=Object.create(n,an);return l.source=n,l.subjectFactory=t,l})(n));var e})))}var e;return e=n,n.prototype.bootstrap=function(n,e){var t,l=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");t=n instanceof rt?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(t.componentType);var r=t instanceof ct?null:this._injector.get(Wn),i=t.create(ze.NULL,[],e||t.selector,r);i.onDestroy((function(){l._unloadComponent(i)}));var o=i.injector.get(wi,null);return o&&i.injector.get(xi).registerApplication(i.location.nativeElement,o),this._loadComponent(i),oe()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i},n.prototype.tick=function(){var n,t,l,r,i=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var u=e._tickScope();try{this._runningTick=!0;try{for(var a=o(this._views),s=a.next();!s.done;s=a.next())s.value.detectChanges()}catch(p){n={error:p}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(n)throw n.error}}if(this._enforceNoNewChanges)try{for(var c=o(this._views),d=c.next();!d.done;d=c.next())d.value.checkNoChanges()}catch(h){l={error:h}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(l)throw l.error}}}catch(f){this._zone.runOutsideAngular((function(){return i._exceptionHandler.handleError(f)}))}finally{this._runningTick=!1,si(u)}},n.prototype.attachView=function(n){var e=n;this._views.push(e),e.attachToAppRef(this)},n.prototype.detachView=function(n){var e=n;Ai(this._views,e),e.detachFromAppRef()},n.prototype._loadComponent=function(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(qr,[]).concat(this._bootstrapListeners).forEach((function(e){return e(n)}))},n.prototype._unloadComponent=function(n){this.detachView(n.hostView),Ai(this.components,n)},n.prototype.ngOnDestroy=function(){this._views.slice().forEach((function(n){return n.destroy()}))},Object.defineProperty(n.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),n._tickScope=ai("ApplicationRef#tick()"),n}();function Ai(n,e){var t=n.indexOf(e);t>-1&&n.splice(t,1)}var Oi=function(){return function(){}}(),Di=function(){return function(){}}(),Ni={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Ri=function(){function n(n,e){this._compiler=n,this._config=e||Ni}return n.prototype.load=function(n){return!Qr&&this._compiler instanceof li?this.loadFactory(n):this.loadAndCompile(n)},n.prototype.loadAndCompile=function(n){var e=this,l=u(n.split("#"),2),r=l[0],i=l[1];return void 0===i&&(i="default"),t("RnVd")(r).then((function(n){return n[i]})).then((function(n){return Mi(n,r,i)})).then((function(n){return e._compiler.compileModuleAsync(n)}))},n.prototype.loadFactory=function(n){var e=u(n.split("#"),2),l=e[0],r=e[1],i="NgFactory";return void 0===r&&(r="default",i=""),t("RnVd")(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then((function(n){return n[r+i]})).then((function(n){return Mi(n,l,r)}))},n}();function Mi(n,e,t){if(!n)throw new Error("Cannot find '"+t+"' in '"+e+"'");return n}var Vi=function(){return function(n,e){this.name=n,this.callback=e}}(),ji=function(){function n(n,e,t){this.listeners=[],this.parent=null,this._debugContext=t,this.nativeNode=n,e&&e instanceof zi&&e.addChild(this)}return Object.defineProperty(n.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),n}(),zi=function(n){function e(e,t,l){var r=n.call(this,e,t,l)||this;return r.properties={},r.attributes={},r.classes={},r.styles={},r.childNodes=[],r.nativeElement=e,r}return r(e,n),e.prototype.addChild=function(n){n&&(this.childNodes.push(n),n.parent=this)},e.prototype.removeChild=function(n){var e=this.childNodes.indexOf(n);-1!==e&&(n.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(n,e){var t,l=this,r=this.childNodes.indexOf(n);-1!==r&&((t=this.childNodes).splice.apply(t,a([r+1,0],e)),e.forEach((function(e){e.parent&&e.parent.removeChild(e),n.parent=l})))},e.prototype.insertBefore=function(n,e){var t=this.childNodes.indexOf(n);-1===t?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(t,0,e))},e.prototype.query=function(n){return this.queryAll(n)[0]||null},e.prototype.queryAll=function(n){var e=[];return function n(e,t,l){e.childNodes.forEach((function(e){e instanceof zi&&(t(e)&&l.push(e),n(e,t,l))}))}(this,n,e),e},e.prototype.queryAllNodes=function(n){var e=[];return function n(e,t,l){e instanceof zi&&e.childNodes.forEach((function(e){t(e)&&l.push(e),e instanceof zi&&n(e,t,l)}))}(this,n,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter((function(n){return n instanceof e}))},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(n,e){this.listeners.forEach((function(t){t.name==n&&t.callback(e)}))},e}(ji),Li=new Map,Ui=function(n){return Li.get(n)||null};function Fi(n){Li.set(n.nativeNode,n)}var Hi=Ii(null,"core",[{provide:Wr,useValue:"unknown"},{provide:Ei,deps:[ze]},{provide:xi,deps:[]},{provide:Gr,deps:[]}]);function Bi(){return Nt}function $i(){return Rt}function Wi(n){return n?(Qr&&Mr(n),n):Rr}function qi(n){var e=[];return n.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(n){e.push(n)}}var Gi=function(){return function(n){}}();function Zi(n,e,t,l,r,i){n|=1;var o=gl(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:n,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o.matchedQueries,matchedQueryIds:o.matchedQueryIds,references:o.references,ngContentIndex:t,childCount:l,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?wl(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Kt},provider:null,text:null,query:null,ngContent:null}}function Qi(n,e,t,l,r,i,o,a,s,c,d,p){var h;void 0===o&&(o=[]),c||(c=Kt);var f=gl(t),m=f.matchedQueries,g=f.references,v=f.matchedQueryIds,y=null,b=null;i&&(y=(h=u(El(i),2))[0],b=h[1]),a=a||[];for(var w=new Array(a.length),x=0;x<a.length;x++){var _=u(a[x],3),C=_[0],S=_[2],I=u(El(_[1]),2),k=I[0],E=I[1],T=void 0,P=void 0;switch(15&C){case 4:P=S;break;case 1:case 8:T=S}w[x]={flags:C,ns:k,name:E,nonMinifiedName:E,securityContext:T,suffix:P}}s=s||[];var A=new Array(s.length);for(x=0;x<s.length;x++){var O=u(s[x],2);A[x]={type:0,target:O[0],eventName:O[1],propName:null}}var D=(o=o||[]).map((function(n){var e=u(n,2),t=e[1],l=u(El(e[0]),2);return[l[0],l[1],t]}));return p=function(n){if(n&&n.id===nl){var e=null!=n.encapsulation&&n.encapsulation!==Qn.None||n.styles.length||Object.keys(n.data).length;n.id=e?"c"+ll++:el}return n&&n.id===el&&(n=null),n||null}(p),d&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:m,matchedQueryIds:v,references:g,ngContentIndex:l,childCount:r,bindings:w,bindingFlags:Tl(w),outputs:A,element:{ns:y,name:b,attrs:D,template:null,componentProvider:null,componentView:d||null,componentRendererType:p,publicProviders:null,allProviders:null,handleEvent:c||Kt},provider:null,text:null,query:null,ngContent:null}}function Ki(n,e,t){var l,r=t.element,i=n.root.selectorOrNode,o=n.renderer;if(n.parent||!i){l=r.name?o.createElement(r.name,r.ns):o.createComment("");var a=yl(n,e,t);a&&o.appendChild(a,l)}else l=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Qn.ShadowDom);if(r.attrs)for(var s=0;s<r.attrs.length;s++){var c=u(r.attrs[s],3);o.setAttribute(l,c[1],c[2],c[0])}return l}function Xi(n,e,t,l){for(var r=0;r<t.outputs.length;r++){var i=t.outputs[r],o=Ji(n,t.nodeIndex,(d=i.eventName,(c=i.target)?c+":"+d:d)),u=i.target,a=n;"component"===i.target&&(u=null,a=e);var s=a.renderer.listen(u||l,i.eventName,o);n.disposables[t.outputIndex+r]=s}var c,d}function Ji(n,e,t){return function(l){return sl(n,e,t,l)}}function Yi(n,e,t,l){if(!il(n,e,t,l))return!1;var r=e.bindings[t],i=Wt(n,e.nodeIndex),o=i.renderElement,u=r.name;switch(15&r.flags){case 1:!function(n,e,t,l,r,i){var o=e.securityContext,u=o?n.root.sanitizer.sanitize(o,i):i;u=null!=u?u.toString():null;var a=n.renderer;null!=i?a.setAttribute(t,r,u,l):a.removeAttribute(t,r,l)}(n,r,o,r.ns,u,l);break;case 2:!function(n,e,t,l){var r=n.renderer;l?r.addClass(e,t):r.removeClass(e,t)}(n,o,u,l);break;case 4:!function(n,e,t,l,r){var i=n.root.sanitizer.sanitize(Te.STYLE,r);if(null!=i){i=i.toString();var o=e.suffix;null!=o&&(i+=o)}else i=null;var u=n.renderer;null!=i?u.setStyle(t,l,i):u.removeStyle(t,l)}(n,r,o,u,l);break;case 8:!function(n,e,t,l,r){var i=e.securityContext,o=i?n.root.sanitizer.sanitize(i,r):r;n.renderer.setProperty(t,l,o)}(33554432&e.flags&&32&r.flags?i.componentView:n,r,o,u,l)}return!0}function no(n,e,t){var l=[];for(var r in t)l.push({propName:r,bindingType:t[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:n,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:ml(e),bindings:l},ngContent:null}}function eo(n){for(var e=n.def.nodeMatchedQueries;n.parent&&fl(n);){var t=n.parentNodeDef;n=n.parent;for(var l=t.nodeIndex+t.childCount,r=0;r<=l;r++)67108864&(i=n.def.nodes[r]).flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&Zt(n,r).setDirty(),!(1&i.flags&&r+i.childCount<t.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}if(134217728&n.def.nodeFlags)for(r=0;r<n.def.nodes.length;r++){var i;134217728&(i=n.def.nodes[r]).flags&&536870912&i.flags&&Zt(n,r).setDirty(),r+=i.childCount}}function to(n,e){var t=Zt(n,e.nodeIndex);if(t.dirty){var l,r=void 0;if(67108864&e.flags){var i=e.parent.parent;r=lo(n,i.nodeIndex,i.nodeIndex+i.childCount,e.query,[]),l=qt(n,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=lo(n,0,n.def.nodes.length-1,e.query,[]),l=n.component);t.reset(r);for(var o=e.query.bindings,u=!1,a=0;a<o.length;a++){var s=o[a],c=void 0;switch(s.bindingType){case 0:c=t.first;break;case 1:c=t,u=!0}l[s.propName]=c}u&&t.notifyOnChanges()}}function lo(n,e,t,l,r){for(var i=e;i<=t;i++){var o=n.def.nodes[i],u=o.matchedQueries[l.id];if(null!=u&&r.push(ro(n,o,u)),1&o.flags&&o.element.template&&(o.element.template.nodeMatchedQueries&l.filterId)===l.filterId){var a=Wt(n,i);if((o.childMatchedQueries&l.filterId)===l.filterId&&(lo(n,i+1,i+o.childCount,l,r),i+=o.childCount),16777216&o.flags)for(var s=a.viewContainer._embeddedViews,c=0;c<s.length;c++){var d=s[c],p=cl(d);p&&p===a&&lo(d,0,d.def.nodes.length-1,l,r)}var h=a.template._projectedViews;if(h)for(c=0;c<h.length;c++){var f=h[c];lo(f,0,f.def.nodes.length-1,l,r)}}(o.childMatchedQueries&l.filterId)!==l.filterId&&(i+=o.childCount)}return r}function ro(n,e,t){if(null!=t)switch(t){case 1:return Wt(n,e.nodeIndex).renderElement;case 0:return new pt(Wt(n,e.nodeIndex).renderElement);case 2:return Wt(n,e.nodeIndex).template;case 3:return Wt(n,e.nodeIndex).viewContainer;case 4:return qt(n,e.nodeIndex).instance}}function io(n,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:n,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function oo(n,e,t){var l=yl(n,e,t);l&&Cl(n,t.ngContent.index,1,l,null,void 0)}function uo(n,e){for(var t=Object.keys(e),l=t.length,r=new Array(l),i=0;i<l;i++){var o=t[i];r[e[o]]=o}return ao(64,n,r)}function ao(n,e,t){for(var l=new Array(t.length),r=0;r<t.length;r++){var i=t[r];l[r]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:n,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:l,bindingFlags:Tl(l),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function so(n,e,t){for(var l=new Array(t.length-1),r=1;r<t.length;r++)l[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:t[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:l,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:t[0]},query:null,ngContent:null}}function co(n,e,t){var l,r=n.renderer;l=r.createText(t.text.prefix);var i=yl(n,e,t);return i&&r.appendChild(i,l),{renderText:l}}function po(n,e){return(null!=n?n.toString():"")+e.suffix}function ho(n,e,t,l){for(var r=0,i=0,o=0,u=0,a=0,s=null,c=null,d=!1,p=!1,h=null,f=0;f<e.length;f++){var m=e[f];if(m.nodeIndex=f,m.parent=s,m.bindingIndex=r,m.outputIndex=i,m.renderParent=c,o|=m.flags,a|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=s?s.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,d=!1,p=!1,m.element.template&&(a|=m.element.template.nodeMatchedQueries)}if(mo(s,m,e.length),r+=m.bindings.length,i+=m.outputs.length,!c&&3&m.flags&&(h=m),20224&m.flags){d||(d=!0,s.element.publicProviders=Object.create(s.element.publicProviders),s.element.allProviders=s.element.publicProviders);var v=0!=(32768&m.flags);0==(8192&m.flags)||v?s.element.publicProviders[Jt(m.provider.token)]=m:(p||(p=!0,s.element.allProviders=Object.create(s.element.publicProviders)),s.element.allProviders[Jt(m.provider.token)]=m),v&&(s.element.componentProvider=m)}if(s?(s.childFlags|=m.flags,s.directChildFlags|=m.flags,s.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(s.childMatchedQueries|=m.element.template.nodeMatchedQueries)):u|=m.flags,m.childCount>0)s=m,fo(m)||(c=m);else for(;s&&f===s.nodeIndex+s.childCount;){var y=s.parent;y&&(y.childFlags|=s.childFlags,y.childMatchedQueries|=s.childMatchedQueries),c=(s=y)&&fo(s)?s.renderParent:s}}return{factory:null,nodeFlags:o,rootNodeFlags:u,nodeMatchedQueries:a,flags:n,nodes:e,updateDirectives:t||Kt,updateRenderer:l||Kt,handleEvent:function(n,t,l,r){return e[t].element.handleEvent(n,l,r)},bindingCount:r,outputCount:i,lastRenderRootNode:h}}function fo(n){return 0!=(1&n.flags)&&null===n.element.name}function mo(n,e,t){var l=e.element&&e.element.template;if(l){if(!l.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(l.lastRenderRootNode&&16777216&l.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(n?n.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!n||0==(16384&n.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&n)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var r=n?n.nodeIndex+n.childCount:t-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function go(n,e,t,l){var r=bo(n.root,n.renderer,n,e,t);return wo(r,n.component,l),xo(r),r}function vo(n,e,t){var l=bo(n,n.renderer,null,null,e);return wo(l,t,t),xo(l),l}function yo(n,e,t,l){var r,i=e.element.componentRendererType;return r=i?n.root.rendererFactory.createRenderer(l,i):n.root.renderer,bo(n.root,r,n,e.element.componentProvider,t)}function bo(n,e,t,l,r){var i=new Array(r.nodes.length),o=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:t,viewContainerParent:null,parentNodeDef:l,context:null,component:null,nodes:i,state:13,root:n,renderer:e,oldValues:new Array(r.bindingCount),disposables:o,initIndex:-1}}function wo(n,e,t){n.component=e,n.context=t}function xo(n){var e;hl(n)&&(e=Wt(n.parent,n.parentNodeDef.parent.nodeIndex).renderElement);for(var t=n.def,l=n.nodes,r=0;r<t.nodes.length;r++){var i=t.nodes[r];Qt.setCurrentNode(n,r);var o=void 0;switch(201347067&i.flags){case 1:var u=Ki(n,e,i),a=void 0;if(33554432&i.flags){var s=wl(i.element.componentView);a=Qt.createComponentView(n,i,s,u)}Xi(n,a,i,u),o={renderElement:u,componentView:a,viewContainer:null,template:i.element.template?Ql(n,i):void 0},16777216&i.flags&&(o.viewContainer=Wl(n,i,o));break;case 2:o=co(n,e,i);break;case 512:case 1024:case 2048:case 256:(o=l[r])||4096&i.flags||(o={instance:gr(n,i)});break;case 16:o={instance:vr(n,i)};break;case 16384:(o=l[r])||(o={instance:yr(n,i)}),32768&i.flags&&wo(Wt(n,i.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new zr;break;case 8:oo(n,e,i),o=void 0}l[r]=o}Ao(n,Po.CreateViewNodes),Ro(n,201326592,268435456,0)}function _o(n){Io(n),Qt.updateDirectives(n,1),Oo(n,Po.CheckNoChanges),Qt.updateRenderer(n,1),Ao(n,Po.CheckNoChanges),n.state&=-97}function Co(n){1&n.state?(n.state&=-2,n.state|=2):n.state&=-3,Ht(n,0,256),Io(n),Qt.updateDirectives(n,0),Oo(n,Po.CheckAndUpdate),Ro(n,67108864,536870912,0);var e=Ht(n,256,512);kr(n,2097152|(e?1048576:0)),Qt.updateRenderer(n,0),Ao(n,Po.CheckAndUpdate),Ro(n,134217728,536870912,0),kr(n,8388608|((e=Ht(n,512,768))?4194304:0)),2&n.def.flags&&(n.state&=-9),n.state&=-97,Ht(n,768,1024)}function So(n,e,t,l,r,i,o,u,s,c,d,p,h){return 0===t?function(n,e,t,l,r,i,o,u,a,s,c,d){switch(201347067&e.flags){case 1:return function(n,e,t,l,r,i,o,u,a,s,c,d){var p=e.bindings.length,h=!1;return p>0&&Yi(n,e,0,t)&&(h=!0),p>1&&Yi(n,e,1,l)&&(h=!0),p>2&&Yi(n,e,2,r)&&(h=!0),p>3&&Yi(n,e,3,i)&&(h=!0),p>4&&Yi(n,e,4,o)&&(h=!0),p>5&&Yi(n,e,5,u)&&(h=!0),p>6&&Yi(n,e,6,a)&&(h=!0),p>7&&Yi(n,e,7,s)&&(h=!0),p>8&&Yi(n,e,8,c)&&(h=!0),p>9&&Yi(n,e,9,d)&&(h=!0),h}(n,e,t,l,r,i,o,u,a,s,c,d);case 2:return function(n,e,t,l,r,i,o,u,a,s,c,d){var p=!1,h=e.bindings,f=h.length;if(f>0&&il(n,e,0,t)&&(p=!0),f>1&&il(n,e,1,l)&&(p=!0),f>2&&il(n,e,2,r)&&(p=!0),f>3&&il(n,e,3,i)&&(p=!0),f>4&&il(n,e,4,o)&&(p=!0),f>5&&il(n,e,5,u)&&(p=!0),f>6&&il(n,e,6,a)&&(p=!0),f>7&&il(n,e,7,s)&&(p=!0),f>8&&il(n,e,8,c)&&(p=!0),f>9&&il(n,e,9,d)&&(p=!0),p){var m=e.text.prefix;f>0&&(m+=po(t,h[0])),f>1&&(m+=po(l,h[1])),f>2&&(m+=po(r,h[2])),f>3&&(m+=po(i,h[3])),f>4&&(m+=po(o,h[4])),f>5&&(m+=po(u,h[5])),f>6&&(m+=po(a,h[6])),f>7&&(m+=po(s,h[7])),f>8&&(m+=po(c,h[8])),f>9&&(m+=po(d,h[9]));var g=$t(n,e.nodeIndex).renderText;n.renderer.setValue(g,m)}return p}(n,e,t,l,r,i,o,u,a,s,c,d);case 16384:return function(n,e,t,l,r,i,o,u,a,s,c,d){var p=qt(n,e.nodeIndex),h=p.instance,f=!1,m=void 0,g=e.bindings.length;return g>0&&rl(n,e,0,t)&&(f=!0,m=Ir(n,p,e,0,t,m)),g>1&&rl(n,e,1,l)&&(f=!0,m=Ir(n,p,e,1,l,m)),g>2&&rl(n,e,2,r)&&(f=!0,m=Ir(n,p,e,2,r,m)),g>3&&rl(n,e,3,i)&&(f=!0,m=Ir(n,p,e,3,i,m)),g>4&&rl(n,e,4,o)&&(f=!0,m=Ir(n,p,e,4,o,m)),g>5&&rl(n,e,5,u)&&(f=!0,m=Ir(n,p,e,5,u,m)),g>6&&rl(n,e,6,a)&&(f=!0,m=Ir(n,p,e,6,a,m)),g>7&&rl(n,e,7,s)&&(f=!0,m=Ir(n,p,e,7,s,m)),g>8&&rl(n,e,8,c)&&(f=!0,m=Ir(n,p,e,8,c,m)),g>9&&rl(n,e,9,d)&&(f=!0,m=Ir(n,p,e,9,d,m)),m&&h.ngOnChanges(m),65536&e.flags&&Bt(n,256,e.nodeIndex)&&h.ngOnInit(),262144&e.flags&&h.ngDoCheck(),f}(n,e,t,l,r,i,o,u,a,s,c,d);case 32:case 64:case 128:return function(n,e,t,l,r,i,o,u,a,s,c,d){var p=e.bindings,h=!1,f=p.length;if(f>0&&il(n,e,0,t)&&(h=!0),f>1&&il(n,e,1,l)&&(h=!0),f>2&&il(n,e,2,r)&&(h=!0),f>3&&il(n,e,3,i)&&(h=!0),f>4&&il(n,e,4,o)&&(h=!0),f>5&&il(n,e,5,u)&&(h=!0),f>6&&il(n,e,6,a)&&(h=!0),f>7&&il(n,e,7,s)&&(h=!0),f>8&&il(n,e,8,c)&&(h=!0),f>9&&il(n,e,9,d)&&(h=!0),h){var m=Gt(n,e.nodeIndex),g=void 0;switch(201347067&e.flags){case 32:g=new Array(p.length),f>0&&(g[0]=t),f>1&&(g[1]=l),f>2&&(g[2]=r),f>3&&(g[3]=i),f>4&&(g[4]=o),f>5&&(g[5]=u),f>6&&(g[6]=a),f>7&&(g[7]=s),f>8&&(g[8]=c),f>9&&(g[9]=d);break;case 64:g={},f>0&&(g[p[0].name]=t),f>1&&(g[p[1].name]=l),f>2&&(g[p[2].name]=r),f>3&&(g[p[3].name]=i),f>4&&(g[p[4].name]=o),f>5&&(g[p[5].name]=u),f>6&&(g[p[6].name]=a),f>7&&(g[p[7].name]=s),f>8&&(g[p[8].name]=c),f>9&&(g[p[9].name]=d);break;case 128:var v=t;switch(f){case 1:g=v.transform(t);break;case 2:g=v.transform(l);break;case 3:g=v.transform(l,r);break;case 4:g=v.transform(l,r,i);break;case 5:g=v.transform(l,r,i,o);break;case 6:g=v.transform(l,r,i,o,u);break;case 7:g=v.transform(l,r,i,o,u,a);break;case 8:g=v.transform(l,r,i,o,u,a,s);break;case 9:g=v.transform(l,r,i,o,u,a,s,c);break;case 10:g=v.transform(l,r,i,o,u,a,s,c,d)}}m.value=g}return h}(n,e,t,l,r,i,o,u,a,s,c,d);default:throw"unreachable"}}(n,e,l,r,i,o,u,s,c,d,p,h):function(n,e,t){switch(201347067&e.flags){case 1:return function(n,e,t){for(var l=!1,r=0;r<t.length;r++)Yi(n,e,r,t[r])&&(l=!0);return l}(n,e,t);case 2:return function(n,e,t){for(var l=e.bindings,r=!1,i=0;i<t.length;i++)il(n,e,i,t[i])&&(r=!0);if(r){var o="";for(i=0;i<t.length;i++)o+=po(t[i],l[i]);o=e.text.prefix+o;var u=$t(n,e.nodeIndex).renderText;n.renderer.setValue(u,o)}return r}(n,e,t);case 16384:return function(n,e,t){for(var l=qt(n,e.nodeIndex),r=l.instance,i=!1,o=void 0,u=0;u<t.length;u++)rl(n,e,u,t[u])&&(i=!0,o=Ir(n,l,e,u,t[u],o));return o&&r.ngOnChanges(o),65536&e.flags&&Bt(n,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),i}(n,e,t);case 32:case 64:case 128:return function(n,e,t){for(var l=e.bindings,r=!1,i=0;i<t.length;i++)il(n,e,i,t[i])&&(r=!0);if(r){var o=Gt(n,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=t;break;case 64:for(u={},i=0;i<t.length;i++)u[l[i].name]=t[i];break;case 128:var s=t[0],c=t.slice(1);u=s.transform.apply(s,a(c))}o.value=u}return r}(n,e,t);default:throw"unreachable"}}(n,e,l)}function Io(n){var e=n.def;if(4&e.nodeFlags)for(var t=0;t<e.nodes.length;t++){var l=e.nodes[t];if(4&l.flags){var r=Wt(n,t).template._projectedViews;if(r)for(var i=0;i<r.length;i++){var o=r[i];o.state|=32,al(o,n)}}else 0==(4&l.childFlags)&&(t+=l.childCount)}}function ko(n,e,t,l,r,i,o,u,a,s,c,d,p){return 0===t?function(n,e,t,l,r,i,o,u,a,s,c,d){var p=e.bindings.length;p>0&&ol(n,e,0,t),p>1&&ol(n,e,1,l),p>2&&ol(n,e,2,r),p>3&&ol(n,e,3,i),p>4&&ol(n,e,4,o),p>5&&ol(n,e,5,u),p>6&&ol(n,e,6,a),p>7&&ol(n,e,7,s),p>8&&ol(n,e,8,c),p>9&&ol(n,e,9,d)}(n,e,l,r,i,o,u,a,s,c,d,p):function(n,e,t){for(var l=0;l<t.length;l++)ol(n,e,l,t[l])}(n,e,l),!1}function Eo(n,e){if(Zt(n,e.nodeIndex).dirty)throw Lt(Qt.createDebugContext(n,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&n.state))}function To(n){if(!(128&n.state)){if(Oo(n,Po.Destroy),Ao(n,Po.Destroy),kr(n,131072),n.disposables)for(var e=0;e<n.disposables.length;e++)n.disposables[e]();!function(n){if(16&n.state){var e=cl(n);if(e){var t=e.template._projectedViews;t&&(Zn(t,t.indexOf(n)),Qt.dirtyParentQueries(n))}}}(n),n.renderer.destroyNode&&function(n){for(var e=n.def.nodes.length,t=0;t<e;t++){var l=n.def.nodes[t];1&l.flags?n.renderer.destroyNode(Wt(n,t).renderElement):2&l.flags?n.renderer.destroyNode($t(n,t).renderText):(67108864&l.flags||134217728&l.flags)&&Zt(n,t).destroy()}}(n),hl(n)&&n.renderer.destroy(),n.state|=128}}var Po=function(n){return n[n.CreateViewNodes=0]="CreateViewNodes",n[n.CheckNoChanges=1]="CheckNoChanges",n[n.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",n[n.CheckAndUpdate=3]="CheckAndUpdate",n[n.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",n[n.Destroy=5]="Destroy",n}({});function Ao(n,e){var t=n.def;if(33554432&t.nodeFlags)for(var l=0;l<t.nodes.length;l++){var r=t.nodes[l];33554432&r.flags?Do(Wt(n,l).componentView,e):0==(33554432&r.childFlags)&&(l+=r.childCount)}}function Oo(n,e){var t=n.def;if(16777216&t.nodeFlags)for(var l=0;l<t.nodes.length;l++){var r=t.nodes[l];if(16777216&r.flags)for(var i=Wt(n,l).viewContainer._embeddedViews,o=0;o<i.length;o++)Do(i[o],e);else 0==(16777216&r.childFlags)&&(l+=r.childCount)}}function Do(n,e){var t=n.state;switch(e){case Po.CheckNoChanges:0==(128&t)&&(12==(12&t)?_o(n):64&t&&No(n,Po.CheckNoChangesProjectedViews));break;case Po.CheckNoChangesProjectedViews:0==(128&t)&&(32&t?_o(n):64&t&&No(n,e));break;case Po.CheckAndUpdate:0==(128&t)&&(12==(12&t)?Co(n):64&t&&No(n,Po.CheckAndUpdateProjectedViews));break;case Po.CheckAndUpdateProjectedViews:0==(128&t)&&(32&t?Co(n):64&t&&No(n,e));break;case Po.Destroy:To(n);break;case Po.CreateViewNodes:xo(n)}}function No(n,e){Oo(n,e),Ao(n,e)}function Ro(n,e,t,l){if(n.def.nodeFlags&e&&n.def.nodeFlags&t)for(var r=n.def.nodes.length,i=0;i<r;i++){var o=n.def.nodes[i];if(o.flags&e&&o.flags&t)switch(Qt.setCurrentNode(n,o.nodeIndex),l){case 0:to(n,o);break;case 1:Eo(n,o)}o.childFlags&e&&o.childFlags&t||(i+=o.childCount)}}var Mo=!1;function Vo(n,e,t,l,r,i){var o=r.injector.get(mt);return vo(zo(n,r,o,e,t),l,i)}function jo(n,e,t,l,r,i){var o=r.injector.get(mt),u=zo(n,r,new vu(o),e,t),a=Zo(l);return mu(lu.create,vo,null,[u,a,i])}function zo(n,e,t,l,r){var i=e.injector.get(Pe),o=e.injector.get(le),u=t.createRenderer(null,null);return{ngModule:e,injector:n,projectableNodes:l,selectorOrNode:r,sanitizer:i,rendererFactory:t,renderer:u,errorHandler:o}}function Lo(n,e,t,l){var r=Zo(t);return mu(lu.create,go,null,[n,e,r,l])}function Uo(n,e,t,l){return t=$o.get(e.element.componentProvider.provider.token)||Zo(t),mu(lu.create,yo,null,[n,e,t,l])}function Fo(n,e,t,l){return tr(n,e,t,function(n){var e=function(n){var e=!1,t=!1;return 0===Ho.size?{hasOverrides:e,hasDeprecatedOverrides:t}:(n.providers.forEach((function(n){var l=Ho.get(n.token);3840&n.flags&&l&&(e=!0,t=t||l.deprecatedBehavior)})),n.modules.forEach((function(n){Bo.forEach((function(l,r){wn(r).providedIn===n&&(e=!0,t=t||l.deprecatedBehavior)}))})),{hasOverrides:e,hasDeprecatedOverrides:t})}(n),t=e.hasDeprecatedOverrides;return e.hasOverrides?(function(n){for(var e=0;e<n.providers.length;e++){var l=n.providers[e];t&&(l.flags|=4096);var r=Ho.get(l.token);r&&(l.flags=-3841&l.flags|r.flags,l.deps=vl(r.deps),l.value=r.value)}if(Bo.size>0){var i=new Set(n.modules);Bo.forEach((function(e,l){if(i.has(wn(l).providedIn)){var r={token:l,flags:e.flags|(t?4096:0),deps:vl(e.deps),value:e.value,index:n.providers.length};n.providers.push(r),n.providersByKey[Jt(l)]=r}}))}}(n=n.factory((function(){return Kt}))),n):n}(l))}var Ho=new Map,Bo=new Map,$o=new Map;function Wo(n){var e;Ho.set(n.token,n),"function"==typeof n.token&&(e=wn(n.token))&&"function"==typeof e.providedIn&&Bo.set(n.token,n)}function qo(n,e){var t=wl(e.viewDefFactory),l=wl(t.nodes[0].element.componentView);$o.set(n,l)}function Go(){Ho.clear(),Bo.clear(),$o.clear()}function Zo(n){if(0===Ho.size)return n;var e=function(n){for(var e=[],t=null,l=0;l<n.nodes.length;l++){var r=n.nodes[l];1&r.flags&&(t=r),t&&3840&r.flags&&Ho.has(r.provider.token)&&(e.push(t.nodeIndex),t=null)}return e}(n);if(0===e.length)return n;n=n.factory((function(){return Kt}));for(var t=0;t<e.length;t++)l(n,e[t]);return n;function l(n,e){for(var t=e+1;t<n.nodes.length;t++){var l=n.nodes[t];if(1&l.flags)return;if(3840&l.flags){var r=l.provider,i=Ho.get(r.token);i&&(l.flags=-3841&l.flags|i.flags,r.deps=vl(i.deps),r.value=i.value)}}}}function Qo(n,e,t,l,r,i,o,u,a,s,c,d,p){var h=n.def.nodes[e];return So(n,h,t,l,r,i,o,u,a,s,c,d,p),224&h.flags?Gt(n,e).value:void 0}function Ko(n,e,t,l,r,i,o,u,a,s,c,d,p){var h=n.def.nodes[e];return ko(n,h,t,l,r,i,o,u,a,s,c,d,p),224&h.flags?Gt(n,e).value:void 0}function Xo(n){return mu(lu.detectChanges,Co,null,[n])}function Jo(n){return mu(lu.checkNoChanges,_o,null,[n])}function Yo(n){return mu(lu.destroy,To,null,[n])}var nu,eu,tu,lu=function(n){return n[n.create=0]="create",n[n.detectChanges=1]="detectChanges",n[n.checkNoChanges=2]="checkNoChanges",n[n.destroy=3]="destroy",n[n.handleEvent=4]="handleEvent",n}({});function ru(n,e){eu=n,tu=e}function iu(n,e,t,l){return ru(n,e),mu(lu.handleEvent,n.def.handleEvent,null,[n,e,t,l])}function ou(n,e){if(128&n.state)throw Ft(lu[nu]);return ru(n,cu(n,0)),n.def.updateDirectives((function(n,t,l){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=n.def.nodes[t];return 0===e?au(n,o,l,r):su(n,o,l,r),16384&o.flags&&ru(n,cu(n,t)),224&o.flags?Gt(n,o.nodeIndex).value:void 0}),n)}function uu(n,e){if(128&n.state)throw Ft(lu[nu]);return ru(n,du(n,0)),n.def.updateRenderer((function(n,t,l){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=n.def.nodes[t];return 0===e?au(n,o,l,r):su(n,o,l,r),3&o.flags&&ru(n,du(n,t)),224&o.flags?Gt(n,o.nodeIndex).value:void 0}),n)}function au(n,e,t,l){if(So.apply(void 0,a([n,e,t],l))){var r=1===t?l[0]:l;if(16384&e.flags){for(var i={},o=0;o<e.bindings.length;o++){var u=e.bindings[o],s=r[o];8&u.flags&&(i[(h=u.nonMinifiedName,"ng-reflect-"+h.replace(/[$@]/g,"_").replace(De,(function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return"-"+n[1].toLowerCase()})))]=Ne(s))}var c=e.parent,d=Wt(n,c.nodeIndex).renderElement;if(c.element.name)for(var p in i)null!=(s=i[p])?n.renderer.setAttribute(d,p,s):n.renderer.removeAttribute(d,p);else n.renderer.setValue(d,"bindings="+JSON.stringify(i,null,2))}}var h}function su(n,e,t,l){ko.apply(void 0,a([n,e,t],l))}function cu(n,e){for(var t=e;t<n.def.nodes.length;t++){var l=n.def.nodes[t];if(16384&l.flags&&l.bindings&&l.bindings.length)return t}return null}function du(n,e){for(var t=e;t<n.def.nodes.length;t++){var l=n.def.nodes[t];if(3&l.flags&&l.bindings&&l.bindings.length)return t}return null}var pu=function(){function n(n,e){this.view=n,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=n.def.nodes[e];for(var t=this.nodeDef,l=n;t&&0==(1&t.flags);)t=t.parent;if(!t)for(;!t&&l;)t=dl(l),l=l.parent;this.elDef=t,this.elView=l}return Object.defineProperty(n.prototype,"elOrCompView",{get:function(){return Wt(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return Xl(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"providerTokens",{get:function(){var n=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var t=this.elView.def.nodes[e];20224&t.flags&&n.push(t.provider.token),e+=t.childCount}return n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"references",{get:function(){var n={};if(this.elDef){fu(this.elView,this.elDef,n);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var t=this.elView.def.nodes[e];20224&t.flags&&fu(this.elView,t,n),e+=t.childCount}}return n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"componentRenderElement",{get:function(){var n=function(n){for(;n&&!hl(n);)n=n.parent;return n.parent?Wt(n.parent,dl(n).nodeIndex):null}(this.elOrCompView);return n?n.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?pl(this.view,this.nodeDef):pl(this.elView,this.elDef)},enumerable:!0,configurable:!0}),n.prototype.logError=function(n){for(var e,t,l=[],r=1;r<arguments.length;r++)l[r-1]=arguments[r];2&this.nodeDef.flags?(e=this.view.def,t=this.nodeDef.nodeIndex):(e=this.elView.def,t=this.elDef.nodeIndex);var i=hu(e,t),o=-1,u=function(){var e;return++o===i?(e=n.error).bind.apply(e,a([n],l)):Kt};e.factory(u),o<i&&(n.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),n.error.apply(n,a(l)))},n}();function hu(n,e){for(var t=-1,l=0;l<=e;l++)3&n.nodes[l].flags&&t++;return t}function fu(n,e,t){for(var l in e.references)t[l]=ro(n,e,e.references[l])}function mu(n,e,t,l){var r=nu,i=eu,o=tu;try{nu=n;var u=e.apply(t,l);return eu=i,tu=o,nu=r,u}catch(a){if(ne(a)||!eu)throw a;throw function(n,e){return n instanceof Error||(n=new Error(n.toString())),Ut(n,e),n}(a,gu())}}function gu(){return eu?new pu(eu,tu):null}var vu=function(){function n(n){this.delegate=n}return n.prototype.createRenderer=function(n,e){return new yu(this.delegate.createRenderer(n,e))},n.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},n.prototype.end=function(){this.delegate.end&&this.delegate.end()},n.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},n}(),yu=function(){function n(n){this.delegate=n,this.debugContextFactory=gu,this.data=this.delegate.data}return n.prototype.createDebugContext=function(n){return this.debugContextFactory(n)},n.prototype.destroyNode=function(n){var e=Ui(n);!function(n){Li.delete(n.nativeNode)}(e),e instanceof ji&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(n)},n.prototype.destroy=function(){this.delegate.destroy()},n.prototype.createElement=function(n,e){var t=this.delegate.createElement(n,e),l=this.createDebugContext(t);if(l){var r=new zi(t,null,l);r.name=n,Fi(r)}return t},n.prototype.createComment=function(n){var e=this.delegate.createComment(n),t=this.createDebugContext(e);return t&&Fi(new ji(e,null,t)),e},n.prototype.createText=function(n){var e=this.delegate.createText(n),t=this.createDebugContext(e);return t&&Fi(new ji(e,null,t)),e},n.prototype.appendChild=function(n,e){var t=Ui(n),l=Ui(e);t&&l&&t instanceof zi&&t.addChild(l),this.delegate.appendChild(n,e)},n.prototype.insertBefore=function(n,e,t){var l=Ui(n),r=Ui(e),i=Ui(t);l&&r&&l instanceof zi&&l.insertBefore(i,r),this.delegate.insertBefore(n,e,t)},n.prototype.removeChild=function(n,e){var t=Ui(n),l=Ui(e);t&&l&&t instanceof zi&&t.removeChild(l),this.delegate.removeChild(n,e)},n.prototype.selectRootElement=function(n,e){var t=this.delegate.selectRootElement(n,e),l=gu();return l&&Fi(new zi(t,null,l)),t},n.prototype.setAttribute=function(n,e,t,l){var r=Ui(n);r&&r instanceof zi&&(r.attributes[l?l+":"+e:e]=t),this.delegate.setAttribute(n,e,t,l)},n.prototype.removeAttribute=function(n,e,t){var l=Ui(n);l&&l instanceof zi&&(l.attributes[t?t+":"+e:e]=null),this.delegate.removeAttribute(n,e,t)},n.prototype.addClass=function(n,e){var t=Ui(n);t&&t instanceof zi&&(t.classes[e]=!0),this.delegate.addClass(n,e)},n.prototype.removeClass=function(n,e){var t=Ui(n);t&&t instanceof zi&&(t.classes[e]=!1),this.delegate.removeClass(n,e)},n.prototype.setStyle=function(n,e,t,l){var r=Ui(n);r&&r instanceof zi&&(r.styles[e]=t),this.delegate.setStyle(n,e,t,l)},n.prototype.removeStyle=function(n,e,t){var l=Ui(n);l&&l instanceof zi&&(l.styles[e]=null),this.delegate.removeStyle(n,e,t)},n.prototype.setProperty=function(n,e,t){var l=Ui(n);l&&l instanceof zi&&(l.properties[e]=t),this.delegate.setProperty(n,e,t)},n.prototype.listen=function(n,e,t){if("string"!=typeof n){var l=Ui(n);l&&l.listeners.push(new Vi(e,t))}return this.delegate.listen(n,e,t)},n.prototype.parentNode=function(n){return this.delegate.parentNode(n)},n.prototype.nextSibling=function(n){return this.delegate.nextSibling(n)},n.prototype.setValue=function(n,e){return this.delegate.setValue(n,e)},n}();function bu(n,e,t){return new wu(n,e,t)}var wu=function(n){function e(e,t,l){var r=n.call(this)||this;return r.moduleType=e,r._bootstrapComponents=t,r._ngModuleDefFactory=l,r}return r(e,n),e.prototype.create=function(n){!function(){if(!Mo){Mo=!0;var n=oe()?{setCurrentNode:ru,createRootView:jo,createEmbeddedView:Lo,createComponentView:Uo,createNgModuleRef:Fo,overrideProvider:Wo,overrideComponentView:qo,clearOverrides:Go,checkAndUpdateView:Xo,checkNoChangesView:Jo,destroyView:Yo,createDebugContext:function(n,e){return new pu(n,e)},handleEvent:iu,updateDirectives:ou,updateRenderer:uu}:{setCurrentNode:function(){},createRootView:Vo,createEmbeddedView:go,createComponentView:yo,createNgModuleRef:tr,overrideProvider:Kt,overrideComponentView:Kt,clearOverrides:Kt,checkAndUpdateView:Co,checkNoChangesView:_o,destroyView:To,createDebugContext:function(n,e){return new pu(n,e)},handleEvent:function(n,e,t,l){return n.def.handleEvent(n,e,t,l)},updateDirectives:function(n,e){return n.def.updateDirectives(0===e?Qo:Ko,n)},updateRenderer:function(n,e){return n.def.updateRenderer(0===e?Qo:Ko,n)}};Qt.setCurrentNode=n.setCurrentNode,Qt.createRootView=n.createRootView,Qt.createEmbeddedView=n.createEmbeddedView,Qt.createComponentView=n.createComponentView,Qt.createNgModuleRef=n.createNgModuleRef,Qt.overrideProvider=n.overrideProvider,Qt.overrideComponentView=n.overrideComponentView,Qt.clearOverrides=n.clearOverrides,Qt.checkAndUpdateView=n.checkAndUpdateView,Qt.checkNoChangesView=n.checkNoChangesView,Qt.destroyView=n.destroyView,Qt.resolveDep=Cr,Qt.createDebugContext=n.createDebugContext,Qt.handleEvent=n.handleEvent,Qt.updateDirectives=n.updateDirectives,Qt.updateRenderer=n.updateRenderer,Qt.dirtyParentQueries=eo}}();var e=function(n){var e=Array.from(n.providers),t=Array.from(n.modules),l={};for(var r in n.providersByKey)l[r]=n.providersByKey[r];return{factory:n.factory,isRoot:n.isRoot,providers:e,modules:t,providersByKey:l}}(wl(this._ngModuleDefFactory));return Qt.createNgModuleRef(this.moduleType,n||ze.NULL,this._bootstrapComponents,e)},e}(qn),xu=function(){return function(){}}(),_u=function(){return function(){}}(),Cu=new Dn("Location Initialized"),Su=function(){return function(){}}(),Iu=new Dn("appBaseHref"),ku=function(){function n(n,t){var l=this;this._subject=new Vr,this._urlChangeListeners=[],this._platformStrategy=n;var r=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=e.stripTrailingSlash(Eu(r)),this._platformStrategy.onPopState((function(n){l._subject.emit({url:l.path(!0),pop:!0,state:n.state,type:n.type})}))}var e;return e=n,n.prototype.path=function(n){return void 0===n&&(n=!1),this.normalize(this._platformStrategy.path(n))},n.prototype.getState=function(){return this._platformLocation.getState()},n.prototype.isCurrentPathEqualTo=function(n,t){return void 0===t&&(t=""),this.path()==this.normalize(n+e.normalizeQueryParams(t))},n.prototype.normalize=function(n){return e.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Eu(n)))},n.prototype.prepareExternalUrl=function(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)},n.prototype.go=function(n,t,l){void 0===t&&(t=""),void 0===l&&(l=null),this._platformStrategy.pushState(l,"",n,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+e.normalizeQueryParams(t)),l)},n.prototype.replaceState=function(n,t,l){void 0===t&&(t=""),void 0===l&&(l=null),this._platformStrategy.replaceState(l,"",n,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+e.normalizeQueryParams(t)),l)},n.prototype.forward=function(){this._platformStrategy.forward()},n.prototype.back=function(){this._platformStrategy.back()},n.prototype.onUrlChange=function(n){var e=this;this._urlChangeListeners.push(n),this.subscribe((function(n){e._notifyUrlChangeListeners(n.url,n.state)}))},n.prototype._notifyUrlChangeListeners=function(n,e){void 0===n&&(n=""),this._urlChangeListeners.forEach((function(t){return t(n,e)}))},n.prototype.subscribe=function(n,e,t){return this._subject.subscribe({next:n,error:e,complete:t})},n.normalizeQueryParams=function(n){return n&&"?"!==n[0]?"?"+n:n},n.joinWithSlash=function(n,e){if(0==n.length)return e;if(0==e.length)return n;var t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e},n.stripTrailingSlash=function(n){var e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)},n}();function Eu(n){return n.replace(/\/index.html$/,"")}var Tu=function(n){function e(e,t){var l=n.call(this)||this;return l._platformLocation=e,l._baseHref="",null!=t&&(l._baseHref=t),l}return r(e,n),e.prototype.onPopState=function(n){this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(n){void 0===n&&(n=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(n){var e=ku.joinWithSlash(this._baseHref,n);return e.length>0?"#"+e:e},e.prototype.pushState=function(n,e,t,l){var r=this.prepareExternalUrl(t+ku.normalizeQueryParams(l));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(n,e,r)},e.prototype.replaceState=function(n,e,t,l){var r=this.prepareExternalUrl(t+ku.normalizeQueryParams(l));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(n,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(Su),Pu=function(n){function e(e,t){var l=n.call(this)||this;if(l._platformLocation=e,null==t&&(t=l._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return l._baseHref=t,l}return r(e,n),e.prototype.onPopState=function(n){this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(n){return ku.joinWithSlash(this._baseHref,n)},e.prototype.path=function(n){void 0===n&&(n=!1);var e=this._platformLocation.pathname+ku.normalizeQueryParams(this._platformLocation.search),t=this._platformLocation.hash;return t&&n?""+e+t:e},e.prototype.pushState=function(n,e,t,l){var r=this.prepareExternalUrl(t+ku.normalizeQueryParams(l));this._platformLocation.pushState(n,e,r)},e.prototype.replaceState=function(n,e,t,l){var r=this.prepareExternalUrl(t+ku.normalizeQueryParams(l));this._platformLocation.replaceState(n,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(Su),Au=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}({}),Ou=new Dn("UseV4Plurals"),Du=function(){return function(){}}(),Nu=function(n){function e(e,t){var l=n.call(this)||this;return l.locale=e,l.deprecatedPluralFn=t,l}return r(e,n),e.prototype.getPluralCategory=function(n,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,n):function(n){return function(n){var e=n.toLowerCase().replace(/_/g,"-"),t=Ar[e];if(t)return t;var l=e.split("-")[0];if(t=Ar[l])return t;if("en"===l)return Nr;throw new Error('Missing locale data for the locale "'+n+'".')}(n)[Or.PluralCase]}(e||this.locale)(n)){case Au.Zero:return"zero";case Au.One:return"one";case Au.Two:return"two";case Au.Few:return"few";case Au.Many:return"many";default:return"other"}},e}(Du);function Ru(n,e){var t,l;e=encodeURIComponent(e);try{for(var r=o(n.split(";")),i=r.next();!i.done;i=r.next()){var a=i.value,s=a.indexOf("="),c=u(-1==s?[a,""]:[a.slice(0,s),a.slice(s+1)],2),d=c[1];if(c[0].trim()===e)return decodeURIComponent(d)}}catch(p){t={error:p}}finally{try{i&&!i.done&&(l=r.return)&&l.call(r)}finally{if(t)throw t.error}}return null}var Mu=function(){return function(){}}(),Vu=function(){function n(n,e,t,l){this._iterableDiffers=n,this._keyValueDiffers=e,this._ngEl=t,this._renderer=l,this._initialClasses=[]}return n.prototype.getValue=function(){return null},n.prototype.setClass=function(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},n.prototype.setNgClass=function(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(Je(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},n.prototype.applyChanges=function(){if(this._iterableDiffer){var n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},n.prototype._applyKeyValueChanges=function(n){var e=this;n.forEachAddedItem((function(n){return e._toggleClass(n.key,n.currentValue)})),n.forEachChangedItem((function(n){return e._toggleClass(n.key,n.currentValue)})),n.forEachRemovedItem((function(n){n.previousValue&&e._toggleClass(n.key,!1)}))},n.prototype._applyIterableChanges=function(n){var e=this;n.forEachAddedItem((function(n){if("string"!=typeof n.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+_n(n.item));e._toggleClass(n.item,!0)})),n.forEachRemovedItem((function(n){return e._toggleClass(n.item,!1)}))},n.prototype._applyClasses=function(n){var e=this;n&&(Array.isArray(n)||n instanceof Set?n.forEach((function(n){return e._toggleClass(n,!0)})):Object.keys(n).forEach((function(t){return e._toggleClass(t,!!n[t])})))},n.prototype._removeClasses=function(n){var e=this;n&&(Array.isArray(n)||n instanceof Set?n.forEach((function(n){return e._toggleClass(n,!1)})):Object.keys(n).forEach((function(n){return e._toggleClass(n,!1)})))},n.prototype._toggleClass=function(n,e){var t=this;(n=n.trim())&&n.split(/\s+/g).forEach((function(n){e?t._renderer.addClass(t._ngEl.nativeElement,n):t._renderer.removeClass(t._ngEl.nativeElement,n)}))},n}(),ju=function(n){function e(e){return n.call(this,e)||this}return r(e,n),Object.defineProperty(e.prototype,"klass",{set:function(n){this._delegate.setClass(n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClass",{set:function(n){this._delegate.setNgClass(n)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){this._delegate.applyChanges()},e}(function(){function n(n){this._delegate=n}return n.prototype.getValue=function(){return this._delegate.getValue()},n.ngDirectiveDef=void 0,n}()),zu=function(){function n(n,e,t,l){this.$implicit=n,this.ngForOf=e,this.index=t,this.count=l}return Object.defineProperty(n.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),n}(),Lu=function(){function n(n,e,t){this._viewContainer=n,this._template=e,this._differs=t,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(n.prototype,"ngForOf",{set:function(n){this._ngForOf=n,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(n){oe()&&null!=n&&"function"!=typeof n&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(n)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngForTemplate",{set:function(n){n&&(this._template=n)},enumerable:!0,configurable:!0}),n.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(l){throw new Error("Cannot find a differ supporting object '"+n+"' of type '"+((e=n).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}},n.prototype._applyChanges=function(n){var e=this,t=[];n.forEachOperation((function(n,l,r){if(null==n.previousIndex){var i=e._viewContainer.createEmbeddedView(e._template,new zu(null,e._ngForOf,-1,-1),null===r?void 0:r),o=new Uu(n,i);t.push(o)}else null==r?e._viewContainer.remove(null===l?void 0:l):null!==l&&(i=e._viewContainer.get(l),e._viewContainer.move(i,r),o=new Uu(n,i),t.push(o))}));for(var l=0;l<t.length;l++)this._perViewChange(t[l].view,t[l].record);l=0;for(var r=this._viewContainer.length;l<r;l++){var i=this._viewContainer.get(l);i.context.index=l,i.context.count=r,i.context.ngForOf=this._ngForOf}n.forEachIdentityChange((function(n){e._viewContainer.get(n.currentIndex).context.$implicit=n.item}))},n.prototype._perViewChange=function(n,e){n.context.$implicit=e.item},n.ngTemplateContextGuard=function(n,e){return!0},n}(),Uu=function(){return function(n,e){this.record=n,this.view=e}}(),Fu=function(){function n(n,e){this._viewContainer=n,this._context=new Hu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(n.prototype,"ngIf",{set:function(n){this._context.$implicit=this._context.ngIf=n,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngIfThen",{set:function(n){Bu("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngIfElse",{set:function(n){Bu("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),n.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},n}(),Hu=function(){return function(){this.$implicit=null,this.ngIf=null}}();function Bu(n,e){if(e&&!e.createEmbeddedView)throw new Error(n+" must be a TemplateRef, but received '"+_n(e)+"'.")}var $u=function(){function n(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return n.prototype.ngOnChanges=function(n){this._shouldRecreateView(n)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},n.prototype._shouldRecreateView=function(n){var e=n.ngTemplateOutletContext;return!!n.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},n.prototype._hasContextShapeChanged=function(n){var e,t,l=Object.keys(n.previousValue||{}),r=Object.keys(n.currentValue||{});if(l.length===r.length){try{for(var i=o(r),u=i.next();!u.done;u=i.next())if(-1===l.indexOf(u.value))return!0}catch(a){e={error:a}}finally{try{u&&!u.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return!1}return!0},n.prototype._updateExistingContext=function(n){var e,t;try{for(var l=o(Object.keys(n)),r=l.next();!r.done;r=l.next()){var i=r.value;this._viewRef.context[i]=this.ngTemplateOutletContext[i]}}catch(u){e={error:u}}finally{try{r&&!r.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}},n}(),Wu=function(){function n(){}return n.prototype.createSubscription=function(n,e){return n.subscribe({next:e,error:function(n){throw n}})},n.prototype.dispose=function(n){n.unsubscribe()},n.prototype.onDestroy=function(n){n.unsubscribe()},n}(),qu=new(function(){function n(){}return n.prototype.createSubscription=function(n,e){return n.then(e,(function(n){throw n}))},n.prototype.dispose=function(n){},n.prototype.onDestroy=function(n){},n}()),Gu=new Wu,Zu=function(){function n(n){this._ref=n,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}var e;return e=n,n.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},n.prototype.transform=function(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):Qe(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Xe.wrap(this._latestValue)):(n&&this._subscribe(n),this._latestReturnedValue=this._latestValue,this._latestValue)},n.prototype._subscribe=function(n){var e=this;this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,(function(t){return e._updateLatestValue(n,t)}))},n.prototype._selectStrategy=function(n){if(nt(n))return qu;if(et(n))return Gu;throw Error("InvalidPipeArgument: '"+n+"' for pipe '"+_n(e)+"'")},n.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},n.prototype._updateLatestValue=function(n,e){n===this._obj&&(this._latestValue=e,this._ref.markForCheck())},n}(),Qu=function(){return function(){}}(),Ku=new Dn("DocumentToken"),Xu="server",Ju=function(){function n(){}return n.ngInjectableDef=bn({token:n,providedIn:"root",factory:function(){return new Yu(Hn(Ku),window,Hn(le))}}),n}(),Yu=function(){function n(n,e,t){this.document=n,this.window=e,this.errorHandler=t,this.offset=function(){return[0,0]}}return n.prototype.setOffset=function(n){this.offset=Array.isArray(n)?function(){return n}:n},n.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},n.prototype.scrollToPosition=function(n){this.supportScrollRestoration()&&this.window.scrollTo(n[0],n[1])},n.prototype.scrollToAnchor=function(n){if(this.supportScrollRestoration()){n=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(n):n.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+n);if(e)return void this.scrollToElement(e);var t=this.document.querySelector("[name='"+n+"']");if(t)return void this.scrollToElement(t)}catch(l){this.errorHandler.handleError(l)}}},n.prototype.setHistoryScrollRestoration=function(n){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}},n.prototype.scrollToElement=function(n){var e=n.getBoundingClientRect(),t=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(t-r[0],l-r[1])},n.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(n){return!1}},n}();function na(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n[n.length-1];return M(t)?(n.pop(),Z(n,t)):en(n)}var ea=function(n){function e(e){var t=n.call(this)||this;return t._value=e,t}return r(e,n),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var t=n.prototype._subscribe.call(this,e);return t&&!t.closed&&e.next(this._value),t},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new A;return this._value},e.prototype.next=function(e){n.prototype.next.call(this,this._value=e)},e}(N);function ta(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}ta.prototype=Object.create(Error.prototype);var la=ta,ra={};function ia(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=null,l=null;return M(n[n.length-1])&&(l=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&s(n[0])&&(n=n[0]),en(n,l).lift(new oa(t))}var oa=function(){function n(n){this.resultSelector=n}return n.prototype.call=function(n,e){return e.subscribe(new ua(n,this.resultSelector))},n}(),ua=function(n){function e(e,t){var l=n.call(this,e)||this;return l.resultSelector=t,l.active=0,l.values=[],l.observables=[],l}return r(e,n),e.prototype._next=function(n){this.values.push(ra),this.observables.push(n)},e.prototype._complete=function(){var n=this.observables,e=n.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var t=0;t<e;t++){var l=n[t];this.add(B(this,l,l,t))}}},e.prototype.notifyComplete=function(n){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(n,e,t,l,r){var i=this.values,o=this.toRespond?i[t]===ra?--this.toRespond:this.toRespond:0;i[t]=e,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(n){var e;try{e=this.resultSelector.apply(this,n)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}($),aa=new E((function(n){return n.complete()}));function sa(n){return n?function(n){return new E((function(e){return n.schedule((function(){return e.complete()}))}))}(n):aa}function ca(n){return new E((function(e){var t;try{t=n()}catch(l){return void e.error(l)}return(t?Q(t):sa()).subscribe(e)}))}function da(){return nn(1)}function pa(n,e){return function(t){return t.lift(new ha(n,e))}}var ha=function(){function n(n,e){this.predicate=n,this.thisArg=e}return n.prototype.call=function(n,e){return e.subscribe(new fa(n,this.predicate,this.thisArg))},n}(),fa=function(n){function e(e,t,l){var r=n.call(this,e)||this;return r.predicate=t,r.thisArg=l,r.count=0,r}return r(e,n),e.prototype._next=function(n){var e;try{e=this.predicate.call(this.thisArg,n,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(n)},e}(x);function ma(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ma.prototype=Object.create(Error.prototype);var ga=ma;function va(n){return function(e){return 0===n?sa():e.lift(new ya(n))}}var ya=function(){function n(n){if(this.total=n,this.total<0)throw new ga}return n.prototype.call=function(n,e){return e.subscribe(new ba(n,this.total))},n}(),ba=function(n){function e(e,t){var l=n.call(this,e)||this;return l.total=t,l.ring=new Array,l.count=0,l}return r(e,n),e.prototype._next=function(n){var e=this.ring,t=this.total,l=this.count++;e.length<t?e.push(n):e[l%t]=n},e.prototype._complete=function(){var n=this.destination,e=this.count;if(e>0)for(var t=this.count>=this.total?this.total:this.count,l=this.ring,r=0;r<t;r++){var i=e++%t;n.next(l[i])}n.complete()},e}(x);function wa(n){return void 0===n&&(n=Ca),function(e){return e.lift(new xa(n))}}var xa=function(){function n(n){this.errorFactory=n}return n.prototype.call=function(n,e){return e.subscribe(new _a(n,this.errorFactory))},n}(),_a=function(n){function e(e,t){var l=n.call(this,e)||this;return l.errorFactory=t,l.hasValue=!1,l}return r(e,n),e.prototype._next=function(n){this.hasValue=!0,this.destination.next(n)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var n=void 0;try{n=this.errorFactory()}catch(e){n=e}this.destination.error(n)},e}(x);function Ca(){return new la}function Sa(n){return void 0===n&&(n=null),function(e){return e.lift(new Ia(n))}}var Ia=function(){function n(n){this.defaultValue=n}return n.prototype.call=function(n,e){return e.subscribe(new ka(n,this.defaultValue))},n}(),ka=function(n){function e(e,t){var l=n.call(this,e)||this;return l.defaultValue=t,l.isEmpty=!0,l}return r(e,n),e.prototype._next=function(n){this.isEmpty=!1,this.destination.next(n)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(x);function Ea(n,e){var t=arguments.length>=2;return function(l){return l.pipe(n?pa((function(e,t){return n(e,t,l)})):Y,va(1),t?Sa(e):wa((function(){return new la})))}}function Ta(n){return function(e){var t=new Pa(n),l=e.lift(t);return t.caught=l}}var Pa=function(){function n(n){this.selector=n}return n.prototype.call=function(n,e){return e.subscribe(new Aa(n,this.selector,this.caught))},n}(),Aa=function(n){function e(e,t,l){var r=n.call(this,e)||this;return r.selector=t,r.caught=l,r}return r(e,n),e.prototype.error=function(e){if(!this.isStopped){var t=void 0;try{t=this.selector(e,this.caught)}catch(r){return void n.prototype.error.call(this,r)}this._unsubscribeAndRecycle();var l=new V(this,void 0,void 0);this.add(l),B(this,t,void 0,void 0,l)}},e}($);function Oa(n){return function(e){return 0===n?sa():e.lift(new Da(n))}}var Da=function(){function n(n){if(this.total=n,this.total<0)throw new ga}return n.prototype.call=function(n,e){return e.subscribe(new Na(n,this.total))},n}(),Na=function(n){function e(e,t){var l=n.call(this,e)||this;return l.total=t,l.count=0,l}return r(e,n),e.prototype._next=function(n){var e=this.total,t=++this.count;t<=e&&(this.destination.next(n),t===e&&(this.destination.complete(),this.unsubscribe()))},e}(x);function Ra(n,e){var t=arguments.length>=2;return function(l){return l.pipe(n?pa((function(e,t){return n(e,t,l)})):Y,Oa(1),t?Sa(e):wa((function(){return new la})))}}var Ma=function(){function n(n,e,t){this.predicate=n,this.thisArg=e,this.source=t}return n.prototype.call=function(n,e){return e.subscribe(new Va(n,this.predicate,this.thisArg,this.source))},n}(),Va=function(n){function e(e,t,l,r){var i=n.call(this,e)||this;return i.predicate=t,i.thisArg=l,i.source=r,i.index=0,i.thisArg=l||i,i}return r(e,n),e.prototype.notifyComplete=function(n){this.destination.next(n),this.destination.complete()},e.prototype._next=function(n){var e=!1;try{e=this.predicate.call(this.thisArg,n,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(x);function ja(n,e){return"function"==typeof e?function(t){return t.pipe(ja((function(t,l){return Q(n(t,l)).pipe(W((function(n,r){return e(t,n,l,r)})))})))}:function(e){return e.lift(new za(n))}}var za=function(){function n(n){this.project=n}return n.prototype.call=function(n,e){return e.subscribe(new La(n,this.project))},n}(),La=function(n){function e(e,t){var l=n.call(this,e)||this;return l.project=t,l.index=0,l}return r(e,n),e.prototype._next=function(n){var e,t=this.index++;try{e=this.project(n,t)}catch(l){return void this.destination.error(l)}this._innerSub(e,n,t)},e.prototype._innerSub=function(n,e,t){var l=this.innerSubscription;l&&l.unsubscribe();var r=new V(this,void 0,void 0);this.destination.add(r),this.innerSubscription=B(this,n,e,t,r)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||n.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&n.prototype._complete.call(this)},e.prototype.notifyNext=function(n,e,t,l,r){this.destination.next(e)},e}($);function Ua(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return da()(na.apply(void 0,n))}function Fa(n,e){var t=!1;return arguments.length>=2&&(t=!0),function(l){return l.lift(new Ha(n,e,t))}}var Ha=function(){function n(n,e,t){void 0===t&&(t=!1),this.accumulator=n,this.seed=e,this.hasSeed=t}return n.prototype.call=function(n,e){return e.subscribe(new Ba(n,this.accumulator,this.seed,this.hasSeed))},n}(),Ba=function(n){function e(e,t,l,r){var i=n.call(this,e)||this;return i.accumulator=t,i._seed=l,i.hasSeed=r,i.index=0,i}return r(e,n),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(n){this.hasSeed=!0,this._seed=n},enumerable:!0,configurable:!0}),e.prototype._next=function(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)},e.prototype._tryNext=function(n){var e,t=this.index++;try{e=this.accumulator(this.seed,n,t)}catch(l){this.destination.error(l)}this.seed=e,this.destination.next(e)},e}(x);function $a(n,e){return K(n,e,1)}function Wa(n,e,t){return function(l){return l.lift(new qa(n,e,t))}}var qa=function(){function n(n,e,t){this.nextOrObserver=n,this.error=e,this.complete=t}return n.prototype.call=function(n,e){return e.subscribe(new Ga(n,this.nextOrObserver,this.error,this.complete))},n}(),Ga=function(n){function e(e,t,l,r){var i=n.call(this,e)||this;return i._tapNext=S,i._tapError=S,i._tapComplete=S,i._tapError=l||S,i._tapComplete=r||S,d(t)?(i._context=i,i._tapNext=t):t&&(i._context=t,i._tapNext=t.next||S,i._tapError=t.error||S,i._tapComplete=t.complete||S),i}return r(e,n),e.prototype._next=function(n){try{this._tapNext.call(this._context,n)}catch(e){return void this.destination.error(e)}this.destination.next(n)},e.prototype._error=function(n){try{this._tapError.call(this._context,n)}catch(n){return void this.destination.error(n)}this.destination.error(n)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(n){return void this.destination.error(n)}return this.destination.complete()},e}(x),Za=function(){function n(n){this.callback=n}return n.prototype.call=function(n,e){return e.subscribe(new Qa(n,this.callback))},n}(),Qa=function(n){function e(e,t){var l=n.call(this,e)||this;return l.add(new f(t)),l}return r(e,n),e}(x),Ka=null;function Xa(){return Ka}var Ja,Ya=function(n){function e(){var e=n.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var t=e.createElement("div",document);if(null!=e.getStyle(t,"animationName"))e._animationPrefix="";else for(var l=["Webkit","Moz","O","ms"],r=0;r<l.length;r++)if(null!=e.getStyle(t,l[r]+"AnimationName")){e._animationPrefix="-"+l[r].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach((function(n){null!=e.getStyle(t,n)&&(e._transitionEnd=i[n])}))}catch(o){e._animationPrefix=null,e._transitionEnd=null}return e}return r(e,n),e.prototype.getDistributedNodes=function(n){return n.getDistributedNodes()},e.prototype.resolveAndSetHref=function(n,e,t){n.href=null==t?e:e+"/../"+t},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function n(){this.resourceLoaderType=null}return Object.defineProperty(n.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(n){this._attrToPropMap=n},enumerable:!0,configurable:!0}),n}()),ns={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},es={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ts={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},ls=function(){if(On.Node)return On.Node.prototype.contains||function(n){return!!(16&this.compareDocumentPosition(n))}}(),rs=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return r(e,n),e.prototype.parse=function(n){throw new Error("parse not implemented")},e.makeCurrent=function(){var n;n=new e,Ka||(Ka=n)},e.prototype.hasProperty=function(n,e){return e in n},e.prototype.setProperty=function(n,e,t){n[e]=t},e.prototype.getProperty=function(n,e){return n[e]},e.prototype.invoke=function(n,e,t){var l;(l=n)[e].apply(l,a(t))},e.prototype.logError=function(n){window.console&&(console.error?console.error(n):console.log(n))},e.prototype.log=function(n){window.console&&window.console.log&&window.console.log(n)},e.prototype.logGroup=function(n){window.console&&window.console.group&&window.console.group(n)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return ns},enumerable:!0,configurable:!0}),e.prototype.contains=function(n,e){return ls.call(n,e)},e.prototype.querySelector=function(n,e){return n.querySelector(e)},e.prototype.querySelectorAll=function(n,e){return n.querySelectorAll(e)},e.prototype.on=function(n,e,t){n.addEventListener(e,t,!1)},e.prototype.onAndCancel=function(n,e,t){return n.addEventListener(e,t,!1),function(){n.removeEventListener(e,t,!1)}},e.prototype.dispatchEvent=function(n,e){n.dispatchEvent(e)},e.prototype.createMouseEvent=function(n){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(n,!0,!0),e},e.prototype.createEvent=function(n){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(n,!0,!0),e},e.prototype.preventDefault=function(n){n.preventDefault(),n.returnValue=!1},e.prototype.isPrevented=function(n){return n.defaultPrevented||null!=n.returnValue&&!n.returnValue},e.prototype.getInnerHTML=function(n){return n.innerHTML},e.prototype.getTemplateContent=function(n){return"content"in n&&this.isTemplateElement(n)?n.content:null},e.prototype.getOuterHTML=function(n){return n.outerHTML},e.prototype.nodeName=function(n){return n.nodeName},e.prototype.nodeValue=function(n){return n.nodeValue},e.prototype.type=function(n){return n.type},e.prototype.content=function(n){return this.hasProperty(n,"content")?n.content:n},e.prototype.firstChild=function(n){return n.firstChild},e.prototype.nextSibling=function(n){return n.nextSibling},e.prototype.parentElement=function(n){return n.parentNode},e.prototype.childNodes=function(n){return n.childNodes},e.prototype.childNodesAsList=function(n){for(var e=n.childNodes,t=new Array(e.length),l=0;l<e.length;l++)t[l]=e[l];return t},e.prototype.clearNodes=function(n){for(;n.firstChild;)n.removeChild(n.firstChild)},e.prototype.appendChild=function(n,e){n.appendChild(e)},e.prototype.removeChild=function(n,e){n.removeChild(e)},e.prototype.replaceChild=function(n,e,t){n.replaceChild(e,t)},e.prototype.remove=function(n){return n.parentNode&&n.parentNode.removeChild(n),n},e.prototype.insertBefore=function(n,e,t){n.insertBefore(t,e)},e.prototype.insertAllBefore=function(n,e,t){t.forEach((function(t){return n.insertBefore(t,e)}))},e.prototype.insertAfter=function(n,e,t){n.insertBefore(t,e.nextSibling)},e.prototype.setInnerHTML=function(n,e){n.innerHTML=e},e.prototype.getText=function(n){return n.textContent},e.prototype.setText=function(n,e){n.textContent=e},e.prototype.getValue=function(n){return n.value},e.prototype.setValue=function(n,e){n.value=e},e.prototype.getChecked=function(n){return n.checked},e.prototype.setChecked=function(n,e){n.checked=e},e.prototype.createComment=function(n){return this.getDefaultDocument().createComment(n)},e.prototype.createTemplate=function(n){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=n,e},e.prototype.createElement=function(n,e){return(e=e||this.getDefaultDocument()).createElement(n)},e.prototype.createElementNS=function(n,e,t){return(t=t||this.getDefaultDocument()).createElementNS(n,e)},e.prototype.createTextNode=function(n,e){return(e=e||this.getDefaultDocument()).createTextNode(n)},e.prototype.createScriptTag=function(n,e,t){var l=(t=t||this.getDefaultDocument()).createElement("SCRIPT");return l.setAttribute(n,e),l},e.prototype.createStyleElement=function(n,e){var t=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(t,this.createTextNode(n,e)),t},e.prototype.createShadowRoot=function(n){return n.createShadowRoot()},e.prototype.getShadowRoot=function(n){return n.shadowRoot},e.prototype.getHost=function(n){return n.host},e.prototype.clone=function(n){return n.cloneNode(!0)},e.prototype.getElementsByClassName=function(n,e){return n.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(n,e){return n.getElementsByTagName(e)},e.prototype.classList=function(n){return Array.prototype.slice.call(n.classList,0)},e.prototype.addClass=function(n,e){n.classList.add(e)},e.prototype.removeClass=function(n,e){n.classList.remove(e)},e.prototype.hasClass=function(n,e){return n.classList.contains(e)},e.prototype.setStyle=function(n,e,t){n.style[e]=t},e.prototype.removeStyle=function(n,e){n.style[e]=""},e.prototype.getStyle=function(n,e){return n.style[e]},e.prototype.hasStyle=function(n,e,t){var l=this.getStyle(n,e)||"";return t?l==t:l.length>0},e.prototype.tagName=function(n){return n.tagName},e.prototype.attributeMap=function(n){for(var e=new Map,t=n.attributes,l=0;l<t.length;l++){var r=t.item(l);e.set(r.name,r.value)}return e},e.prototype.hasAttribute=function(n,e){return n.hasAttribute(e)},e.prototype.hasAttributeNS=function(n,e,t){return n.hasAttributeNS(e,t)},e.prototype.getAttribute=function(n,e){return n.getAttribute(e)},e.prototype.getAttributeNS=function(n,e,t){return n.getAttributeNS(e,t)},e.prototype.setAttribute=function(n,e,t){n.setAttribute(e,t)},e.prototype.setAttributeNS=function(n,e,t,l){n.setAttributeNS(e,t,l)},e.prototype.removeAttribute=function(n,e){n.removeAttribute(e)},e.prototype.removeAttributeNS=function(n,e,t){n.removeAttributeNS(e,t)},e.prototype.templateAwareRoot=function(n){return this.isTemplateElement(n)?this.content(n):n},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(n){try{return n.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(n){return n.title},e.prototype.setTitle=function(n,e){n.title=e||""},e.prototype.elementMatches=function(n,e){return!!this.isElementNode(n)&&(n.matches&&n.matches(e)||n.msMatchesSelector&&n.msMatchesSelector(e)||n.webkitMatchesSelector&&n.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(n){return this.isElementNode(n)&&"TEMPLATE"===n.nodeName},e.prototype.isTextNode=function(n){return n.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(n){return n.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(n){return n.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(n){return null!=n.shadowRoot&&n instanceof HTMLElement},e.prototype.isShadowRoot=function(n){return n instanceof DocumentFragment},e.prototype.importIntoDoc=function(n){return document.importNode(this.templateAwareRoot(n),!0)},e.prototype.adoptNode=function(n){return document.adoptNode(n)},e.prototype.getHref=function(n){return n.getAttribute("href")},e.prototype.getEventKey=function(n){var e=n.key;if(null==e){if(null==(e=n.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ts.hasOwnProperty(e)&&(e=ts[e]))}return es[e]||e},e.prototype.getGlobalEventTarget=function(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(n){var e,t=is||(is=document.querySelector("base"))?is.getAttribute("href"):null;return null==t?null:(e=t,Ja||(Ja=document.createElement("a")),Ja.setAttribute("href",e),"/"===Ja.pathname.charAt(0)?Ja.pathname:"/"+Ja.pathname)},e.prototype.resetBaseElement=function(){is=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(n,e,t){this.setAttribute(n,"data-"+e,t)},e.prototype.getData=function(n,e){return this.getAttribute(n,"data-"+e)},e.prototype.getComputedStyle=function(n){return getComputedStyle(n)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(n){return Ru(document.cookie,n)},e.prototype.setCookie=function(n,e){document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(e)},e}(Ya),is=null;function os(){return!!window.history.pushState}var us=function(n){function e(e){var t=n.call(this)||this;return t._doc=e,t._init(),t}return r(e,n),e.prototype._init=function(){this.location=Xa().getLocation(),this._history=Xa().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return Xa().getBaseHref(this._doc)},e.prototype.onPopState=function(n){Xa().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",n,!1)},e.prototype.onHashChange=function(n){Xa().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",n,!1)},Object.defineProperty(e.prototype,"href",{get:function(){return this.location.href},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this.location.protocol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostname",{get:function(){return this.location.hostname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this.location.port},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(n){this.location.pathname=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(n,e,t){os()?this._history.pushState(n,e,t):this.location.hash=t},e.prototype.replaceState=function(n,e,t){os()?this._history.replaceState(n,e,t):this.location.hash=t},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.prototype.getState=function(){return this._history.state},e}(_u),as=new Dn("TRANSITION_ID"),ss=[{provide:Lr,useFactory:function(n,e,t){return function(){t.get(Ur).donePromise.then((function(){var t=Xa();Array.prototype.slice.apply(t.querySelectorAll(e,"style[ng-transition]")).filter((function(e){return t.getAttribute(e,"ng-transition")===n})).forEach((function(n){return t.remove(n)}))}))}},deps:[as,Ku,ze],multi:!0}],cs=function(){function n(){}return n.init=function(){var e;e=new n,_i=e},n.prototype.addToWindow=function(n){On.getAngularTestability=function(e,t){void 0===t&&(t=!0);var l=n.findTestabilityInTree(e,t);if(null==l)throw new Error("Could not find testability for element.");return l},On.getAllAngularTestabilities=function(){return n.getAllTestabilities()},On.getAllAngularRootElements=function(){return n.getAllRootElements()},On.frameworkStabilizers||(On.frameworkStabilizers=[]),On.frameworkStabilizers.push((function(n){var e=On.getAllAngularTestabilities(),t=e.length,l=!1,r=function(e){l=l||e,0==--t&&n(l)};e.forEach((function(n){n.whenStable(r)}))}))},n.prototype.findTestabilityInTree=function(n,e,t){if(null==e)return null;var l=n.getTestability(e);return null!=l?l:t?Xa().isShadowRoot(e)?this.findTestabilityInTree(n,Xa().getHost(e),!0):this.findTestabilityInTree(n,Xa().parentElement(e),!0):null},n}();function ds(n,e){"undefined"!=typeof COMPILED&&COMPILED||((On.ng=On.ng||{})[n]=e)}var ps=function(){return{ApplicationRef:Pi,NgZone:pi}}();function hs(n){return Ui(n)}var fs=new Dn("EventManagerPlugins"),ms=function(){function n(n,e){var t=this;this._zone=e,this._eventNameToPlugin=new Map,n.forEach((function(n){return n.manager=t})),this._plugins=n.slice().reverse()}return n.prototype.addEventListener=function(n,e,t){return this._findPluginFor(e).addEventListener(n,e,t)},n.prototype.addGlobalEventListener=function(n,e,t){return this._findPluginFor(e).addGlobalEventListener(n,e,t)},n.prototype.getZone=function(){return this._zone},n.prototype._findPluginFor=function(n){var e=this._eventNameToPlugin.get(n);if(e)return e;for(var t=this._plugins,l=0;l<t.length;l++){var r=t[l];if(r.supports(n))return this._eventNameToPlugin.set(n,r),r}throw new Error("No event manager plugin found for event "+n)},n}(),gs=function(){function n(n){this._doc=n}return n.prototype.addGlobalEventListener=function(n,e,t){var l=Xa().getGlobalEventTarget(this._doc,n);if(!l)throw new Error("Unsupported event target "+l+" for event "+e);return this.addEventListener(l,e,t)},n}(),vs=function(){function n(){this._stylesSet=new Set}return n.prototype.addStyles=function(n){var e=this,t=new Set;n.forEach((function(n){e._stylesSet.has(n)||(e._stylesSet.add(n),t.add(n))})),this.onStylesAdded(t)},n.prototype.onStylesAdded=function(n){},n.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},n}(),ys=function(n){function e(e){var t=n.call(this)||this;return t._doc=e,t._hostNodes=new Set,t._styleNodes=new Set,t._hostNodes.add(e.head),t}return r(e,n),e.prototype._addStylesToHost=function(n,e){var t=this;n.forEach((function(n){var l=t._doc.createElement("style");l.textContent=n,t._styleNodes.add(e.appendChild(l))}))},e.prototype.addHost=function(n){this._addStylesToHost(this._stylesSet,n),this._hostNodes.add(n)},e.prototype.removeHost=function(n){this._hostNodes.delete(n)},e.prototype.onStylesAdded=function(n){var e=this;this._hostNodes.forEach((function(t){return e._addStylesToHost(n,t)}))},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach((function(n){return Xa().remove(n)}))},e}(vs),bs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ws=/%COMP%/g,xs="_nghost-%COMP%",_s="_ngcontent-%COMP%";function Cs(n,e,t){for(var l=0;l<e.length;l++){var r=e[l];Array.isArray(r)?Cs(n,r,t):(r=r.replace(ws,n),t.push(r))}return t}function Ss(n){return function(e){!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}var Is=function(){function n(n,e,t){this.eventManager=n,this.sharedStylesHost=e,this.appId=t,this.rendererByCompId=new Map,this.defaultRenderer=new ks(n)}return n.prototype.createRenderer=function(n,e){if(!n||!e)return this.defaultRenderer;switch(e.encapsulation){case Qn.Emulated:var t=this.rendererByCompId.get(e.id);return t||(t=new Ps(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,t)),t.applyToHost(n),t;case Qn.Native:case Qn.ShadowDom:return new As(this.eventManager,this.sharedStylesHost,n,e);default:if(!this.rendererByCompId.has(e.id)){var l=Cs(e.id,e.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},n.prototype.begin=function(){},n.prototype.end=function(){},n}(),ks=function(){function n(n){this.eventManager=n,this.data=Object.create(null)}return n.prototype.destroy=function(){},n.prototype.createElement=function(n,e){return e?document.createElementNS(bs[e]||e,n):document.createElement(n)},n.prototype.createComment=function(n){return document.createComment(n)},n.prototype.createText=function(n){return document.createTextNode(n)},n.prototype.appendChild=function(n,e){n.appendChild(e)},n.prototype.insertBefore=function(n,e,t){n&&n.insertBefore(e,t)},n.prototype.removeChild=function(n,e){n&&n.removeChild(e)},n.prototype.selectRootElement=function(n,e){var t="string"==typeof n?document.querySelector(n):n;if(!t)throw new Error('The selector "'+n+'" did not match any elements');return e||(t.textContent=""),t},n.prototype.parentNode=function(n){return n.parentNode},n.prototype.nextSibling=function(n){return n.nextSibling},n.prototype.setAttribute=function(n,e,t,l){if(l){e=l+":"+e;var r=bs[l];r?n.setAttributeNS(r,e,t):n.setAttribute(e,t)}else n.setAttribute(e,t)},n.prototype.removeAttribute=function(n,e,t){if(t){var l=bs[t];l?n.removeAttributeNS(l,e):n.removeAttribute(t+":"+e)}else n.removeAttribute(e)},n.prototype.addClass=function(n,e){n.classList.add(e)},n.prototype.removeClass=function(n,e){n.classList.remove(e)},n.prototype.setStyle=function(n,e,t,l){l&gt.DashCase?n.style.setProperty(e,t,l&gt.Important?"important":""):n.style[e]=t},n.prototype.removeStyle=function(n,e,t){t&gt.DashCase?n.style.removeProperty(e):n.style[e]=""},n.prototype.setProperty=function(n,e,t){Ts(e,"property"),n[e]=t},n.prototype.setValue=function(n,e){n.nodeValue=e},n.prototype.listen=function(n,e,t){return Ts(e,"listener"),"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,Ss(t)):this.eventManager.addEventListener(n,e,Ss(t))},n}(),Es=function(){return"@".charCodeAt(0)}();function Ts(n,e){if(n.charCodeAt(0)===Es)throw new Error("Found the synthetic "+e+" "+n+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var Ps=function(n){function e(e,t,l,r){var i=n.call(this,e)||this;i.component=l;var o=Cs(r+"-"+l.id,l.styles,[]);return t.addStyles(o),i.contentAttr=_s.replace(ws,r+"-"+l.id),i.hostAttr=function(n){return xs.replace(ws,n)}(r+"-"+l.id),i}return r(e,n),e.prototype.applyToHost=function(e){n.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,t){var l=n.prototype.createElement.call(this,e,t);return n.prototype.setAttribute.call(this,l,this.contentAttr,""),l},e}(ks),As=function(n){function e(e,t,l,r){var i=n.call(this,e)||this;i.sharedStylesHost=t,i.hostEl=l,i.component=r,i.shadowRoot=r.encapsulation===Qn.ShadowDom?l.attachShadow({mode:"open"}):l.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var o=Cs(r.id,r.styles,[]),u=0;u<o.length;u++){var a=document.createElement("style");a.textContent=o[u],i.shadowRoot.appendChild(a)}return i}return r(e,n),e.prototype.nodeOrShadowRoot=function(n){return n===this.hostEl?this.shadowRoot:n},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,t){return n.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),t)},e.prototype.insertBefore=function(e,t,l){return n.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),t,l)},e.prototype.removeChild=function(e,t){return n.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),t)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(n.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(ks),Os=function(){return"undefined"!=typeof Zone&&Zone.__symbol__||function(n){return"__zone_symbol__"+n}}(),Ds=Os("addEventListener"),Ns=Os("removeEventListener"),Rs={},Ms="__zone_symbol__propagationStopped",Vs=function(){var n="undefined"!=typeof Zone&&Zone[Os("BLACK_LISTED_EVENTS")];if(n){var e={};return n.forEach((function(n){e[n]=n})),e}}(),js=function(n){return!!Vs&&Vs.hasOwnProperty(n)},zs=function(n){var e=Rs[n.type];if(e){var t=this[e];if(t){var l=[n];if(1===t.length)return(o=t[0]).zone!==Zone.current?o.zone.run(o.handler,this,l):o.handler.apply(this,l);for(var r=t.slice(),i=0;i<r.length&&!0!==n[Ms];i++){var o;(o=r[i]).zone!==Zone.current?o.zone.run(o.handler,this,l):o.handler.apply(this,l)}}}},Ls=function(n){function e(e,t,l){var r=n.call(this,e)||this;return r.ngZone=t,l&&function(n){return n===Xu}(l)||r.patchEvent(),r}return r(e,n),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var n=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Ms]=!0),n&&n.apply(this,arguments)}}},e.prototype.supports=function(n){return!0},e.prototype.addEventListener=function(n,e,t){var l=this,r=t;if(!n[Ds]||pi.isInAngularZone()&&!js(e))n.addEventListener(e,r,!1);else{var i=Rs[e];i||(i=Rs[e]=Os("ANGULAR"+e+"FALSE"));var o=n[i],u=o&&o.length>0;o||(o=n[i]=[]);var a=js(e)?Zone.root:Zone.current;if(0===o.length)o.push({zone:a,handler:r});else{for(var s=!1,c=0;c<o.length;c++)if(o[c].handler===r){s=!0;break}s||o.push({zone:a,handler:r})}u||n[Ds](e,zs,!1)}return function(){return l.removeEventListener(n,e,r)}},e.prototype.removeEventListener=function(n,e,t){var l=n[Ns];if(!l)return n.removeEventListener.apply(n,[e,t,!1]);var r=Rs[e],i=r&&n[r];if(!i)return n.removeEventListener.apply(n,[e,t,!1]);for(var o=!1,u=0;u<i.length;u++)if(i[u].handler===t){o=!0,i.splice(u,1);break}o?0===i.length&&l.apply(n,[e,zs,!1]):n.removeEventListener.apply(n,[e,t,!1])},e}(gs),Us={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Fs=new Dn("HammerGestureConfig"),Hs=new Dn("HammerLoader"),Bs=function(){function n(){this.events=[],this.overrides={}}return n.prototype.buildHammer=function(n){var e=new Hammer(n,this.options);for(var t in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(t).set(this.overrides[t]);return e},n}(),$s=function(n){function e(e,t,l,r){var i=n.call(this,e)||this;return i._config=t,i.console=l,i.loader=r,i}return r(e,n),e.prototype.supports=function(n){return!(!Us.hasOwnProperty(n.toLowerCase())&&!this.isCustomEvent(n)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+n+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(n,e,t){var l=this,r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var i=!1,o=function(){i=!0};return this.loader().then((function(){if(!window.Hammer)return l.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(o=function(){});i||(o=l.addEventListener(n,e,t))})).catch((function(){l.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),o=function(){}})),function(){o()}}return r.runOutsideAngular((function(){var i=l._config.buildHammer(n),o=function(n){r.runGuarded((function(){t(n)}))};return i.on(e,o),function(){i.off(e,o),"function"==typeof i.destroy&&i.destroy()}}))},e.prototype.isCustomEvent=function(n){return this._config.events.indexOf(n)>-1},e}(gs),Ws=["alt","control","meta","shift"],qs={alt:function(n){return n.altKey},control:function(n){return n.ctrlKey},meta:function(n){return n.metaKey},shift:function(n){return n.shiftKey}},Gs=function(n){function e(e){return n.call(this,e)||this}var t;return r(e,n),t=e,e.prototype.supports=function(n){return null!=t.parseEventName(n)},e.prototype.addEventListener=function(n,e,l){var r=t.parseEventName(e),i=t.eventCallback(r.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Xa().onAndCancel(n,r.domEventName,i)}))},e.parseEventName=function(n){var e=n.toLowerCase().split("."),l=e.shift();if(0===e.length||"keydown"!==l&&"keyup"!==l)return null;var r=t._normalizeKey(e.pop()),i="";if(Ws.forEach((function(n){var t=e.indexOf(n);t>-1&&(e.splice(t,1),i+=n+".")})),i+=r,0!=e.length||0===r.length)return null;var o={};return o.domEventName=l,o.fullKey=i,o},e.getEventFullKey=function(n){var e="",t=Xa().getEventKey(n);return" "===(t=t.toLowerCase())?t="space":"."===t&&(t="dot"),Ws.forEach((function(l){l!=t&&(0,qs[l])(n)&&(e+=l+".")})),e+=t},e.eventCallback=function(n,e,l){return function(r){t.getEventFullKey(r)===n&&l.runGuarded((function(){return e(r)}))}},e._normalizeKey=function(n){switch(n){case"esc":return"escape";default:return n}},e}(gs),Zs=function(){return function(){}}(),Qs=function(n){function e(e){var t=n.call(this)||this;return t._doc=e,t}return r(e,n),e.prototype.sanitize=function(n,e){if(null==e)return null;switch(n){case Te.NONE:return e;case Te.HTML:return e instanceof Xs?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(n,e){var t=null;try{he=he||new ue(n);var l=e?String(e):"";t=he.getInertBodyElement(l);var r=5,i=l;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,l=i,i=t.innerHTML,t=he.getInertBodyElement(l)}while(l!==i);var o=new Ce,u=o.sanitizeChildren(Ee(t)||t);return oe()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),u}finally{if(t)for(var a=Ee(t)||t;a.firstChild;)a.removeChild(a.firstChild)}}(this._doc,String(e)));case Te.STYLE:return e instanceof Js?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(n){if(!(n=String(n).trim()))return"";var e=n.match(Oe);return e&&ce(e[1])===e[1]||n.match(Ae)&&function(n){for(var e=!0,t=!0,l=0;l<n.length;l++){var r=n.charAt(l);"'"===r&&t?e=!e:'"'===r&&e&&(t=!t)}return e&&t}(n)?n:(oe()&&console.warn("WARNING: sanitizing unsafe style value "+n+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case Te.SCRIPT:if(e instanceof Ys)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Te.URL:return e instanceof ec||e instanceof nc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),ce(String(e)));case Te.RESOURCE_URL:if(e instanceof ec)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+n+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(n,e){if(n instanceof Ks)throw new Error("Required a safe "+e+", got a "+n.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(n){return new Xs(n)},e.prototype.bypassSecurityTrustStyle=function(n){return new Js(n)},e.prototype.bypassSecurityTrustScript=function(n){return new Ys(n)},e.prototype.bypassSecurityTrustUrl=function(n){return new nc(n)},e.prototype.bypassSecurityTrustResourceUrl=function(n){return new ec(n)},e}(Zs),Ks=function(){function n(n){this.changingThisBreaksApplicationSecurity=n}return n.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},n}(),Xs=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return r(e,n),e.prototype.getTypeName=function(){return"HTML"},e}(Ks),Js=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return r(e,n),e.prototype.getTypeName=function(){return"Style"},e}(Ks),Ys=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return r(e,n),e.prototype.getTypeName=function(){return"Script"},e}(Ks),nc=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return r(e,n),e.prototype.getTypeName=function(){return"URL"},e}(Ks),ec=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return r(e,n),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Ks),tc=Ii(Hi,"browser",[{provide:Wr,useValue:"browser"},{provide:$r,useValue:function(){rs.makeCurrent(),cs.init()},multi:!0},{provide:_u,useClass:us,deps:[Ku]},{provide:Ku,useFactory:function(){return document},deps:[]}]);function lc(){return new le}var rc=function(){function n(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=n,n.withServerTransition=function(n){return{ngModule:e,providers:[{provide:Fr,useValue:n.appId},{provide:as,useExisting:Fr},ss]}},n}();"undefined"!=typeof window&&window;var ic=function(){return function(n,e){this.id=n,this.url=e}}(),oc=function(n){function e(e,t,l,r){void 0===l&&(l="imperative"),void 0===r&&(r=null);var i=n.call(this,e,t)||this;return i.navigationTrigger=l,i.restoredState=r,i}return r(e,n),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(ic),uc=function(n){function e(e,t,l){var r=n.call(this,e,t)||this;return r.urlAfterRedirects=l,r}return r(e,n),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(ic),ac=function(n){function e(e,t,l){var r=n.call(this,e,t)||this;return r.reason=l,r}return r(e,n),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(ic),sc=function(n){function e(e,t,l){var r=n.call(this,e,t)||this;return r.error=l,r}return r(e,n),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(ic),cc=function(n){function e(e,t,l,r){var i=n.call(this,e,t)||this;return i.urlAfterRedirects=l,i.state=r,i}return r(e,n),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ic),dc=function(n){function e(e,t,l,r){var i=n.call(this,e,t)||this;return i.urlAfterRedirects=l,i.state=r,i}return r(e,n),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ic),pc=function(n){function e(e,t,l,r,i){var o=n.call(this,e,t)||this;return o.urlAfterRedirects=l,o.state=r,o.shouldActivate=i,o}return r(e,n),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(ic),hc=function(n){function e(e,t,l,r){var i=n.call(this,e,t)||this;return i.urlAfterRedirects=l,i.state=r,i}return r(e,n),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ic),fc=function(n){function e(e,t,l,r){var i=n.call(this,e,t)||this;return i.urlAfterRedirects=l,i.state=r,i}return r(e,n),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ic),mc=function(){function n(n){this.route=n}return n.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},n}(),gc=function(){function n(n){this.route=n}return n.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},n}(),vc=function(){function n(n){this.snapshot=n}return n.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},n}(),yc=function(){function n(n){this.snapshot=n}return n.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},n}(),bc=function(){function n(n){this.snapshot=n}return n.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},n}(),wc=function(){function n(n){this.snapshot=n}return n.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},n}(),xc=function(){function n(n,e,t){this.routerEvent=n,this.position=e,this.anchor=t}return n.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},n}(),_c=function(){return function(){}}(),Cc="primary",Sc=function(){function n(n){this.params=n||{}}return n.prototype.has=function(n){return this.params.hasOwnProperty(n)},n.prototype.get=function(n){if(this.has(n)){var e=this.params[n];return Array.isArray(e)?e[0]:e}return null},n.prototype.getAll=function(n){if(this.has(n)){var e=this.params[n];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(n.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),n}();function Ic(n){return new Sc(n)}var kc="ngNavigationCancelingError";function Ec(n){var e=Error("NavigationCancelingError: "+n);return e[kc]=!0,e}function Tc(n,e,t){var l=t.path.split("/");if(l.length>n.length)return null;if("full"===t.pathMatch&&(e.hasChildren()||l.length<n.length))return null;for(var r={},i=0;i<l.length;i++){var o=l[i],u=n[i];if(o.startsWith(":"))r[o.substring(1)]=u;else if(o!==u.path)return null}return{consumed:n.slice(0,l.length),posParams:r}}var Pc=function(){return function(n,e){this.routes=n,this.module=e}}();function Ac(n,e){void 0===e&&(e="");for(var t=0;t<n.length;t++){var l=n[t];Oc(l,Dc(e,l))}}function Oc(n,e){if(!n)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(n))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!n.component&&!n.children&&!n.loadChildren&&n.outlet&&n.outlet!==Cc)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(n.redirectTo&&n.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(n.redirectTo&&n.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(n.children&&n.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(n.redirectTo&&n.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(n.path&&n.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===n.redirectTo&&!n.component&&!n.children&&!n.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===n.path&&void 0===n.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof n.path&&"/"===n.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===n.path&&void 0!==n.redirectTo&&void 0===n.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+n.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==n.pathMatch&&"full"!==n.pathMatch&&"prefix"!==n.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");n.children&&Ac(n.children,e)}function Dc(n,e){return e?n||e.path?n&&!e.path?n+"/":!n&&e.path?e.path:n+"/"+e.path:"":n}function Nc(n){var e=n.children&&n.children.map(Nc),t=e?i({},n,{children:e}):i({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Cc&&(t.component=_c),t}function Rc(n,e){var t,l=Object.keys(n),r=Object.keys(e);if(!l||!r||l.length!=r.length)return!1;for(var i=0;i<l.length;i++)if(n[t=l[i]]!==e[t])return!1;return!0}function Mc(n){return Array.prototype.concat.apply([],n)}function Vc(n){return n.length>0?n[n.length-1]:null}function jc(n,e){for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)}function zc(n){return et(n)?n:nt(n)?Q(Promise.resolve(n)):na(n)}function Lc(n,e,t){return t?function(n,e){return Rc(n,e)}(n.queryParams,e.queryParams)&&function n(e,t){if(!Bc(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(var l in t.children){if(!e.children[l])return!1;if(!n(e.children[l],t.children[l]))return!1}return!0}(n.root,e.root):function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every((function(t){return e[t]===n[t]}))}(n.queryParams,e.queryParams)&&function n(e,t){return function e(t,l,r){if(t.segments.length>r.length)return!!Bc(o=t.segments.slice(0,r.length),r)&&!l.hasChildren();if(t.segments.length===r.length){if(!Bc(t.segments,r))return!1;for(var i in l.children){if(!t.children[i])return!1;if(!n(t.children[i],l.children[i]))return!1}return!0}var o=r.slice(0,t.segments.length),u=r.slice(t.segments.length);return!!Bc(t.segments,o)&&!!t.children[Cc]&&e(t.children[Cc],l,u)}(e,t,t.segments)}(n.root,e.root)}var Uc=function(){function n(n,e,t){this.root=n,this.queryParams=e,this.fragment=t}return Object.defineProperty(n.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Ic(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return Gc.serialize(this)},n}(),Fc=function(){function n(n,e){var t=this;this.segments=n,this.children=e,this.parent=null,jc(e,(function(n,e){return n.parent=t}))}return n.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(n.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return Zc(this)},n}(),Hc=function(){function n(n,e){this.path=n,this.parameters=e}return Object.defineProperty(n.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Ic(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return nd(this)},n}();function Bc(n,e){return n.length===e.length&&n.every((function(n,t){return n.path===e[t].path}))}function $c(n,e){var t=[];return jc(n.children,(function(n,l){l===Cc&&(t=t.concat(e(n,l)))})),jc(n.children,(function(n,l){l!==Cc&&(t=t.concat(e(n,l)))})),t}var Wc=function(){return function(){}}(),qc=function(){function n(){}return n.prototype.parse=function(n){var e=new id(n);return new Uc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},n.prototype.serialize=function(n){var e,t;return"/"+function n(e,t){if(!e.hasChildren())return Zc(e);if(t){var l=e.children[Cc]?n(e.children[Cc],!1):"",r=[];return jc(e.children,(function(e,t){t!==Cc&&r.push(t+":"+n(e,!1))})),r.length>0?l+"("+r.join("//")+")":l}var i=$c(e,(function(t,l){return l===Cc?[n(e.children[Cc],!1)]:[l+":"+n(t,!1)]}));return Zc(e)+"/("+i.join("//")+")"}(n.root,!0)+(e=n.queryParams,(t=Object.keys(e).map((function(n){var t=e[n];return Array.isArray(t)?t.map((function(e){return Kc(n)+"="+Kc(e)})).join("&"):Kc(n)+"="+Kc(t)}))).length?"?"+t.join("&"):"")+("string"==typeof n.fragment?"#"+encodeURI(n.fragment):"")},n}(),Gc=new qc;function Zc(n){return n.segments.map((function(n){return nd(n)})).join("/")}function Qc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kc(n){return Qc(n).replace(/%3B/gi,";")}function Xc(n){return Qc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jc(n){return decodeURIComponent(n)}function Yc(n){return Jc(n.replace(/\+/g,"%20"))}function nd(n){return""+Xc(n.path)+(e=n.parameters,Object.keys(e).map((function(n){return";"+Xc(n)+"="+Xc(e[n])})).join(""));var e}var ed=/^[^\/()?;=#]+/;function td(n){var e=n.match(ed);return e?e[0]:""}var ld=/^[^=?&#]+/,rd=/^[^?&#]+/,id=function(){function n(n){this.url=n,this.remaining=n}return n.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fc([],{}):new Fc([],this.parseChildren())},n.prototype.parseQueryParams=function(){var n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n},n.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},n.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(t[Cc]=new Fc(n,e)),t},n.prototype.parseSegment=function(){var n=td(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(n),new Hc(Jc(n),this.parseMatrixParams())},n.prototype.parseMatrixParams=function(){for(var n={};this.consumeOptional(";");)this.parseParam(n);return n},n.prototype.parseParam=function(n){var e=td(this.remaining);if(e){this.capture(e);var t="";if(this.consumeOptional("=")){var l=td(this.remaining);l&&this.capture(t=l)}n[Jc(e)]=Jc(t)}},n.prototype.parseQueryParam=function(n){var e,t=(e=this.remaining.match(ld))?e[0]:"";if(t){this.capture(t);var l="";if(this.consumeOptional("=")){var r=function(n){var e=n.match(rd);return e?e[0]:""}(this.remaining);r&&this.capture(l=r)}var i=Yc(t),o=Yc(l);if(n.hasOwnProperty(i)){var u=n[i];Array.isArray(u)||(n[i]=u=[u]),u.push(o)}else n[i]=o}},n.prototype.parseParens=function(n){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var t=td(this.remaining),l=this.remaining[t.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error("Cannot parse url '"+this.url+"'");var r=void 0;t.indexOf(":")>-1?(r=t.substr(0,t.indexOf(":")),this.capture(r),this.capture(":")):n&&(r=Cc);var i=this.parseChildren();e[r]=1===Object.keys(i).length?i[Cc]:new Fc([],i),this.consumeOptional("//")}return e},n.prototype.peekStartsWith=function(n){return this.remaining.startsWith(n)},n.prototype.consumeOptional=function(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)},n.prototype.capture=function(n){if(!this.consumeOptional(n))throw new Error('Expected "'+n+'".')},n}(),od=function(){function n(n){this._root=n}return Object.defineProperty(n.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),n.prototype.parent=function(n){var e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null},n.prototype.children=function(n){var e=ud(n,this._root);return e?e.children.map((function(n){return n.value})):[]},n.prototype.firstChild=function(n){var e=ud(n,this._root);return e&&e.children.length>0?e.children[0].value:null},n.prototype.siblings=function(n){var e=ad(n,this._root);return e.length<2?[]:e[e.length-2].children.map((function(n){return n.value})).filter((function(e){return e!==n}))},n.prototype.pathFromRoot=function(n){return ad(n,this._root).map((function(n){return n.value}))},n}();function ud(n,e){var t,l;if(n===e.value)return e;try{for(var r=o(e.children),i=r.next();!i.done;i=r.next()){var u=ud(n,i.value);if(u)return u}}catch(a){t={error:a}}finally{try{i&&!i.done&&(l=r.return)&&l.call(r)}finally{if(t)throw t.error}}return null}function ad(n,e){var t,l;if(n===e.value)return[e];try{for(var r=o(e.children),i=r.next();!i.done;i=r.next()){var u=ad(n,i.value);if(u.length)return u.unshift(e),u}}catch(a){t={error:a}}finally{try{i&&!i.done&&(l=r.return)&&l.call(r)}finally{if(t)throw t.error}}return[]}var sd=function(){function n(n,e){this.value=n,this.children=e}return n.prototype.toString=function(){return"TreeNode("+this.value+")"},n}();function cd(n){var e={};return n&&n.children.forEach((function(n){return e[n.value.outlet]=n})),e}var dd=function(n){function e(e,t){var l=n.call(this,e)||this;return l.snapshot=t,vd(l,e),l}return r(e,n),e.prototype.toString=function(){return this.snapshot.toString()},e}(od);function pd(n,e){var t=function(n,e){var t=new md([],{},{},"",{},Cc,e,null,n.root,-1,{});return new gd("",new sd(t,[]))}(n,e),l=new ea([new Hc("",{})]),r=new ea({}),i=new ea({}),o=new ea({}),u=new ea(""),a=new hd(l,r,o,u,i,Cc,e,t.root);return a.snapshot=t.root,new dd(new sd(a,[]),t)}var hd=function(){function n(n,e,t,l,r,i,o,u){this.url=n,this.params=e,this.queryParams=t,this.fragment=l,this.data=r,this.outlet=i,this.component=o,this._futureSnapshot=u}return Object.defineProperty(n.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(W((function(n){return Ic(n)})))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(W((function(n){return Ic(n)})))),this._queryParamMap},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},n}();function fd(n,e){void 0===e&&(e="emptyOnly");var t=n.pathFromRoot,l=0;if("always"!==e)for(l=t.length-1;l>=1;){var r=t[l],o=t[l-1];if(r.routeConfig&&""===r.routeConfig.path)l--;else{if(o.component)break;l--}}return function(n){return n.reduce((function(n,e){return{params:i({},n.params,e.params),data:i({},n.data,e.data),resolve:i({},n.resolve,e._resolvedData)}}),{params:{},data:{},resolve:{}})}(t.slice(l))}var md=function(){function n(n,e,t,l,r,i,o,u,a,s,c){this.url=n,this.params=e,this.queryParams=t,this.fragment=l,this.data=r,this.outlet=i,this.component=o,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=s,this._resolve=c}return Object.defineProperty(n.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Ic(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Ic(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return"Route(url:'"+this.url.map((function(n){return n.toString()})).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},n}(),gd=function(n){function e(e,t){var l=n.call(this,t)||this;return l.url=e,vd(l,t),l}return r(e,n),e.prototype.toString=function(){return yd(this._root)},e}(od);function vd(n,e){e.value._routerState=n,e.children.forEach((function(e){return vd(n,e)}))}function yd(n){var e=n.children.length>0?" { "+n.children.map(yd).join(", ")+" } ":"";return""+n.value+e}function bd(n){if(n.snapshot){var e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Rc(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;++t)if(!Rc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Rc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function wd(n,e){var t,l;return Rc(n.params,e.params)&&Bc(t=n.url,l=e.url)&&t.every((function(n,e){return Rc(n.parameters,l[e].parameters)}))&&!(!n.parent!=!e.parent)&&(!n.parent||wd(n.parent,e.parent))}function xd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _d(n,e,t,l,r){var i={};return l&&jc(l,(function(n,e){i[e]=Array.isArray(n)?n.map((function(n){return""+n})):""+n})),new Uc(t.root===n?e:function n(e,t,l){var r={};return jc(e.children,(function(e,i){r[i]=e===t?l:n(e,t,l)})),new Fc(e.segments,r)}(t.root,n,e),i,r)}var Cd=function(){function n(n,e,t){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=t,n&&t.length>0&&xd(t[0]))throw new Error("Root segment cannot have matrix parameters");var l=t.find((function(n){return"object"==typeof n&&null!=n&&n.outlets}));if(l&&l!==Vc(t))throw new Error("{outlets:{}} has to be the last command")}return n.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},n}(),Sd=function(){return function(n,e,t){this.segmentGroup=n,this.processChildren=e,this.index=t}}();function Id(n){return"object"==typeof n&&null!=n&&n.outlets?n.outlets[Cc]:""+n}function kd(n,e,t){if(n||(n=new Fc([],{})),0===n.segments.length&&n.hasChildren())return Ed(n,e,t);var l=function(n,e,t){for(var l=0,r=e,i={match:!1,pathIndex:0,commandIndex:0};r<n.segments.length;){if(l>=t.length)return i;var o=n.segments[r],u=Id(t[l]),a=l<t.length-1?t[l+1]:null;if(r>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!Od(u,a,o))return i;l+=2}else{if(!Od(u,{},o))return i;l++}r++}return{match:!0,pathIndex:r,commandIndex:l}}(n,e,t),r=t.slice(l.commandIndex);if(l.match&&l.pathIndex<n.segments.length){var i=new Fc(n.segments.slice(0,l.pathIndex),{});return i.children[Cc]=new Fc(n.segments.slice(l.pathIndex),n.children),Ed(i,0,r)}return l.match&&0===r.length?new Fc(n.segments,{}):l.match&&!n.hasChildren()?Td(n,e,t):l.match?Ed(n,0,r):Td(n,e,t)}function Ed(n,e,t){if(0===t.length)return new Fc(n.segments,{});var l=function(n){var e,t;return"object"!=typeof n[0]?((e={})[Cc]=n,e):void 0===n[0].outlets?((t={})[Cc]=n,t):n[0].outlets}(t),r={};return jc(l,(function(t,l){null!==t&&(r[l]=kd(n.children[l],e,t))})),jc(n.children,(function(n,e){void 0===l[e]&&(r[e]=n)})),new Fc(n.segments,r)}function Td(n,e,t){for(var l=n.segments.slice(0,e),r=0;r<t.length;){if("object"==typeof t[r]&&void 0!==t[r].outlets){var i=Pd(t[r].outlets);return new Fc(l,i)}if(0===r&&xd(t[0]))l.push(new Hc(n.segments[e].path,t[0])),r++;else{var o=Id(t[r]),u=r<t.length-1?t[r+1]:null;o&&u&&xd(u)?(l.push(new Hc(o,Ad(u))),r+=2):(l.push(new Hc(o,{})),r++)}}return new Fc(l,{})}function Pd(n){var e={};return jc(n,(function(n,t){null!==n&&(e[t]=Td(new Fc([],{}),0,n))})),e}function Ad(n){var e={};return jc(n,(function(n,t){return e[t]=""+n})),e}function Od(n,e,t){return n==t.path&&Rc(e,t.parameters)}var Dd=function(){function n(n,e,t,l){this.routeReuseStrategy=n,this.futureState=e,this.currState=t,this.forwardEvent=l}return n.prototype.activate=function(n){var e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,n),bd(this.futureState.root),this.activateChildRoutes(e,t,n)},n.prototype.deactivateChildRoutes=function(n,e,t){var l=this,r=cd(e);n.children.forEach((function(n){var e=n.value.outlet;l.deactivateRoutes(n,r[e],t),delete r[e]})),jc(r,(function(n,e){l.deactivateRouteAndItsChildren(n,t)}))},n.prototype.deactivateRoutes=function(n,e,t){var l=n.value,r=e?e.value:null;if(l===r)if(l.component){var i=t.getContext(l.outlet);i&&this.deactivateChildRoutes(n,e,i.children)}else this.deactivateChildRoutes(n,e,t);else r&&this.deactivateRouteAndItsChildren(e,t)},n.prototype.deactivateRouteAndItsChildren=function(n,e){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)},n.prototype.detachAndStoreRouteSubtree=function(n,e){var t=e.getContext(n.value.outlet);if(t&&t.outlet){var l=t.outlet.detach(),r=t.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:r})}},n.prototype.deactivateRouteAndOutlet=function(n,e){var t=this,l=e.getContext(n.value.outlet);if(l){var r=cd(n),i=n.value.component?l.children:e;jc(r,(function(n,e){return t.deactivateRouteAndItsChildren(n,i)})),l.outlet&&(l.outlet.deactivate(),l.children.onOutletDeactivated())}},n.prototype.activateChildRoutes=function(n,e,t){var l=this,r=cd(e);n.children.forEach((function(n){l.activateRoutes(n,r[n.value.outlet],t),l.forwardEvent(new wc(n.value.snapshot))})),n.children.length&&this.forwardEvent(new yc(n.value.snapshot))},n.prototype.activateRoutes=function(n,e,t){var l=n.value,r=e?e.value:null;if(bd(l),l===r)if(l.component){var i=t.getOrCreateContext(l.outlet);this.activateChildRoutes(n,e,i.children)}else this.activateChildRoutes(n,e,t);else if(l.component)if(i=t.getOrCreateContext(l.outlet),this.routeReuseStrategy.shouldAttach(l.snapshot)){var o=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),i.children.onOutletReAttached(o.contexts),i.attachRef=o.componentRef,i.route=o.route.value,i.outlet&&i.outlet.attach(o.componentRef,o.route.value),Nd(o.route)}else{var u=function(n){for(var e=n.parent;e;e=e.parent){var t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(l.snapshot),a=u?u.module.componentFactoryResolver:null;i.attachRef=null,i.route=l,i.resolver=a,i.outlet&&i.outlet.activateWith(l,a),this.activateChildRoutes(n,null,i.children)}else this.activateChildRoutes(n,null,t)},n}();function Nd(n){bd(n.value),n.children.forEach(Nd)}function Rd(n){return"function"==typeof n}function Md(n){return n instanceof Uc}var Vd=function(){return function(n){this.segmentGroup=n||null}}(),jd=function(){return function(n){this.urlTree=n}}();function zd(n){return new E((function(e){return e.error(new Vd(n))}))}function Ld(n){return new E((function(e){return e.error(new jd(n))}))}function Ud(n){return new E((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+n+"'"))}))}var Fd=function(){function n(n,e,t,l,r){this.configLoader=e,this.urlSerializer=t,this.urlTree=l,this.config=r,this.allowRedirects=!0,this.ngModule=n.get(Wn)}return n.prototype.apply=function(){var n=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Cc).pipe(W((function(e){return n.createUrlTree(e,n.urlTree.queryParams,n.urlTree.fragment)}))).pipe(Ta((function(e){if(e instanceof jd)return n.allowRedirects=!1,n.match(e.urlTree);if(e instanceof Vd)throw n.noMatchError(e);throw e})))},n.prototype.match=function(n){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,n.root,Cc).pipe(W((function(t){return e.createUrlTree(t,n.queryParams,n.fragment)}))).pipe(Ta((function(n){if(n instanceof Vd)throw e.noMatchError(n);throw n})))},n.prototype.noMatchError=function(n){return new Error("Cannot match any routes. URL Segment: '"+n.segmentGroup+"'")},n.prototype.createUrlTree=function(n,e,t){var l,r=n.segments.length>0?new Fc([],((l={})[Cc]=n,l)):n;return new Uc(r,e,t)},n.prototype.expandSegmentGroup=function(n,e,t,l){return 0===t.segments.length&&t.hasChildren()?this.expandChildren(n,e,t).pipe(W((function(n){return new Fc([],n)}))):this.expandSegment(n,t,e,t.segments,l,!0)},n.prototype.expandChildren=function(n,e,t){var l=this;return function(t,r){if(0===Object.keys(t).length)return na({});var i=[],o=[],u={};return jc(t,(function(t,r){var a,s,c=(a=r,s=t,l.expandSegmentGroup(n,e,s,a)).pipe(W((function(n){return u[r]=n})));r===Cc?i.push(c):o.push(c)})),na.apply(null,i.concat(o)).pipe(da(),Ea(),W((function(){return u})))}(t.children)},n.prototype.expandSegment=function(n,e,t,l,r,i){var o=this;return na.apply(void 0,a(t)).pipe(W((function(u){return o.expandSegmentAgainstRoute(n,e,t,u,l,r,i).pipe(Ta((function(n){if(n instanceof Vd)return na(null);throw n})))})),da(),Ra((function(n){return!!n})),Ta((function(n,t){if(n instanceof la||"EmptyError"===n.name){if(o.noLeftoversInUrl(e,l,r))return na(new Fc([],{}));throw new Vd(e)}throw n})))},n.prototype.noLeftoversInUrl=function(n,e,t){return 0===e.length&&!n.children[t]},n.prototype.expandSegmentAgainstRoute=function(n,e,t,l,r,i,o){return Wd(l)!==i?zd(e):void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,e,l,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,t,l,r,i):zd(e)},n.prototype.expandSegmentAgainstRouteUsingRedirect=function(n,e,t,l,r,i){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,l,i):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,t,l,r,i)},n.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(n,e,t,l){var r=this,i=this.applyRedirectCommands([],t.redirectTo,{});return t.redirectTo.startsWith("/")?Ld(i):this.lineralizeSegments(t,i).pipe(K((function(t){var i=new Fc(t,{});return r.expandSegment(n,i,e,t,l,!1)})))},n.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(n,e,t,l,r,i){var o=this,u=Hd(e,l,r),a=u.consumedSegments,s=u.lastChild,c=u.positionalParamSegments;if(!u.matched)return zd(e);var d=this.applyRedirectCommands(a,l.redirectTo,c);return l.redirectTo.startsWith("/")?Ld(d):this.lineralizeSegments(l,d).pipe(K((function(l){return o.expandSegment(n,e,t,l.concat(r.slice(s)),i,!1)})))},n.prototype.matchSegmentAgainstRoute=function(n,e,t,l){var r=this;if("**"===t.path)return t.loadChildren?this.configLoader.load(n.injector,t).pipe(W((function(n){return t._loadedConfig=n,new Fc(l,{})}))):na(new Fc(l,{}));var u=Hd(e,t,l),a=u.consumedSegments,s=u.lastChild;if(!u.matched)return zd(e);var c=l.slice(s);return this.getChildConfig(n,t,l).pipe(K((function(n){var t=n.module,l=n.routes,u=function(n,e,t,l){return t.length>0&&function(n,e,t){return t.some((function(t){return $d(n,e,t)&&Wd(t)!==Cc}))}(n,t,l)?{segmentGroup:Bd(new Fc(e,function(n,e){var t,l,r={};r[Cc]=e;try{for(var i=o(n),u=i.next();!u.done;u=i.next()){var a=u.value;""===a.path&&Wd(a)!==Cc&&(r[Wd(a)]=new Fc([],{}))}}catch(s){t={error:s}}finally{try{u&&!u.done&&(l=i.return)&&l.call(i)}finally{if(t)throw t.error}}return r}(l,new Fc(t,n.children)))),slicedSegments:[]}:0===t.length&&function(n,e,t){return t.some((function(t){return $d(n,e,t)}))}(n,t,l)?{segmentGroup:Bd(new Fc(n.segments,function(n,e,t,l){var r,u,a={};try{for(var s=o(t),c=s.next();!c.done;c=s.next()){var d=c.value;$d(n,e,d)&&!l[Wd(d)]&&(a[Wd(d)]=new Fc([],{}))}}catch(p){r={error:p}}finally{try{c&&!c.done&&(u=s.return)&&u.call(s)}finally{if(r)throw r.error}}return i({},l,a)}(n,t,l,n.children))),slicedSegments:t}:{segmentGroup:n,slicedSegments:t}}(e,a,c,l),s=u.segmentGroup,d=u.slicedSegments;return 0===d.length&&s.hasChildren()?r.expandChildren(t,l,s).pipe(W((function(n){return new Fc(a,n)}))):0===l.length&&0===d.length?na(new Fc(a,{})):r.expandSegment(t,s,l,d,Cc,!0).pipe(W((function(n){return new Fc(a.concat(n.segments),n.children)})))})))},n.prototype.getChildConfig=function(n,e,t){var l=this;return e.children?na(new Pc(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?na(e._loadedConfig):function(n,e,t){var l,r=e.canLoad;return r&&0!==r.length?Q(r).pipe(W((function(l){var r,i=n.get(l);if(function(n){return n&&Rd(n.canLoad)}(i))r=i.canLoad(e,t);else{if(!Rd(i))throw new Error("Invalid CanLoad guard");r=i(e,t)}return zc(r)}))).pipe(da(),(l=function(n){return!0===n},function(n){return n.lift(new Ma(l,void 0,n))})):na(!0)}(n.injector,e,t).pipe(K((function(t){return t?l.configLoader.load(n.injector,e).pipe(W((function(n){return e._loadedConfig=n,n}))):function(n){return new E((function(e){return e.error(Ec("Cannot load children because the guard of the route \"path: '"+n.path+"'\" returned false"))}))}(e)}))):na(new Pc([],n))},n.prototype.lineralizeSegments=function(n,e){for(var t=[],l=e.root;;){if(t=t.concat(l.segments),0===l.numberOfChildren)return na(t);if(l.numberOfChildren>1||!l.children[Cc])return Ud(n.redirectTo);l=l.children[Cc]}},n.prototype.applyRedirectCommands=function(n,e,t){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,t)},n.prototype.applyRedirectCreatreUrlTree=function(n,e,t,l){var r=this.createSegmentGroup(n,e.root,t,l);return new Uc(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},n.prototype.createQueryParams=function(n,e){var t={};return jc(n,(function(n,l){if("string"==typeof n&&n.startsWith(":")){var r=n.substring(1);t[l]=e[r]}else t[l]=n})),t},n.prototype.createSegmentGroup=function(n,e,t,l){var r=this,i=this.createSegments(n,e.segments,t,l),o={};return jc(e.children,(function(e,i){o[i]=r.createSegmentGroup(n,e,t,l)})),new Fc(i,o)},n.prototype.createSegments=function(n,e,t,l){var r=this;return e.map((function(e){return e.path.startsWith(":")?r.findPosParam(n,e,l):r.findOrReturn(e,t)}))},n.prototype.findPosParam=function(n,e,t){var l=t[e.path.substring(1)];if(!l)throw new Error("Cannot redirect to '"+n+"'. Cannot find '"+e.path+"'.");return l},n.prototype.findOrReturn=function(n,e){var t,l,r=0;try{for(var i=o(e),u=i.next();!u.done;u=i.next()){var a=u.value;if(a.path===n.path)return e.splice(r),a;r++}}catch(s){t={error:s}}finally{try{u&&!u.done&&(l=i.return)&&l.call(i)}finally{if(t)throw t.error}}return n},n}();function Hd(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var l=(e.matcher||Tc)(t,n,e);return l?{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,positionalParamSegments:l.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Bd(n){if(1===n.numberOfChildren&&n.children[Cc]){var e=n.children[Cc];return new Fc(n.segments.concat(e.segments),e.children)}return n}function $d(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path&&void 0!==t.redirectTo}function Wd(n){return n.outlet||Cc}var qd=function(){return function(n){this.path=n,this.route=this.path[this.path.length-1]}}(),Gd=function(){return function(n,e){this.component=n,this.route=e}}();function Zd(n,e,t){var l=function(n){if(!n)return null;for(var e=n.parent;e;e=e.parent){var t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(l?l.module.injector:t).get(n)}function Qd(n,e,t,l,r){void 0===r&&(r={canDeactivateChecks:[],canActivateChecks:[]});var i=cd(e);return n.children.forEach((function(n){!function(n,e,t,l,r){void 0===r&&(r={canDeactivateChecks:[],canActivateChecks:[]});var i=n.value,o=e?e.value:null,u=t?t.getContext(n.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){var a=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Bc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Bc(n.url,e.url)||!Rc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wd(n,e)||!Rc(n.queryParams,e.queryParams);case"paramsChange":default:return!wd(n,e)}}(o,i,i.routeConfig.runGuardsAndResolvers);a?r.canActivateChecks.push(new qd(l)):(i.data=o.data,i._resolvedData=o._resolvedData),Qd(n,e,i.component?u?u.children:null:t,l,r),a&&r.canDeactivateChecks.push(new Gd(u&&u.outlet&&u.outlet.component||null,o))}else o&&Kd(e,u,r),r.canActivateChecks.push(new qd(l)),Qd(n,null,i.component?u?u.children:null:t,l,r)}(n,i[n.value.outlet],t,l.concat([n.value]),r),delete i[n.value.outlet]})),jc(i,(function(n,e){return Kd(n,t.getContext(e),r)})),r}function Kd(n,e,t){var l=cd(n),r=n.value;jc(l,(function(n,l){Kd(n,r.component?e?e.children.getContext(l):null:e,t)})),t.canDeactivateChecks.push(new Gd(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}var Xd=Symbol("INITIAL_VALUE");function Jd(){return ja((function(n){return ia.apply(void 0,a(n.map((function(n){return n.pipe(Oa(1),function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n[n.length-1];return M(t)?(n.pop(),function(e){return Ua(n,e,t)}):function(e){return Ua(n,e)}}(Xd))})))).pipe(Fa((function(n,e){var t=!1;return e.reduce((function(n,l,r){if(n!==Xd)return n;if(l===Xd&&(t=!0),!t){if(!1===l)return l;if(r===e.length-1||Md(l))return l}return n}),n)}),Xd),pa((function(n){return n!==Xd})),W((function(n){return Md(n)?n:!0===n})),Oa(1))}))}function Yd(n,e){return null!==n&&e&&e(new bc(n)),na(!0)}function np(n,e){return null!==n&&e&&e(new vc(n)),na(!0)}function ep(n,e,t){var l=e.routeConfig?e.routeConfig.canActivate:null;return l&&0!==l.length?na(l.map((function(l){return ca((function(){var r,i=Zd(l,e,t);if(function(n){return n&&Rd(n.canActivate)}(i))r=zc(i.canActivate(e,n));else{if(!Rd(i))throw new Error("Invalid CanActivate guard");r=zc(i(e,n))}return r.pipe(Ra())}))}))).pipe(Jd()):na(!0)}function tp(n,e,t){var l=e[e.length-1],r=e.slice(0,e.length-1).reverse().map((function(n){return function(n){var e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(n)})).filter((function(n){return null!==n})).map((function(e){return ca((function(){return na(e.guards.map((function(r){var i,o=Zd(r,e.node,t);if(function(n){return n&&Rd(n.canActivateChild)}(o))i=zc(o.canActivateChild(l,n));else{if(!Rd(o))throw new Error("Invalid CanActivateChild guard");i=zc(o(l,n))}return i.pipe(Ra())}))).pipe(Jd())}))}));return na(r).pipe(Jd())}var lp=function(){return function(){}}(),rp=function(){function n(n,e,t,l,r,i){this.rootComponentType=n,this.config=e,this.urlTree=t,this.url=l,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=i}return n.prototype.recognize=function(){try{var n=up(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,Cc),t=new md([],Object.freeze({}),Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,{},Cc,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new sd(t,e),r=new gd(this.url,l);return this.inheritParamsAndData(r._root),na(r)}catch(o){return new E((function(n){return n.error(o)}))}},n.prototype.inheritParamsAndData=function(n){var e=this,t=n.value,l=fd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(l.params),t.data=Object.freeze(l.data),n.children.forEach((function(n){return e.inheritParamsAndData(n)}))},n.prototype.processSegmentGroup=function(n,e,t){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,t)},n.prototype.processChildren=function(n,e){var t,l=this,r=$c(e,(function(e,t){return l.processSegmentGroup(n,e,t)}));return t={},r.forEach((function(n){var e=t[n.value.outlet];if(e){var l=e.url.map((function(n){return n.toString()})).join("/"),r=n.value.url.map((function(n){return n.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '"+l+"' and '"+r+"'.")}t[n.value.outlet]=n.value})),function(n){n.sort((function(n,e){return n.value.outlet===Cc?-1:e.value.outlet===Cc?1:n.value.outlet.localeCompare(e.value.outlet)}))}(r),r},n.prototype.processSegment=function(n,e,t,l){var r,i;try{for(var u=o(n),a=u.next();!a.done;a=u.next()){var s=a.value;try{return this.processSegmentAgainstRoute(s,e,t,l)}catch(c){if(!(c instanceof lp))throw c}}}catch(d){r={error:d}}finally{try{a&&!a.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}if(this.noLeftoversInUrl(e,t,l))return[];throw new lp},n.prototype.noLeftoversInUrl=function(n,e,t){return 0===e.length&&!n.children[t]},n.prototype.processSegmentAgainstRoute=function(n,e,t,l){if(n.redirectTo)throw new lp;if((n.outlet||Cc)!==l)throw new lp;var r,o=[],u=[];if("**"===n.path){var a=t.length>0?Vc(t).parameters:{};r=new md(t,a,Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,cp(n),l,n.component,n,ip(e),op(e)+t.length,dp(n))}else{var s=function(n,e,t){if(""===e.path){if("full"===e.pathMatch&&(n.hasChildren()||t.length>0))throw new lp;return{consumedSegments:[],lastChild:0,parameters:{}}}var l=(e.matcher||Tc)(t,n,e);if(!l)throw new lp;var r={};jc(l.posParams,(function(n,e){r[e]=n.path}));var o=l.consumed.length>0?i({},r,l.consumed[l.consumed.length-1].parameters):r;return{consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:o}}(e,n,t);o=s.consumedSegments,u=t.slice(s.lastChild),r=new md(o,s.parameters,Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,cp(n),l,n.component,n,ip(e),op(e)+o.length,dp(n))}var c=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(n),d=up(e,o,u,c,this.relativeLinkResolution),p=d.segmentGroup,h=d.slicedSegments;if(0===h.length&&p.hasChildren()){var f=this.processChildren(c,p);return[new sd(r,f)]}if(0===c.length&&0===h.length)return[new sd(r,[])];var m=this.processSegment(c,p,h,Cc);return[new sd(r,m)]},n}();function ip(n){for(var e=n;e._sourceSegment;)e=e._sourceSegment;return e}function op(n){for(var e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)t+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return t-1}function up(n,e,t,l,r){if(t.length>0&&function(n,e,t){return t.some((function(t){return ap(n,e,t)&&sp(t)!==Cc}))}(n,t,l)){var u=new Fc(e,function(n,e,t,l){var r,i,u={};u[Cc]=l,l._sourceSegment=n,l._segmentIndexShift=e.length;try{for(var a=o(t),s=a.next();!s.done;s=a.next()){var c=s.value;if(""===c.path&&sp(c)!==Cc){var d=new Fc([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,u[sp(c)]=d}}}catch(p){r={error:p}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return u}(n,e,l,new Fc(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some((function(t){return ap(n,e,t)}))}(n,t,l)){var a=new Fc(n.segments,function(n,e,t,l,r,u){var a,s,c={};try{for(var d=o(l),p=d.next();!p.done;p=d.next()){var h=p.value;if(ap(n,t,h)&&!r[sp(h)]){var f=new Fc([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[sp(h)]=f}}}catch(m){a={error:m}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}return i({},r,c)}(n,e,t,l,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}var s=new Fc(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function ap(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path&&void 0===t.redirectTo}function sp(n){return n.outlet||Cc}function cp(n){return n.data||{}}function dp(n){return n.resolve||{}}function pp(n,e,t,l){var r=Zd(n,e,l);return zc(r.resolve?r.resolve(e,t):r(e,t))}function hp(n){return function(e){return e.pipe(ja((function(e){var t=n(e);return t?Q(t).pipe(W((function(){return e}))):Q([e])})))}}var fp=function(){return function(){}}(),mp=function(){function n(){}return n.prototype.shouldDetach=function(n){return!1},n.prototype.store=function(n,e){},n.prototype.shouldAttach=function(n){return!1},n.prototype.retrieve=function(n){return null},n.prototype.shouldReuseRoute=function(n,e){return n.routeConfig===e.routeConfig},n}(),gp=new Dn("ROUTES"),vp=function(){function n(n,e,t,l){this.loader=n,this.compiler=e,this.onLoadStartListener=t,this.onLoadEndListener=l}return n.prototype.load=function(n,e){var t=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(W((function(l){t.onLoadEndListener&&t.onLoadEndListener(e);var r=l.create(n);return new Pc(Mc(r.injector.get(gp)).map(Nc),r)})))},n.prototype.loadModuleFactory=function(n){var e=this;return"string"==typeof n?Q(this.loader.load(n)):zc(n()).pipe(K((function(n){return n instanceof qn?na(n):Q(e.compiler.compileModuleAsync(n))})))},n}(),yp=function(){return function(){}}(),bp=function(){function n(){}return n.prototype.shouldProcessUrl=function(n){return!0},n.prototype.extract=function(n){return n},n.prototype.merge=function(n,e){return n},n}();function wp(n){throw n}function xp(n,e,t){return e.parse("/")}function _p(n,e){return na(null)}var Cp=function(){function n(n,e,t,l,r,i,o,u){var a=this;this.rootComponentType=n,this.urlSerializer=e,this.rootContexts=t,this.location=l,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new N,this.errorHandler=wp,this.malformedUriErrorHandler=xp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_p,afterPreactivation:_p},this.urlHandlingStrategy=new bp,this.routeReuseStrategy=new mp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Wn),this.console=r.get(Gr);var s=r.get(pi);this.isNgZoneEnabled=s instanceof pi,this.resetConfig(u),this.currentUrlTree=new Uc(new Fc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vp(i,o,(function(n){return a.triggerEvent(new mc(n))}),(function(n){return a.triggerEvent(new gc(n))})),this.routerState=pd(this.currentUrlTree,this.rootComponentType),this.transitions=new ea({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return n.prototype.setupNavigations=function(n){var e=this,t=this.events;return n.pipe(pa((function(n){return 0!==n.id})),W((function(n){return i({},n,{extractedUrl:e.urlHandlingStrategy.extract(n.rawUrl)})})),ja((function(n){var l,r,u,a,s=!1,c=!1;return na(n).pipe(Wa((function(n){e.currentNavigation={id:n.id,initialUrl:n.currentRawUrl,extractedUrl:n.extractedUrl,trigger:n.source,extras:n.extras,previousNavigation:e.lastSuccessfulNavigation?i({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}})),ja((function(n){var l,r,o,u,a=!e.navigated||n.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(n.rawUrl))return na(n).pipe(ja((function(n){var l=e.transitions.getValue();return t.next(new oc(n.id,e.serializeUrl(n.extractedUrl),n.source,n.restoredState)),l!==e.transitions.getValue()?aa:[n]})),ja((function(n){return Promise.resolve(n)})),(l=e.ngModule.injector,r=e.configLoader,o=e.urlSerializer,u=e.config,function(n){return n.pipe(ja((function(n){return function(n,e,t,l,r){return new Fd(n,e,t,l,r).apply()}(l,r,o,n.extractedUrl,u).pipe(W((function(e){return i({},n,{urlAfterRedirects:e})})))})))}),Wa((function(n){e.currentNavigation=i({},e.currentNavigation,{finalUrl:n.urlAfterRedirects})})),function(n,t,l,r,o){return function(l){return l.pipe(K((function(l){return function(n,e,t,l,r,i){return void 0===r&&(r="emptyOnly"),void 0===i&&(i="legacy"),new rp(n,e,t,l,r,i).recognize()}(n,t,l.urlAfterRedirects,(u=l.urlAfterRedirects,e.serializeUrl(u)),r,o).pipe(W((function(n){return i({},l,{targetSnapshot:n})})));var u})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Wa((function(n){"eager"===e.urlUpdateStrategy&&(n.extras.skipLocationChange||e.setBrowserUrl(n.urlAfterRedirects,!!n.extras.replaceUrl,n.id,n.extras.state),e.browserUrlTree=n.urlAfterRedirects)})),Wa((function(n){var l=new cc(n.id,e.serializeUrl(n.extractedUrl),e.serializeUrl(n.urlAfterRedirects),n.targetSnapshot);t.next(l)})));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var s=n.extractedUrl,c=n.source,d=n.restoredState,p=n.extras,h=new oc(n.id,e.serializeUrl(s),c,d);t.next(h);var f=pd(s,e.rootComponentType).snapshot;return na(i({},n,{targetSnapshot:f,urlAfterRedirects:s,extras:i({},p,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=n.rawUrl,e.browserUrlTree=n.urlAfterRedirects,n.resolve(null),aa})),hp((function(n){var t=n.extras;return e.hooks.beforePreactivation(n.targetSnapshot,{navigationId:n.id,appliedUrlTree:n.extractedUrl,rawUrlTree:n.rawUrl,skipLocationChange:!!t.skipLocationChange,replaceUrl:!!t.replaceUrl})})),Wa((function(n){var t=new dc(n.id,e.serializeUrl(n.extractedUrl),e.serializeUrl(n.urlAfterRedirects),n.targetSnapshot);e.triggerEvent(t)})),W((function(n){return i({},n,{guards:(t=n.targetSnapshot,l=n.currentSnapshot,r=e.rootContexts,o=t._root,Qd(o,l?l._root:null,r,[o.value]))});var t,l,r,o})),function(n,e){return function(t){return t.pipe(K((function(t){var l=t.targetSnapshot,r=t.currentSnapshot,o=t.guards,u=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===u.length?na(i({},t,{guardsResult:!0})):function(n,e,t,l){return Q(n).pipe(K((function(n){return function(n,e,t,l,r){var i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?na(i.map((function(i){var o,u=Zd(i,e,r);if(function(n){return n&&Rd(n.canDeactivate)}(u))o=zc(u.canDeactivate(n,e,t,l));else{if(!Rd(u))throw new Error("Invalid CanDeactivate guard");o=zc(u(n,e,t,l))}return o.pipe(Ra())}))).pipe(Jd()):na(!0)}(n.component,n.route,t,e,l)})),Ra((function(n){return!0!==n}),!0))}(a,l,r,n).pipe(K((function(t){return t&&"boolean"==typeof t?function(n,e,t,l){return Q(e).pipe($a((function(e){return Q([np(e.route.parent,l),Yd(e.route,l),tp(n,e.path,t),ep(n,e.route,t)]).pipe(da(),Ra((function(n){return!0!==n}),!0))})),Ra((function(n){return!0!==n}),!0))}(l,u,n,e):na(t)})),W((function(n){return i({},t,{guardsResult:n})})))})))}}(e.ngModule.injector,(function(n){return e.triggerEvent(n)})),Wa((function(n){if(Md(n.guardsResult)){var t=Ec('Redirecting to "'+e.serializeUrl(n.guardsResult)+'"');throw t.url=n.guardsResult,t}})),Wa((function(n){var t=new pc(n.id,e.serializeUrl(n.extractedUrl),e.serializeUrl(n.urlAfterRedirects),n.targetSnapshot,!!n.guardsResult);e.triggerEvent(t)})),pa((function(n){if(!n.guardsResult){e.resetUrlToCurrentUrlTree();var l=new ac(n.id,e.serializeUrl(n.extractedUrl),"");return t.next(l),n.resolve(!1),!1}return!0})),hp((function(n){if(n.guards.canActivateChecks.length)return na(n).pipe(Wa((function(n){var t=new hc(n.id,e.serializeUrl(n.extractedUrl),e.serializeUrl(n.urlAfterRedirects),n.targetSnapshot);e.triggerEvent(t)})),(t=e.paramsInheritanceStrategy,l=e.ngModule.injector,function(n){return n.pipe(K((function(n){var e=n.targetSnapshot,r=n.guards.canActivateChecks;return r.length?Q(r).pipe($a((function(n){return function(n,e,t,l){return function(n,e,t,l){var r=Object.keys(n);if(0===r.length)return na({});if(1===r.length){var i=r[0];return pp(n[i],e,t,l).pipe(W((function(n){var e;return(e={})[i]=n,e})))}var o={};return Q(r).pipe(K((function(r){return pp(n[r],e,t,l).pipe(W((function(n){return o[r]=n,n})))}))).pipe(Ea(),W((function(){return o})))}(n._resolve,n,e,l).pipe(W((function(e){return n._resolvedData=e,n.data=i({},n.data,fd(n,t).resolve),null})))}(n.route,e,t,l)})),function(n,e){return arguments.length>=2?function(t){return I(Fa(n,e),va(1),Sa(e))(t)}:function(e){return I(Fa((function(e,t,l){return n(e,t,l+1)})),va(1))(e)}}((function(n,e){return n})),W((function(e){return n}))):na(n)})))}),Wa((function(n){var t=new fc(n.id,e.serializeUrl(n.extractedUrl),e.serializeUrl(n.urlAfterRedirects),n.targetSnapshot);e.triggerEvent(t)})));var t,l})),hp((function(n){var t=n.extras;return e.hooks.afterPreactivation(n.targetSnapshot,{navigationId:n.id,appliedUrlTree:n.extractedUrl,rawUrlTree:n.rawUrl,skipLocationChange:!!t.skipLocationChange,replaceUrl:!!t.replaceUrl})})),W((function(n){var t,l,r,u=(r=function n(e,t,l){if(l&&e.shouldReuseRoute(t.value,l.value.snapshot)){(s=l.value)._futureSnapshot=t.value;var r=function(e,t,l){return t.children.map((function(t){var r,i;try{for(var u=o(l.children),a=u.next();!a.done;a=u.next()){var s=a.value;if(e.shouldReuseRoute(s.value.snapshot,t.value))return n(e,t,s)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return n(e,t)}))}(e,t,l);return new sd(s,r)}var i=e.retrieve(t.value);if(i){var u=i.route;return function n(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var l=0;l<e.children.length;++l)n(e.children[l],t.children[l])}(t,u),u}var a,s=new hd(new ea((a=t.value).url),new ea(a.params),new ea(a.queryParams),new ea(a.fragment),new ea(a.data),a.outlet,a.component,a);return r=t.children.map((function(t){return n(e,t)})),new sd(s,r)}(e.routeReuseStrategy,(t=n.targetSnapshot)._root,(l=n.currentRouterState)?l._root:void 0),new dd(r,t));return i({},n,{targetRouterState:u})})),Wa((function(n){e.currentUrlTree=n.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,n.rawUrl),e.routerState=n.targetRouterState,"deferred"===e.urlUpdateStrategy&&(n.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!n.extras.replaceUrl,n.id,n.extras.state),e.browserUrlTree=n.urlAfterRedirects)})),(r=e.rootContexts,u=e.routeReuseStrategy,a=function(n){return e.triggerEvent(n)},W((function(n){return new Dd(u,n.targetRouterState,n.currentRouterState,a).activate(r),n}))),Wa({next:function(){s=!0},complete:function(){s=!0}}),(l=function(){if(!s&&!c){e.resetUrlToCurrentUrlTree();var l=new ac(n.id,e.serializeUrl(n.extractedUrl),"Navigation ID "+n.id+" is not equal to the current navigation id "+e.navigationId);t.next(l),n.resolve(!1)}e.currentNavigation=null},function(n){return n.lift(new Za(l))}),Ta((function(l){if(c=!0,(u=l)&&u[kc]){var r=Md(l.url);r||(e.navigated=!0,e.resetStateAndUrl(n.currentRouterState,n.currentUrlTree,n.rawUrl));var i=new ac(n.id,e.serializeUrl(n.extractedUrl),l.message);t.next(i),n.resolve(!1),r&&e.navigateByUrl(l.url)}else{e.resetStateAndUrl(n.currentRouterState,n.currentUrlTree,n.rawUrl);var o=new sc(n.id,e.serializeUrl(n.extractedUrl),l);t.next(o);try{n.resolve(e.errorHandler(l))}catch(a){n.reject(a)}}var u;return aa})))})))},n.prototype.resetRootComponentType=function(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType},n.prototype.getTransition=function(){var n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n},n.prototype.setTransition=function(n){this.transitions.next(i({},this.getTransition(),n))},n.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},n.prototype.setUpLocationChangeListener=function(){var n=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var t=n.parseUrl(e.url),l="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){n.scheduleNavigation(t,l,r,{replaceUrl:!0})}),0)})))},Object.defineProperty(n.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),n.prototype.getCurrentNavigation=function(){return this.currentNavigation},n.prototype.triggerEvent=function(n){this.events.next(n)},n.prototype.resetConfig=function(n){Ac(n),this.config=n.map(Nc),this.navigated=!1,this.lastSuccessfulId=-1},n.prototype.ngOnDestroy=function(){this.dispose()},n.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},n.prototype.createUrlTree=function(n,e){void 0===e&&(e={});var t=e.relativeTo,l=e.queryParams,r=e.fragment,o=e.preserveQueryParams,u=e.queryParamsHandling,s=e.preserveFragment;oe()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=t||this.routerState.root,d=s?this.currentUrlTree.fragment:r,p=null;if(u)switch(u){case"merge":p=i({},this.currentUrlTree.queryParams,l);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=l||null}else p=o?this.currentUrlTree.queryParams:l||null;return null!==p&&(p=this.removeEmptyProps(p)),function(n,e,t,l,r){if(0===t.length)return _d(e.root,e.root,e,l,r);var i=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Cd(!0,0,n);var e=0,t=!1,l=n.reduce((function(n,l,r){if("object"==typeof l&&null!=l){if(l.outlets){var i={};return jc(l.outlets,(function(n,e){i[e]="string"==typeof n?n.split("/"):n})),a(n,[{outlets:i}])}if(l.segmentPath)return a(n,[l.segmentPath])}return"string"!=typeof l?a(n,[l]):0===r?(l.split("/").forEach((function(l,r){0==r&&"."===l||(0==r&&""===l?t=!0:".."===l?e++:""!=l&&n.push(l))})),n):a(n,[l])}),[]);return new Cd(t,e,l)}(t);if(i.toRoot())return _d(e.root,new Fc([],{}),e,l,r);var o=function(n,e,t){if(n.isAbsolute)return new Sd(e.root,!0,0);if(-1===t.snapshot._lastPathIndex)return new Sd(t.snapshot._urlSegment,!0,0);var l=xd(n.commands[0])?0:1;return function(n,e,t){for(var l=n,r=e,i=t;i>r;){if(i-=r,!(l=l.parent))throw new Error("Invalid number of '../'");r=l.segments.length}return new Sd(l,!1,r-i)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+l,n.numberOfDoubleDots)}(i,e,n),u=o.processChildren?Ed(o.segmentGroup,o.index,i.commands):kd(o.segmentGroup,o.index,i.commands);return _d(o.segmentGroup,u,e,l,r)}(c,this.currentUrlTree,n,p,d)},n.prototype.navigateByUrl=function(n,e){void 0===e&&(e={skipLocationChange:!1}),oe()&&this.isNgZoneEnabled&&!pi.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var t=Md(n)?n:this.parseUrl(n),l=this.urlHandlingStrategy.merge(t,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,e)},n.prototype.navigate=function(n,e){return void 0===e&&(e={skipLocationChange:!1}),function(n){for(var e=0;e<n.length;e++){var t=n[e];if(null==t)throw new Error("The requested path contains "+t+" segment at index "+e)}}(n),this.navigateByUrl(this.createUrlTree(n,e),e)},n.prototype.serializeUrl=function(n){return this.urlSerializer.serialize(n)},n.prototype.parseUrl=function(n){var e;try{e=this.urlSerializer.parse(n)}catch(t){e=this.malformedUriErrorHandler(t,this.urlSerializer,n)}return e},n.prototype.isActive=function(n,e){if(Md(n))return Lc(this.currentUrlTree,n,e);var t=this.parseUrl(n);return Lc(this.currentUrlTree,t,e)},n.prototype.removeEmptyProps=function(n){return Object.keys(n).reduce((function(e,t){var l=n[t];return null!=l&&(e[t]=l),e}),{})},n.prototype.processNavigations=function(){var n=this;this.navigations.subscribe((function(e){n.navigated=!0,n.lastSuccessfulId=e.id,n.events.next(new uc(e.id,n.serializeUrl(e.extractedUrl),n.serializeUrl(n.currentUrlTree))),n.lastSuccessfulNavigation=n.currentNavigation,n.currentNavigation=null,e.resolve(!0)}),(function(e){n.console.warn("Unhandled Navigation Error: ")}))},n.prototype.scheduleNavigation=function(n,e,t,l){var r=this.getTransition();if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===n.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===n.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===n.toString())return Promise.resolve(!0);var i=null,o=null,u=new Promise((function(n,e){i=n,o=e})),a=++this.navigationId;return this.setTransition({id:a,source:e,restoredState:t,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:l,resolve:i,reject:o,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch((function(n){return Promise.reject(n)}))},n.prototype.setBrowserUrl=function(n,e,t,l){var r=this.urlSerializer.serialize(n);l=l||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",i({},l,{navigationId:t})):this.location.go(r,"",i({},l,{navigationId:t}))},n.prototype.resetStateAndUrl=function(n,e,t){this.routerState=n,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t),this.resetUrlToCurrentUrlTree()},n.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},n}(),Sp=function(){function n(n,e,t,l,r){this.router=n,this.route=e,this.commands=[],null==t&&l.setAttribute(r.nativeElement,"tabindex","0")}return Object.defineProperty(n.prototype,"routerLink",{set:function(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preserveQueryParams",{set:function(n){oe()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=n},enumerable:!0,configurable:!0}),n.prototype.onClick=function(){var n={skipLocationChange:kp(this.skipLocationChange),replaceUrl:kp(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,n),!0},Object.defineProperty(n.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:kp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:kp(this.preserveFragment)})},enumerable:!0,configurable:!0}),n}(),Ip=function(){function n(n,e,t){var l=this;this.router=n,this.route=e,this.locationStrategy=t,this.commands=[],this.subscription=n.events.subscribe((function(n){n instanceof uc&&l.updateTargetUrlAndHref()}))}return Object.defineProperty(n.prototype,"routerLink",{set:function(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preserveQueryParams",{set:function(n){oe()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=n},enumerable:!0,configurable:!0}),n.prototype.ngOnChanges=function(n){this.updateTargetUrlAndHref()},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.onClick=function(n,e,t,l){if(0!==n||e||t||l)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var r={skipLocationChange:kp(this.skipLocationChange),replaceUrl:kp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1},n.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(n.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:kp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:kp(this.preserveFragment)})},enumerable:!0,configurable:!0}),n}();function kp(n){return""===n||!!n}var Ep=function(){function n(n,e,t,l,r){var i=this;this.router=n,this.element=e,this.renderer=t,this.link=l,this.linkWithHref=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=n.events.subscribe((function(n){n instanceof uc&&i.update()}))}return n.prototype.ngAfterContentInit=function(){var n=this;this.links.changes.subscribe((function(e){return n.update()})),this.linksWithHrefs.changes.subscribe((function(e){return n.update()})),this.update()},Object.defineProperty(n.prototype,"routerLinkActive",{set:function(n){var e=Array.isArray(n)?n:n.split(" ");this.classes=e.filter((function(n){return!!n}))},enumerable:!0,configurable:!0}),n.prototype.ngOnChanges=function(n){this.update()},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.update=function(){var n=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var e=n.hasActiveLinks();n.isActive!==e&&(n.isActive=e,n.classes.forEach((function(t){e?n.renderer.addClass(n.element.nativeElement,t):n.renderer.removeClass(n.element.nativeElement,t)})))}))},n.prototype.isLinkActive=function(n){var e=this;return function(t){return n.isActive(t.urlTree,e.routerLinkActiveOptions.exact)}},n.prototype.hasActiveLinks=function(){var n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.linkWithHref&&n(this.linkWithHref)||this.links.some(n)||this.linksWithHrefs.some(n)},n}(),Tp=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pp,this.attachRef=null}}(),Pp=function(){function n(){this.contexts=new Map}return n.prototype.onChildOutletCreated=function(n,e){var t=this.getOrCreateContext(n);t.outlet=e,this.contexts.set(n,t)},n.prototype.onChildOutletDestroyed=function(n){var e=this.getContext(n);e&&(e.outlet=null)},n.prototype.onOutletDeactivated=function(){var n=this.contexts;return this.contexts=new Map,n},n.prototype.onOutletReAttached=function(n){this.contexts=n},n.prototype.getOrCreateContext=function(n){var e=this.getContext(n);return e||(e=new Tp,this.contexts.set(n,e)),e},n.prototype.getContext=function(n){return this.contexts.get(n)||null},n}(),Ap=function(){function n(n,e,t,l,r){this.parentContexts=n,this.location=e,this.resolver=t,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new Vr,this.deactivateEvents=new Vr,this.name=l||Cc,n.onChildOutletCreated(this.name,this)}return n.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},n.prototype.ngOnInit=function(){if(!this.activated){var n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}},Object.defineProperty(n.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),n.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var n=this.activated;return this.activated=null,this._activatedRoute=null,n},n.prototype.attach=function(n,e){this.activated=n,this._activatedRoute=e,this.location.insert(n.hostView)},n.prototype.deactivate=function(){if(this.activated){var n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}},n.prototype.activateWith=function(n,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;var t=(e=e||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,r=new Op(n,l,this.location.injector);this.activated=this.location.createComponent(t,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},n}(),Op=function(){function n(n,e,t){this.route=n,this.childContexts=e,this.parent=t}return n.prototype.get=function(n,e){return n===hd?this.route:n===Pp?this.childContexts:this.parent.get(n,e)},n}(),Dp=function(){return function(){}}(),Np=function(){function n(){}return n.prototype.preload=function(n,e){return e().pipe(Ta((function(){return na(null)})))},n}(),Rp=function(){function n(){}return n.prototype.preload=function(n,e){return na(null)},n}(),Mp=function(){function n(n,e,t,l,r){this.router=n,this.injector=l,this.preloadingStrategy=r,this.loader=new vp(e,t,(function(e){return n.triggerEvent(new mc(e))}),(function(e){return n.triggerEvent(new gc(e))}))}return n.prototype.setUpPreloading=function(){var n=this;this.subscription=this.router.events.pipe(pa((function(n){return n instanceof uc})),$a((function(){return n.preload()}))).subscribe((function(){}))},n.prototype.preload=function(){var n=this.injector.get(Wn);return this.processRoutes(n,this.router.config)},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.processRoutes=function(n,e){var t,l,r=[];try{for(var i=o(e),u=i.next();!u.done;u=i.next()){var a=u.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var s=a._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(n,a)):a.children&&r.push(this.processRoutes(n,a.children))}}catch(c){t={error:c}}finally{try{u&&!u.done&&(l=i.return)&&l.call(i)}finally{if(t)throw t.error}}return Q(r).pipe(nn(),W((function(n){})))},n.prototype.preloadConfig=function(n,e){var t=this;return this.preloadingStrategy.preload(e,(function(){return t.loader.load(n.injector,e).pipe(K((function(n){return e._loadedConfig=n,t.processRoutes(n.module,n.routes)})))}))},n}(),Vp=function(){function n(n,e,t){void 0===t&&(t={}),this.router=n,this.viewportScroller=e,this.options=t,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},t.scrollPositionRestoration=t.scrollPositionRestoration||"disabled",t.anchorScrolling=t.anchorScrolling||"disabled"}return n.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},n.prototype.createScrollEvents=function(){var n=this;return this.router.events.subscribe((function(e){e instanceof oc?(n.store[n.lastId]=n.viewportScroller.getScrollPosition(),n.lastSource=e.navigationTrigger,n.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof uc&&(n.lastId=e.id,n.scheduleScrollEvent(e,n.router.parseUrl(e.urlAfterRedirects).fragment))}))},n.prototype.consumeScrollEvents=function(){var n=this;return this.router.events.subscribe((function(e){e instanceof xc&&(e.position?"top"===n.options.scrollPositionRestoration?n.viewportScroller.scrollToPosition([0,0]):"enabled"===n.options.scrollPositionRestoration&&n.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===n.options.anchorScrolling?n.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==n.options.scrollPositionRestoration&&n.viewportScroller.scrollToPosition([0,0]))}))},n.prototype.scheduleScrollEvent=function(n,e){this.router.triggerEvent(new xc(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},n.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},n}(),jp=new Dn("ROUTER_CONFIGURATION"),zp=new Dn("ROUTER_FORROOT_GUARD"),Lp=[ku,{provide:Wc,useClass:qc},{provide:Cp,useFactory:qp,deps:[Pi,Wc,Pp,ku,ze,Oi,li,gp,jp,[yp,new fn],[fp,new fn]]},Pp,{provide:hd,useFactory:Gp,deps:[Cp]},{provide:Oi,useClass:Ri},Mp,Rp,Np,{provide:jp,useValue:{enableTracing:!1}}];function Up(){return new Si("Router",Cp)}var Fp=function(){function n(n,e){}var e;return e=n,n.forRoot=function(n,t){return{ngModule:e,providers:[Lp,Wp(n),{provide:zp,useFactory:$p,deps:[[Cp,new fn,new gn]]},{provide:jp,useValue:t||{}},{provide:Su,useFactory:Bp,deps:[_u,[new hn(Iu),new fn],jp]},{provide:Vp,useFactory:Hp,deps:[Cp,Ju,jp]},{provide:Dp,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:Rp},{provide:Si,multi:!0,useFactory:Up},[Zp,{provide:Lr,multi:!0,useFactory:Qp,deps:[Zp]},{provide:Xp,useFactory:Kp,deps:[Zp]},{provide:qr,multi:!0,useExisting:Xp}]]}},n.forChild=function(n){return{ngModule:e,providers:[Wp(n)]}},n}();function Hp(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Vp(n,e,t)}function Bp(n,e,t){return void 0===t&&(t={}),t.useHash?new Tu(n,e):new Pu(n,e)}function $p(n){if(n)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Wp(n){return[{provide:qe,multi:!0,useValue:n},{provide:gp,multi:!0,useValue:n}]}function qp(n,e,t,l,r,i,o,u,a,s,c){void 0===a&&(a={});var d=new Cp(null,e,t,l,r,i,o,Mc(u));if(s&&(d.urlHandlingStrategy=s),c&&(d.routeReuseStrategy=c),a.errorHandler&&(d.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(d.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){var p=Xa();d.events.subscribe((function(n){p.logGroup("Router Event: "+n.constructor.name),p.log(n.toString()),p.log(n),p.logGroupEnd()}))}return a.onSameUrlNavigation&&(d.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(d.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(d.relativeLinkResolution=a.relativeLinkResolution),d}function Gp(n){return n.routerState.root}var Zp=function(){function n(n){this.injector=n,this.initNavigation=!1,this.resultOfPreactivationDone=new N}return n.prototype.appInitializer=function(){var n=this;return this.injector.get(Cu,Promise.resolve(null)).then((function(){var e=null,t=new Promise((function(n){return e=n})),l=n.injector.get(Cp),r=n.injector.get(jp);if(n.isLegacyDisabled(r)||n.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)l.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '"+r.initialNavigation+"'");l.hooks.afterPreactivation=function(){return n.initNavigation?na(null):(n.initNavigation=!0,e(!0),n.resultOfPreactivationDone)},l.initialNavigation()}return t}))},n.prototype.bootstrapListener=function(n){var e=this.injector.get(jp),t=this.injector.get(Mp),l=this.injector.get(Vp),r=this.injector.get(Cp),i=this.injector.get(Pi);n===i.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),t.setUpPreloading(),l.init(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},n.prototype.isLegacyEnabled=function(n){return"legacy_enabled"===n.initialNavigation||!0===n.initialNavigation||void 0===n.initialNavigation},n.prototype.isLegacyDisabled=function(n){return"legacy_disabled"===n.initialNavigation||!1===n.initialNavigation},n}();function Qp(n){return n.appInitializer.bind(n)}function Kp(n){return n.bootstrapListener.bind(n)}var Xp=new Dn("Router Initializer"),Jp=function(){function n(n,e){var t=this;this.route=n,this.router=e,this.hasLayout=!0,this.subscriptions=[],this.subscriptions.push(e.events.pipe(pa((function(n){return n instanceof oc}))).subscribe((function(n){t.hasLayout=!("/window"===(n=n).url||"/test"===n.url)}))),"scrollRestoration"in history&&(history.scrollRestoration="manual")}return n.prototype.ngAfterViewInit=function(){this.subscriptions.push(this.route.fragment.subscribe((function(n){n?setTimeout((function(){var e=document.getElementById(n);e&&e.scrollIntoView()})):window.scrollTo(0,0)})))},n.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(n){return n.unsubscribe()}))},n}();function Yp(n){return function(e){return e.lift(new nh(n))}}var nh=function(){function n(n){this.notifier=n}return n.prototype.call=function(n,e){var t=new eh(n),l=B(t,this.notifier);return l&&!t.seenValue?(t.add(l),e.subscribe(t)):t},n}(),eh=function(n){function e(e){var t=n.call(this,e)||this;return t.seenValue=!1,t}return r(e,n),e.prototype.notifyNext=function(n,e,t,l,r){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}($),th=function(n){if(!n)throw new Error("No datasource provided");if("object"!=typeof n)throw new Error("Datasource is not an object");if(!("get"in n))throw new Error("Datasource get method is not implemented");if("function"!=typeof n.get)throw new Error("Datasource get is not a function");if(n.get.length<2)throw new Error("Datasource get method invalid signature")},lh=function(n,e,t,l){var r=e[t];if(void 0!==r){if("boolean"==typeof r)return n[t]=r,!0;console.warn(t+" setting parse error, set it to "+l[t]+" (default)")}},rh=function(n,e,t,l,r){void 0===r&&(r=!1);var i=e[t];if(void 0!==i)if("number"==typeof i){if(!r||parseInt(i.toString(),10)===i)return n[t]=i,!0;console.warn(t+" setting parse error, set it to "+l[t]+" (default)")}else console.warn(t+" setting parse error, set it to "+l[t]+" (default)")},ih=function(n,e,t,l,r,i,o){if(void 0===i&&(i=!1),void 0===o&&(o=!0),!0===rh(n,e,t,l,i)||o)return!(n[t]<r[t])||(console.warn(t+" setting is less than minimum, set it to "+r[t]),void(n[t]=r[t]))},oh=function(n,e,t){Object.assign(n,t),void 0!==e&&("object"==typeof e||console.warn("settings is not an object, fallback to the defaults"))},uh=function(n,e,t,l){oh(n,e,t),lh(n,e,"adapter",t),rh(n,e,"startIndex",t),rh(n,e,"minIndex",t),rh(n,e,"maxIndex",t),ih(n,e,"itemSize",t,l,!0,!1),ih(n,e,"bufferSize",t,l,!0),ih(n,e,"padding",t,l),lh(n,e,"infinite",t),lh(n,e,"horizontal",t),lh(n,e,"windowViewport",t),lh(n,e,"inverse",t)},ah=function(n,e,t,l){oh(n,e,t),lh(n,e,"debug",t),lh(n,e,"immediateLog",t),lh(n,e,"logTime",t),lh(n,e,"logProcessRun",t),ih(n,e,"throttle",t,l,!0),lh(n,e,"inertia",t),ih(n,e,"inertiaScrollDelay",t,l,!0),ih(n,e,"inertiaScrollDelta",t,l,!0),ih(n,e,"initDelay",t,l,!0),ih(n,e,"initWindowDelay",t,l,!0),ih(n,e,"maxSynthScrollDelay",t,l,!0),lh(n,e,"changeOverflow",t)},sh=function(n){return n.integer="integer",n.integerUnlimited="integer or infinity",n.iteratorCallback="iterator callback",n.boolean="boolean",n}({}),ch=function(n){return""===n||null===n?NaN:Number(n)},dh=function(n){return n[n.Scalar=0]="Scalar",n[n.Function=1]="Function",n[n.Observable=2]="Observable",n}({}),ph={data:{},element:{}},hh=[{type:dh.Scalar,name:"version",value:""},{type:dh.Scalar,name:"isLoading",value:!1},{type:dh.Scalar,name:"loopPending",value:!1},{type:dh.Scalar,name:"cyclePending",value:!1},{type:dh.Scalar,name:"firstVisible",value:ph},{type:dh.Scalar,name:"lastVisible",value:ph},{type:dh.Scalar,name:"itemsCount",value:0},{type:dh.Scalar,name:"bof",value:!1},{type:dh.Scalar,name:"eof",value:!1},{type:dh.Function,name:"reload",value:function(){return null}},{type:dh.Function,name:"append",value:function(){return null}},{type:dh.Function,name:"prepend",value:function(){return null}},{type:dh.Function,name:"check",value:function(){return null}},{type:dh.Function,name:"remove",value:function(){return null}},{type:dh.Function,name:"clip",value:function(){return null}},{type:dh.Function,name:"showLog",value:function(){return null}},{type:dh.Function,name:"fix",value:function(){return null}},{type:dh.Observable,name:"isLoading$",value:new N},{type:dh.Observable,name:"loopPending$",value:new N},{type:dh.Observable,name:"cyclePending$",value:new N},{type:dh.Observable,name:"firstVisible$",value:new ea(ph)},{type:dh.Observable,name:"lastVisible$",value:new ea(ph)},{type:dh.Observable,name:"bof$",value:new N},{type:dh.Observable,name:"eof$",value:new N}],fh=function(n){return n.forward="forward",n.backward="backward",n}({}),mh=function(n){return n.init="init",n.scroll="scroll",n.reload="adapter.reload",n.append="adapter.append",n.prepend="adapter.prepend",n.check="adapter.check",n.remove="adapter.remove",n.userClip="adapter.clip",n.fix="adapter.fix",n.start="start",n.preFetch="preFetch",n.fetch="fetch",n.postFetch="postFetch",n.render="render",n.preClip="preClip",n.clip="clip",n.adjust="adjust",n.end="end",n}({}),gh=function(n){return n.start="start",n.next="next",n.done="done",n.error="error",n}({}),vh=function(){return function(n){var e=this;if(this.init$=new ea(!1),hh.filter((function(e){return n||e.type!==dh.Observable})).forEach((function(n){var t=n.value;return Object.defineProperty(e,n.name,{get:function(){return t}})})),!n){var t=this;hh.filter((function(n){return n.type===dh.Observable})).forEach((function(n){var l=n.name;return Object.defineProperty(e,l,{get:function(){return e.init$.getValue()?e["_"+l]:e.init$.pipe(pa((function(n){return!!n})),ja((function(){return t["_"+l]})))}})}))}}}(),yh=function(){return function(n,e){Object.assign(this,n),this.adapter=new vh(!!e)}}(),bh={adapter:!1,startIndex:1,minIndex:-1/0,maxIndex:1/0,bufferSize:5,padding:.5,infinite:!1,horizontal:!1,windowViewport:!1,inverse:!1},wh={itemSize:1,bufferSize:1,padding:.01},xh={debug:!1,immediateLog:!0,logTime:!1,logProcessRun:!1,throttle:40,inertia:!0,inertiaScrollDelay:125,inertiaScrollDelta:35,initDelay:1,initWindowDelay:40,maxSynthScrollDelay:450,changeOverflow:!1},_h={throttle:0,inertiaScrollDelay:0,inertiaScrollDelta:0,initDelay:0,initWindowDelay:0,maxSynthScrollDelay:0},Ch=function(){function n(n,e,t){uh(this,n||{},bh,wh),ah(this,e||{},xh,_h),this.instanceIndex=t,this.initializeDelay=this.getInitializeDelay()}return n.prototype.getInitializeDelay=function(){var n=0;return!this.windowViewport||!this.initWindowDelay||"scrollRestoration"in history||(n=this.initWindowDelay),this.initDelay>0&&(n=Math.max(n,this.initDelay)),n},n}(),Sh=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var l,r,i=t.call(n),o=[];try{for(;(void 0===e||e-- >0)&&!(l=i.next()).done;)o.push(l.value)}catch(u){r={error:u}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return o},Ih=function(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Sh(arguments[e]));return n},kh=function(){function n(n,e){this.logs=[];var t=n.settings;this.debug=t.debug,this.immediateLog=t.immediateLog,this.logTime=t.logTime,this.getTime=function(){return n.state&&" // time: "+n.state.time},this.getStat=function(){var e=n.buffer,t=n.viewport,l=e.getFirstVisibleItem(),r=e.getLastVisibleItem();return"pos: "+t.scrollPosition+", size: "+t.getScrollableSize()+", bwd_p: "+t.paddings.backward.size+", fwd_p: "+t.paddings.forward.size+", aver: "+(e.hasItemSize?e.averageSize:"no")+", items: "+e.getVisibleItemsCount()+", range: "+(l&&r?"["+l.$index+".."+r.$index+"]":"no")},this.getFetchRange=function(){var e=n.state.fetch,t=e.firstIndex,l=e.lastIndex;return null===t||null===l||isNaN(t)||isNaN(l)?"no":"["+t+".."+l+"]"},this.getLoop=function(){return n.state.loop},this.getLoopNext=function(){return n.state.loopNext},this.getWorkflowCycleData=function(){return t.instanceIndex+"-"+n.state.workflowCycleCount},this.getWorkflowOptions=function(){return n.state.workflowOptions},this.getSynthScrollState=function(){return n.state.syntheticScroll},this.getScrollPosition=function(e){return n.routines.getScrollPosition(e)},this.log((function(){return"uiScroll Workflow has been started (v"+e+", instance "+t.instanceIndex+")"}))}return n.prototype.object=function(n,e,t){this.log((function(){return[n,t?JSON.stringify(e).replace(/"/g,"").replace(/(\{|\:|\,)/g,"$1 ").replace(/(\})/g," $1"):e]}))},n.prototype.stat=function(n){var e=this;if(this.debug){var t=["color: #888; border: dashed #888 0; border-bottom-width: 0px","color: #000; border-width: 0"];this.log((function(){return Ih(["%cstat"+(n?" "+n:"")+",%c "+e.getStat()],t)}))}},n.prototype.fetch=function(n){var e=this;if(this.debug){var t="fetch interval"+(n?" "+n:""),l=["color: #888","color: #000"];this.log((function(){return Ih(["%c"+t+": %c"+e.getFetchRange()],l)}))}},n.prototype.synth=function(n){var e=this;this.log((function(){var t=e.getSynthScrollState();return Ih(n?[n+";"]:[],["registered",t.registeredPosition,"/ queued",t.list.map((function(n){return n.position}))])}))},n.prototype.prepareForLog=function(n){return n instanceof Event?this.getScrollPosition(n.target):n},n.prototype.logProcess=function(n){if(this.debug){var e=n.process,t=n.status,l=this.getWorkflowOptions(),r=[];e===mh.init&&t===gh.next||e===mh.scroll&&t===gh.next&&l.keepScroll||e===mh.end&&t===gh.next&&l.byTimer?r.push("%c---=== loop "+this.getLoopNext()+" start"):e!==mh.end||l.byTimer||(r.push("%c---=== loop "+this.getLoop()+" done"),t!==gh.next||l.keepScroll||(r[0]+=", loop "+this.getLoopNext()+" start")),r.length&&this.log((function(){return Ih(r,["color: #006600;"])}))}},n.prototype.logCycle=function(n){void 0===n&&(n=!0);var e=this.getWorkflowCycleData(),t="color: #0000aa; border: solid #555 1px; border-width: "+(n?"1px 0 0 1px":"0 0 1px 1px")+"; margin-left: -2px";this.log((function(){return["%c   ~~~ WF Cycle "+e+" "+(n?"STARTED":"FINALIZED")+" ~~~  ",t]}))},n.prototype.logError=function(n){var e=this;if(this.debug){var t=["color: #a00;","color: #000"];this.log((function(){return Ih(["error:%c"+(n?" "+n:"")+"%c (loop "+e.getLoopNext()+")"],t)}))}},n.prototype.log=function(){for(var n=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.debug){if("function"==typeof e[0]&&(e=e[0](),Array.isArray(e)||(e=[e])),e.every((function(n){return void 0===n})))return;this.logTime&&(e=Ih(e,[this.getTime()])),e=e.map((function(e){return n.prepareForLog(e)})),this.immediateLog?console.log.apply(this,e):this.logs.push(e)}},n.prototype.logForce=function(){for(var n=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.debug&&(!this.immediateLog&&this.logs.length&&(this.logs.forEach((function(e){return console.log.apply(n,e)})),this.logs=[]),e.length&&console.log.apply(this,e))},n}(),Eh=function(){function n(n){this.horizontal=n.horizontal}return n.prototype.checkElement=function(n){if(!n)throw new Error("HTML element is not defined")},n.prototype.getScrollPosition=function(n){return this.checkElement(n),n[this.horizontal?"scrollLeft":"scrollTop"]},n.prototype.setScrollPosition=function(n,e){this.checkElement(n),e=Math.max(0,e),n[this.horizontal?"scrollLeft":"scrollTop"]=e},n.prototype.getParams=function(n){return this.checkElement(n),"body"===n.tagName.toLowerCase()?{height:(n=n.parentElement).clientHeight,width:n.clientWidth,top:n.clientTop,bottom:n.clientTop+n.clientHeight,left:n.clientLeft,right:n.clientLeft+n.clientWidth}:n.getBoundingClientRect()},n.prototype.getSize=function(n){return this.getParams(n)[this.horizontal?"width":"height"]},n.prototype.getSizeStyle=function(n){return this.checkElement(n),parseInt(n.style[this.horizontal?"width":"height"],10)||0},n.prototype.setSizeStyle=function(n,e){this.checkElement(n),e=Math.max(0,e),n.style[this.horizontal?"width":"height"]=e+"px"},n.prototype.getRectEdge=function(n,e,t){return n[e===(t?fh.backward:fh.forward)?this.horizontal?"right":"bottom":this.horizontal?"left":"top"]},n.prototype.getEdge=function(n,e,t){var l=this.getParams(n);return this.getRectEdge(l,e,t)},n.prototype.getEdge2=function(n,e,t,l){return n.offsetTop-(t?t.scrollTop:0)+(e===(l?fh.backward:fh.forward)?this.getSize(n):0)},n.prototype.hideElement=function(n){this.checkElement(n),n.style.display="none"},n.prototype.getOffset=function(n){return this.checkElement(n),this.horizontal?n.offsetLeft:n.offsetTop},n}(),Th=function(){function n(n,e,t){this.element=n.querySelector("[data-padding-"+e+"]"),this.direction=e,this.routines=t}return n.prototype.reset=function(n){this.size=n||0},Object.defineProperty(n.prototype,"size",{get:function(){return this.routines.getSizeStyle(this.element)},set:function(n){this.routines.setSizeStyle(this.element,Math.round(n))},enumerable:!0,configurable:!0}),n}(),Ph=function(){function n(n,e,t){this.settings=t,this.forward=new Th(n,fh.forward,e),this.backward=new Th(n,fh.backward,e)}return n.prototype.byDirection=function(n,e){return n===fh.backward?e?this.forward:this.backward:e?this.backward:this.forward},n.prototype.reset=function(n,e){var t,l=this.getPositiveSize(e,n),r=this.getNegativeSize(e);this.settings.inverse?(this.forward.reset(r),this.backward.reset(l),(t=n-this.backward.size)>0&&(this.backward.size+=t,this.forward.size-=t)):(this.forward.reset(l),this.backward.reset(r),(t=n-this.forward.size)>0&&(this.backward.size-=t,this.forward.size+=t))},n.prototype.getPositiveSize=function(n,e){var t=this.settings,l=e;return isFinite(t.maxIndex)&&(l=(t.maxIndex-n+1)*t.itemSize),l},n.prototype.getNegativeSize=function(n){var e=this.settings,t=0;return isFinite(e.minIndex)&&(t=(n-e.minIndex)*e.itemSize),t},n}(),Ah=function(){function n(n,e,t,l,r){this.element=n,this.settings=e,this.routines=t,this.state=l,this.logger=r,this.disabled=!1,e.windowViewport?(this.host=this.element.ownerDocument.body,this.scrollEventElement=this.element.ownerDocument,this.scrollable=this.scrollEventElement.scrollingElement):(this.host=this.element.parentElement,this.scrollEventElement=this.host,this.scrollable=this.element.parentElement),this.paddings=new Ph(this.element,this.routines,e),e.windowViewport&&"scrollRestoration"in history&&(history.scrollRestoration="manual")}return n.prototype.reset=function(n){var e=0;this.paddings.reset(this.getSize(),this.state.startIndex);var t=this.paddings.backward.size;if(t){e=t;var l=this.settings.itemSize;this.state.bwdPaddingAverageSizeItemsCount=l?t/l:0}this.scrollPosition=e,this.state.scrollState.reset(),this.startDelta=0},n.prototype.setPosition=function(n,e){if(void 0===e&&(e=this.scrollPosition),e===n)return this.logger.log((function(){return["setting scroll position at",n,"[cancelled]"]})),n;this.routines.setScrollPosition(this.scrollable,n);var t=this.scrollPosition;return this.logger.log((function(){return["setting scroll position at",t]})),t},Object.defineProperty(n.prototype,"scrollPosition",{get:function(){return this.routines.getScrollPosition(this.scrollable)},set:function(n){var e=this.scrollPosition,t=this.setPosition(n,e),l=this.state;l.syntheticScroll.push(t,e,l.scrollState.getData())},enumerable:!0,configurable:!0}),n.prototype.disableScrollForOneLoop=function(){var n=this;if(!this.disabled){var e=this.scrollable.style;if("hidden"!==e.overflowY){this.disabled=!0;var t=e.overflowY;setTimeout((function(){n.disabled=!1,e.overflowY=t})),e.overflowY="hidden"}}},n.prototype.getSize=function(){return this.routines.getSize(this.host)},n.prototype.getScrollableSize=function(){return this.routines.getSize(this.element)},n.prototype.getBufferPadding=function(){return this.getSize()*this.settings.padding},n.prototype.getEdge=function(n,e){return this.routines.getEdge(this.host,n,e)},n.prototype.getElementEdge=function(n,e,t){return this.routines.getEdge(n,e,t)},n.prototype.getOffset=function(){return this.routines.getOffset(this.element)},n}(),Oh=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var l,r,i=t.call(n),o=[];try{for(;(void 0===e||e-- >0)&&!(l=i.next()).done;)o.push(l.value)}catch(u){r={error:u}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return o},Dh=function(){return function(n){this.$index=n.$index,this.nodeId=n.nodeId,this.data=n.data,this.size=n.size}}(),Nh=function(){function n(){this.reset()}return n.prototype.reset=function(){this.newItems=[],this.oldItems=[]},n}(),Rh=function(){function n(n,e){this.averageSizeFloat=n,this.averageSize=n,this.itemSize=n,this.items=new Map,this.recalculateAverage=new Nh,this.reset(),this.logger=e}return n.prototype.reset=function(){this.minIndex=1/0,this.maxIndex=-1/0,this.items.clear(),this.averageSizeFloat=this.itemSize,this.averageSize=this.itemSize,this.recalculateAverage.reset()},n.prototype.recalculateAverageSize=function(){var n=this,e=this.recalculateAverage,t=e.oldItems.length,l=e.newItems.length;if(!t&&!l)return!1;if(t){var r=this.recalculateAverage.oldItems.reduce((function(n,e){return n+e.size}),0),i=this.recalculateAverage.oldItems.reduce((function(n,e){return n+e.newSize}),0);this.averageSizeFloat=(this.averageSizeFloat||0)-(r-i)/(this.items.size-l)}return l&&(i=this.recalculateAverage.newItems.reduce((function(n,e){return n+e.size}),0),this.averageSizeFloat=((this.items.size-l)*(this.averageSizeFloat||0)+i)/this.items.size),this.averageSize=Math.round(this.averageSizeFloat),this.recalculateAverage.reset(),this.logger.log((function(){return"average size has been updated: "+n.averageSize})),!0},n.prototype.add=function(n){var e=this.get(n.$index);return e?(e.data=n.data,e.size!==n.size&&(this.recalculateAverage.oldItems.push({$index:n.$index,size:e.size,newSize:n.size}),e.size=n.size)):(e=new Dh(n),this.items.set(n.$index,e),this.averageSize!==e.size&&this.recalculateAverage.newItems.push({$index:n.$index,size:e.size})),n.$index<this.minIndex&&(this.minIndex=n.$index),n.$index>this.maxIndex&&(this.maxIndex=n.$index),e},n.prototype.getItemSize=function(n){var e=this.get(n);return e?e.size:0},n.prototype.get=function(n){return this.items.get(n)},Object.defineProperty(n.prototype,"size",{get:function(){return this.items.size},enumerable:!0,configurable:!0}),n.prototype.removeItem=function(n){var e=new Map;this.items.forEach((function(t,l){l>n&&e.set(l-1,t)})),this.items=new Map(function(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Oh(arguments[e]));return n}(this.items,e)),this.items.delete(this.maxIndex),this.maxIndex--},n}(),Mh=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var l,r,i=t.call(n),o=[];try{for(;(void 0===e||e-- >0)&&!(l=i.next()).done;)o.push(l.value)}catch(u){r={error:u}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return o},Vh=function(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Mh(arguments[e]));return n},jh=function(){function n(n,e,t){this.$items=new ea([]),this.eofSource=new N,this.bofSource=new N,this.cache=new Rh(n.itemSize,t),this.minIndexUser=n.minIndex,this.maxIndexUser=n.maxIndex,this.reset(),this.startIndex=e,this.minBufferSize=n.bufferSize,this.logger=t}return n.prototype.reset=function(n,e){n&&this.items.forEach((function(n){return n.hide()})),this.items=[],this.pristine=!0,this.cache.reset(),this.absMinIndex=this.minIndexUser,this.absMaxIndex=this.maxIndexUser,void 0!==e&&(this.startIndex=e)},Object.defineProperty(n.prototype,"items",{get:function(){return this._items},set:function(n){this.pristine=!1,this._items=n,this.$items.next(n),this.checkBOF(),this.checkEOF()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"absMinIndex",{get:function(){return this._absMinIndex},set:function(n){this._absMinIndex!==n&&(this._absMinIndex=n,this.checkBOF())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"absMaxIndex",{get:function(){return this._absMaxIndex},set:function(n){this._absMaxIndex!==n&&(this._absMaxIndex=n,this.checkEOF())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bof",{get:function(){return this._bof},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"eof",{get:function(){return this._eof},enumerable:!0,configurable:!0}),n.prototype.checkBOF=function(){var n=this.items.length?this.items[0].$index===this.absMinIndex:isFinite(this.absMinIndex);this._bof!==n&&(this._bof=n,this.bofSource.next(n))},n.prototype.checkEOF=function(){var n=this.items.length?this.items[this.items.length-1].$index===this.absMaxIndex:isFinite(this.absMaxIndex);this._eof!==n&&(this._eof=n,this.eofSource.next(n))},Object.defineProperty(n.prototype,"size",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"averageSize",{get:function(){return this.cache.averageSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasItemSize",{get:function(){return void 0!==this.averageSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minIndex",{get:function(){return isFinite(this.cache.minIndex)?this.cache.minIndex:this.startIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxIndex",{get:function(){return isFinite(this.cache.maxIndex)?this.cache.maxIndex:this.startIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstIndex",{get:function(){return this.items.length?this.items[0].$index:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lastIndex",{get:function(){return this.items.length?this.items[this.items.length-1].$index:null},enumerable:!0,configurable:!0}),n.prototype.get=function(n){return this.items.find((function(e){return e.$index===n}))},n.prototype.setItems=function(n){if(this.items.length)if(this.items[0].$index>n[n.length-1].$index)this.items=Vh(n,this.items);else{if(!(n[0].$index>this.items[this.items.length-1].$index))return!1;this.items=Vh(this.items,n)}else this.items=Vh(n);return!0},n.prototype.append=function(n){this.items=Vh(this.items,n)},n.prototype.prepend=function(n){this.items=Vh(n,this.items)},n.prototype.removeItem=function(n){this.items=this.items.filter((function(e){return e.$index!==n.$index})),this.items.forEach((function(e){e.$index>n.$index&&(e.$index--,e.nodeId=String(e.$index))})),this.absMaxIndex--,this.cache.removeItem(n.$index)},n.prototype.getFirstVisibleItemIndex=function(){for(var n=this.items.length,e=0;e<n;e++)if(!this.items[e].invisible)return e;return-1},n.prototype.getLastVisibleItemIndex=function(){for(var n=this.items.length-1;n>=0;n--)if(!this.items[n].invisible)return n;return-1},n.prototype.getFirstVisibleItem=function(){var n=this.getFirstVisibleItemIndex();if(n>=0)return this.items[n]},n.prototype.getLastVisibleItem=function(){var n=this.getLastVisibleItemIndex();if(n>=0)return this.items[n]},n.prototype.getEdgeVisibleItem=function(n,e){return n===(e?fh.backward:fh.forward)?this.getLastVisibleItem():this.getFirstVisibleItem()},n.prototype.getVisibleItemsCount=function(){return this.items.reduce((function(n,e){return n+(e.invisible?0:1)}),0)},n.prototype.getSizeByIndex=function(n){var e=this.cache.get(n);return e?e.size:this.averageSize},n.prototype.checkAverageSize=function(){return this.cache.recalculateAverageSize()},n.prototype.getIndexToAppend=function(n){return(n?this.absMaxIndex:this.size?this.items[this.size-1].$index:this.maxIndex)+(this.size?1:0)},n.prototype.getIndexToPrepend=function(n){return(n?this.absMinIndex:this.size?this.items[0].$index:this.minIndex)-(this.size?1:0)},n.prototype.getIndexToAdd=function(n,e){return e?this.getIndexToPrepend(n):this.getIndexToAppend(n)},n}(),zh=function(){function n(){this.callCount=0,this.reset()}return n.prototype.reset=function(){this._newItemsData=null,this.simulate=!1,this.items=[],this.firstIndex=this.firstIndexBuffer=null,this.lastIndex=this.lastIndexBuffer=null,this.hasAnotherPack=!1,this.negativeSize=0,this.hasAverageItemSizeChanged=!1,this.direction=null,this.isPrepend=!1,this.isReplace=!1},Object.defineProperty(n.prototype,"newItemsData",{get:function(){return this._newItemsData},set:function(n){this._newItemsData=n,n&&n.length&&this.callCount++},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shouldFetch",{get:function(){return!!this.count},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasNewItems",{get:function(){return!(!this._newItemsData||!this._newItemsData.length)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this.firstIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"count",{get:function(){return null!==this.firstIndex&&null!==this.lastIndex?this.lastIndex-this.firstIndex+1:0},enumerable:!0,configurable:!0}),n.prototype.startSimulate=function(n){this.simulate=!0,this._newItemsData=n.map((function(n){return n.data})),this.items=n,this.hasAnotherPack=!1,this.negativeSize=0},n.prototype.stopSimulate=function(){this.simulate=!1,this.isPrepend=!1,this.isReplace=!1},n.prototype.append=function(n){this.startSimulate(n),this.lastIndex=n[n.length-1].$index,this.firstIndex=n[0].$index,this.direction=fh.forward},n.prototype.prepend=function(n){this.startSimulate(n),this.lastIndex=n[0].$index,this.firstIndex=n[n.length-1].$index,this.direction=fh.backward,this.isPrepend=!0},n.prototype.replace=function(n){this.startSimulate(n),this.lastIndex=n[0].$index,this.firstIndex=n[n.length-1].$index,this.isReplace=!0},n}(),Lh=function(){function n(){this.infinite=!1,this.noClip=this.infinite,this.callCount=0,this.reset()}return Object.defineProperty(n.prototype,"force",{get:function(){return this.forceForward||this.forceBackward},enumerable:!0,configurable:!0}),n.prototype.reset=function(){this.doClip=!1,this.forceReset()},n.prototype.forceReset=function(){this.simulate=!1,this.forceForward=!1,this.forceBackward=!1},n}(),Uh=function(){function n(n){this.reset()}return n.prototype.reset=function(){this.empty=!1,this.scroll=!1,this.keepScroll=!1,this.byTimer=!1,this.noFetch=!1},n}(),Fh=function(){function n(){this.reset()}return n.prototype.reset=function(){this.delta=0,this.positionToUpdate=0},n}(),Hh=function(){function n(){this.window=new Fh,this.reset()}return n.prototype.reset=function(){this.firstScroll=!1,this.firstScrollTime=0,this.lastScrollTime=0,this.scrollTimer=null,this.workflowTimer=null,this.scroll=!1,this.keepScroll=!1,this.position=0,this.time=Number(new Date),this.direction=fh.forward,this.window.reset()},n.prototype.getData=function(){return new Bh(this.position,this.positionBefore,this.time,this.direction)},n.prototype.setData=function(n){var e=n.time,t=n.direction;this.position=n.position,this.time=e,this.direction=t},n}(),Bh=function(){return function(n,e,t,l){this.time=t||Number(new Date),this.position=n,this.positionBefore=e,this.direction=l||fh.forward,this.handled=!1}}(),$h=function(){function n(n){this.logger=n,this.reset()}return Object.defineProperty(n.prototype,"isSet",{get:function(){return!!this.list.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDone",{get:function(){return this.list.some((function(n){return n.handled}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.getLast("position")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"time",{get:function(){return this.getLast("time")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"direction",{get:function(){return this.getLast("direction")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handledPosition",{get:function(){var n=this.getHandled();return n?n.position:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handledTime",{get:function(){var n=this.getHandled();return n?n.time:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"registeredTime",{get:function(){return this.before?this.before.time:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"registeredPosition",{get:function(){return this.before?this.before.position:null},enumerable:!0,configurable:!0}),n.prototype.getHandled=function(){return this.list.find((function(n){return n.handled}))||null},n.prototype.getLast=function(n){var e=this.list.length;if(!e)return null;var t=this.list[e-1];switch(n){case"position":return t.position;case"time":return t.time;case"direction":return t.direction;default:return null}},n.prototype.reset=function(){this.before=null,this.list=[]},n.prototype.register=function(n){this.before=new Bh(n.position,null,n.time,n.direction)},n.prototype.push=function(n,e,t){var l=new Bh(n,e);this.registeredTime!==t.time&&(this.reset(),this.register(t)),this.list.push(l)},n.prototype.done=function(){var n=this.getHandled();n&&(this.register(n),this.list=this.list.filter((function(e){return e.time>n.time})));var e=this.list.length?this.list[this.list.length-1]:null;e?e.handled=!0:this.reset()},n.prototype.nearest=function(n){var e=this,t=this.before;if(!t||!this.list.length)return null;var l=n.position,r=n.time,i=n.direction,o=function(n){return e.logger.log((function(){return[""+n(),"position: "+l,"prev pos: "+e.registeredPosition,"synth pos: "+e.position,"delta synth: "+(l-e.position),"delta inertia: "+(l-u.position),"delta synth: "+(r-e.time),"delta inertia: "+(r-u.time)].join(", ")}))},u=this.list.reduce((function(n,e){var t=Math.abs(l-e.position);return n?Math.abs(l-n.position)<t?e:n:e}),null),a=t.direction===fh.forward?-1:1,s=a*(l-u.position),c=a*(l-t.position);return i===fh.forward&&s<0&&c>0&&c>-s?(o((function(){return"return nearest "+u.position})),u):c<0&&c>s?(o((function(){return"return last "+t.position})),t):s<0?(o((function(){return"return nearest "+u.position})),u):null},n}(),Wh=function(){function n(n,e,t){this.settings=n,this.version=e,this.logger=t,this.initTime=Number(new Date),this.innerLoopCount=0,this.isInitialLoop=!1,this.workflowCycleCount=1,this.isInitialWorkflowCycle=!1,this.countDone=0,this.workflowOptions=new Uh(n),this.setCurrentStartIndex(n.startIndex),this.fetch=new zh,this.clip=new Lh,this.sizeBeforeRender=0,this.sizeAfterRender=0,this.fwdPaddingBeforeRender=0,this.bwdPaddingAverageSizeItemsCount=0,this.scrollState=new Hh,this.syntheticScroll=new $h(t),this._isLoading=!1,this._loopPending=!1,this._workflowPending=!1,this.isLoadingSource=new N,this.loopPendingSource=new N,this.workflowPendingSource=new N,this.firstVisibleSource=new ea(ph),this.lastVisibleSource=new ea(ph),this.firstVisibleWanted=!1,this.lastVisibleWanted=!1}return Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._isLoading},set:function(n){this._isLoading!==n&&(this._isLoading=n,this.isLoadingSource.next(n))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loopPending",{get:function(){return this._loopPending},set:function(n){this._loopPending!==n&&(this._loopPending=n,this.loopPendingSource.next(n))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"workflowPending",{get:function(){return this._workflowPending},set:function(n){this._workflowPending!==n&&(this._workflowPending=n,this.workflowPendingSource.next(n))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstVisibleItem",{get:function(){return this.firstVisibleSource.getValue()},set:function(n){this.firstVisibleItem.$index!==n.$index&&this.firstVisibleSource.next(n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lastVisibleItem",{get:function(){return this.lastVisibleSource.getValue()},set:function(n){this.lastVisibleItem.$index!==n.$index&&this.lastVisibleSource.next(n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"time",{get:function(){return Number(new Date)-this.initTime},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loop",{get:function(){return this.settings.instanceIndex+"-"+this.workflowCycleCount+"-"+this.innerLoopCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loopNext",{get:function(){return this.settings.instanceIndex+"-"+this.workflowCycleCount+"-"+(this.innerLoopCount+1)},enumerable:!0,configurable:!0}),n.prototype.setCurrentStartIndex=function(n){var e=this.settings,t=e.startIndex,l=e.minIndex,r=e.maxIndex,i=Number(n);isNaN(i)&&(this.logger.log((function(){return"fallback startIndex to settings.startIndex ("+t+")"})),i=t),i<l&&(this.logger.log((function(){return"setting startIndex to settings.minIndex ("+l+") because "+i+" < "+l})),i=l),i>r&&(this.logger.log((function(){return"setting startIndex to settings.maxIndex ("+r+") because "+i+" > "+r})),i=r),this.startIndex=i},n}(),qh=function(){function n(n,e,t,l,r){var i=this;this.state=e,this.buffer=t,this.logger=l,this.getWorkflow=r,hh.forEach((function(e){var t=e.type,l=e.name;return Object.defineProperty(n,t===dh.Observable?"_"+l:l,{get:function(){var n=i[l];return t===dh.Function?n.bind(i):n}})}));var o=n.init$;o.next(!0),o.complete()}return Object.defineProperty(n.prototype,"workflow",{get:function(){return this.getWorkflow()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"version",{get:function(){return this.state.version},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isLoading",{get:function(){return this.state.isLoading},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isLoading$",{get:function(){return this.state.isLoadingSource},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loopPending",{get:function(){return this.state.loopPending},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loopPending$",{get:function(){return this.state.loopPendingSource},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cyclePending",{get:function(){return this.state.workflowPending},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cyclePending$",{get:function(){return this.state.workflowPendingSource},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstVisible",{get:function(){return this.state.firstVisibleWanted=!0,this.state.firstVisibleItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstVisible$",{get:function(){return this.state.firstVisibleWanted=!0,this.state.firstVisibleSource},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lastVisible",{get:function(){return this.state.lastVisibleWanted=!0,this.state.lastVisibleItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lastVisible$",{get:function(){return this.state.lastVisibleWanted=!0,this.state.lastVisibleSource},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsCount",{get:function(){return this.buffer.getVisibleItemsCount()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bof",{get:function(){return this.buffer.bof},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bof$",{get:function(){return this.buffer.bofSource},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"eof",{get:function(){return this.buffer.eof},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"eof$",{get:function(){return this.buffer.eofSource},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){},n.prototype.reload=function(n){this.logger.log((function(){return"adapter: reload("+(void 0!==n?n:"")+")"})),this.workflow.call({process:mh.reload,status:gh.start,payload:n})},n.prototype.append=function(n,e){this.logger.log((function(){return"adapter: append(["+(Array.isArray(n)?n.length:1)+"], "+!!e+")"})),this.workflow.call({process:mh.append,status:gh.start,payload:{items:n,eof:e}})},n.prototype.prepend=function(n,e){this.logger.log((function(){return"adapter: prepend(["+(Array.isArray(n)?n.length:1)+"], "+!!e+")"})),this.workflow.call({process:mh.prepend,status:gh.start,payload:{items:n,bof:e}})},n.prototype.check=function(){this.logger.log((function(){return"adapter: check()"})),this.workflow.call({process:mh.check,status:gh.start})},n.prototype.remove=function(n){this.logger.log((function(){return"adapter: remove()"})),this.workflow.call({process:mh.remove,status:gh.start,payload:n})},n.prototype.clip=function(n){this.logger.log((function(){return"adapter: clip("+(n?JSON.stringify(n):"")+")"})),this.workflow.call({process:mh.userClip,status:gh.start,payload:n})},n.prototype.showLog=function(){this.logger.log((function(){return"adapter: showLog()"})),this.logger.logForce()},n.prototype.fix=function(n){this.logger.log((function(){return"adapter: fix("+(n?"{ "+Object.keys(n).join(", ")+" }":"")+")"})),this.workflow.call({process:mh.fix,status:gh.start,payload:n})},n}(),Gh=0,Zh=function(){function n(n,e,t,l){var r=this;th(e),this.workflow={call:l},this.innerLoopSubscriptions=[],this.settings=new Ch(e.settings,e.devSettings,++Gh),this.logger=new kh(this,t),this.routines=new Eh(this.settings),this.state=new Wh(this.settings,t,this.logger),this.buffer=new jh(this.settings,this.state.startIndex,this.logger),this.viewport=new Ah(n,this.settings,this.routines,this.state,this.logger),this.logger.object("uiScroll settings object",this.settings,!0);var i=e instanceof yh;this.datasource=i?e:new yh(e,!this.settings.adapter),(i||this.settings.adapter)&&(this.adapter=new qh(this.datasource.adapter,this.state,this.buffer,this.logger,(function(){return r.workflow})))}return n.prototype.init=function(){this.viewport.reset(0),this.logger.stat("initialization")},n.prototype.bindData=function(){return new E((function(n){setTimeout((function(){n.next(!0),n.complete()}))}))},n.prototype.purgeInnerLoopSubscriptions=function(){this.innerLoopSubscriptions.forEach((function(n){return n.unsubscribe()})),this.innerLoopSubscriptions=[]},n.prototype.purgeScrollTimers=function(n){var e=this.state.scrollState;e.scrollTimer&&(clearTimeout(e.scrollTimer),e.scrollTimer=null),!n&&e.workflowTimer&&(clearTimeout(e.workflowTimer),e.workflowTimer=null)},n.prototype.dispose=function(){this.adapter&&this.adapter.dispose(),this.purgeInnerLoopSubscriptions(),this.purgeScrollTimers()},n.prototype.finalize=function(){},n}(),Qh=function(){function n(){}return n.run=function(n,e){var t=n.state,l=n.workflow,r=!e||e===mh.reload;n.logger.logCycle(!0),t.isInitialWorkflowCycle=r,t.isInitialLoop=r,t.workflowPending=!0,t.isLoading=!0,l.call({process:mh.init,status:gh.next,payload:{process:e||mh.init}})},n}(),Kh=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var l,r,i=t.call(n),o=[];try{for(;(void 0===e||e-- >0)&&!(l=i.next()).done;)o.push(l.value)}catch(u){r={error:u}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return o},Xh=function(n){return n[n.stop=-1]="stop",n[n.start=0]="start",n[n.synth=1]="synth",n[n.inertia=2]="inertia",n[n.delay=3]="delay",n[n.run=4]="run",n}({}),Jh=function(){function n(){}return n.run=function(e,t){var l=e.workflow,r=e.state,i=r.syntheticScroll,o=r.scrollState,u=e.viewport.scrollPosition,a=Number(new Date),s=n.getDirection(e,u),c={position:u,time:a,direction:s};e.logger.log((function(){return function(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Kh(arguments[e]));return n}([s===fh.backward?"⤴":"⤵",u,a-o.time+"ms"],i.position===u?["- done synthetic"]:[])}));var d=n.processSyntheticScroll(e,c);i.isSet&&i.position===u||o.setData(c),d===Xh.inertia&&(d=this.processInertiaScroll(e,c)),d===Xh.delay&&this.delayScroll(e,l)},n.getDirection=function(n,e){var t=n.state,l=t.syntheticScroll,r=t.scrollState,i=r.direction,o=r.position;return l.isDone&&(i=l.direction,o=l.position),e===o?i:e>o?fh.forward:fh.backward},n.processSyntheticScroll=function(n,e){var t=e.position,l=e.time,r=n.state,i=r.syntheticScroll,o=r.scrollState;return i.isSet&&n.logger.synth("synthetic proc"),i.isSet?l-i.time>n.settings.maxSynthScrollDelay?(i.reset(),n.logger.log("reset synthetic by time"),i.position===t?Xh.stop:Xh.delay):i.position===t?(i.isDone||i.handledPosition!==t?(i.isDone&&(o.position=i.handledPosition,o.time=i.handledTime),i.done(),n.logger.synth("synthetic done")):(i.reset(),n.logger.log("reset synthetic by position")),Xh.stop):n.settings.inertia?Xh.inertia:Xh.delay:Xh.delay},n.processInertiaScroll=function(n,e){var t=n.viewport,l=n.logger,r=n.state.syntheticScroll,i=r.nearest(e);if(null===i)return l.log("skip, no inertia"),Xh.delay;var o=e.position,u=o-i.position;return u===o-r.position?(r.reset(),l.log("skip, proper inertia"),Xh.delay):(t.scrollPosition=r.position+u,Xh.stop)},n.delayScroll=function(e,t){var l=e.state,r=l.workflowOptions,i=l.scrollState;if(e.settings.throttle&&!r.byTimer){var o=Number(Date.now()),u=Math.max(i.lastScrollTime+e.settings.throttle-o,e.settings.throttle+(i.firstScrollTime?i.firstScrollTime-o:0));u<=0?(e.purgeScrollTimers(!0),i.lastScrollTime=o,i.firstScrollTime=0,n.doScroll(e,t)):i.scrollTimer||i.keepScroll||(e.logger.log((function(){return"setting the timer at "+(e.state.time+u)})),i.firstScrollTime=o,i.scrollTimer=setTimeout((function(){i.scrollTimer=null,e.logger.log((function(){return"fire the timer ("+e.state.time+")"})),r.byTimer=!0,n.run(e)}),u))}else n.doScroll(e,t)},n.logPendingWorkflow=function(n){n.logger.log((function(){return n.state.scrollState.keepScroll?void 0:["setting %ckeepScroll%c flag (scrolling while the Workflow is pending)","color: #006600;","color: #000000;"]}))},n.doScroll=function(e,t){var l=e.state,r=l.scrollState,i=l.workflowOptions;if(l.workflowPending)return n.logPendingWorkflow(e),void(r.keepScroll=!0);i.scroll=!0,i.keepScroll=r.keepScroll,i.noFetch=e.buffer.bof&&e.buffer.eof,t.call({process:mh.scroll,status:gh.next,payload:{keepScroll:i.keepScroll}})},n}(),Yh=function(){function n(){}return n.run=function(n,e){var t=n.viewport.scrollPosition;n.state.setCurrentStartIndex(e),n.buffer.reset(!0,n.state.startIndex),n.viewport.reset(t);var l={};n.state.isLoading&&(n.purgeScrollTimers(),l.finalize=!0),n.workflow.call({process:mh.reload,status:gh.next,payload:l})},n}(),nf=function(){function n(n,e,t){this.container={$index:n,data:e},this.nodeId=String(n),this.routines=t,this.invisible=!0}return Object.defineProperty(n.prototype,"$index",{get:function(){return this.container.$index},set:function(n){this.container.$index=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this.container.data},set:function(n){this.container.data=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.container.element},set:function(n){this.container.element=n},enumerable:!0,configurable:!0}),n.prototype.setSize=function(){this.size=this.routines.getSize(this.element)},n.prototype.hide=function(){this.element&&this.routines.hideElement(this.element)},n.prototype.get=function(){return this.container},n}(),ef=function(){function n(){}return n.run=function(e,t){var l=e.workflow,r=t.items;r=Array.isArray(r)?r:[r];var i=!!t.prepend,o=!!(i?t.bof:t.eof),u=i?mh.prepend:mh.append;if(r.length){if(i&&o&&!e.buffer.bof||!i&&o&&!e.buffer.eof)return n.doVirtualize(e,r,i),void l.call({process:u,status:gh.done});n.simulateFetch(e,r,o,i),l.call({process:u,status:gh.next})}else l.call({process:u,status:gh.error,payload:{error:'Wrong argument of the "'+(i?"prepend":"append")+'" method call'}})},n.doVirtualize=function(n,e,t){var l=n.buffer,r=n.viewport.paddings,i=t?"absMinIndex":"absMaxIndex";if(isFinite(l[i])){var o=e.length*l.averageSize,u=t?r.backward:r.forward;l[i]+=(t?-1:1)*e.length,u.size+=o,t&&(n.viewport.scrollPosition+=o),n.logger.log((function(){return"buffer."+[i]+" value is set to "+l[i]})),n.logger.stat("after virtual "+(t?"prepend":"append"))}},n.simulateFetch=function(n,e,t,l){for(var r=n.buffer,i=n.state,o=n.state.fetch,u=l?"absMinIndex":"absMaxIndex",a=r.getIndexToAdd(t,l),s=r[u],c=[],d=0;d<e.length;d++){var p=new nf(a,e[d],n.routines);isFinite(s)&&(l&&a<s||!l&&a>s)&&(s+=l?-1:1),(l?Array.prototype.unshift:Array.prototype.push).apply(c,[p]),a+=l?-1:1}return s!==r[u]&&(r[u]=s,n.logger.log((function(){return"buffer."+u+" value is set to "+r[u]}))),(l?o.prepend:o.append).call(o,c),(l?r.prepend:r.append).call(r,c),o.firstIndexBuffer=null!==r.firstIndex?r.firstIndex:a,o.lastIndexBuffer=null!==r.lastIndex?r.lastIndex:a,i.clip.noClip=!0,!0},n}(),tf=function(){function n(){}return n.run=function(n){var e=n.workflow,t=n.buffer,l=n.state.fetch,r=1/0,i=-1/0;t.items.forEach((function(n){var e=n.size;n.setSize(),n.size!==e&&(t.cache.add(n),r=Math.min(r,n.$index),i=Math.max(i,n.$index))})),Number.isFinite(r)&&(n.state.clip.noClip=!0,l.firstIndexBuffer=t.firstIndex,l.lastIndexBuffer=t.lastIndex,l.replace(t.items.filter((function(n){return n.$index>=r&&n.$index<=i})))),n.logger.stat("check"),e.call({process:mh.check,status:Number.isFinite(r)?gh.next:gh.done})},n}(),lf=function(){function n(){}return n.run=function(e,t){n.checkPredicate(t)?(e.buffer.items.forEach((function(n){t(n.get())&&(n.toRemove=!0,n.removeDirection=fh.backward,e.state.clip.doClip=!0,e.state.clip.simulate=!0)})),e.workflow.call(e.state.clip.doClip?{process:mh.remove,status:gh.next}:{process:mh.remove,status:gh.done})):e.workflow.call({process:mh.remove,status:gh.error,payload:{error:'Wrong argument of the "Adapter.remove" method call'}})},n.checkPredicate=function(n){return"function"==typeof n},n}(),rf=function(){function n(){}return n.run=function(e,t){var l=n.checkOptions(t);e.state.clip.forceForward=!l.backwardOnly,e.state.clip.forceBackward=!l.forwardOnly,e.workflow.call({process:mh.userClip,status:gh.next})},n.checkOptions=function(n){var e={forwardOnly:!1,backwardOnly:!1};return null!==n&&"object"==typeof n&&(e.backwardOnly=!!n.backwardOnly,e.forwardOnly=!!n.forwardOnly),e},n}(),of=function(){return(of=Object.assign||function(n){for(var e,t=1,l=arguments.length;t<l;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)},uf=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var l,r,i=t.call(n),o=[];try{for(;(void 0===e||e-- >0)&&!(l=i.next()).done;)o.push(l.value)}catch(u){r={error:u}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return o},af=function(n){return n.scrollPosition="scrollPosition",n.minIndex="minIndex",n.maxIndex="maxIndex",n.updater="updater",n}({}),sf=function(){function n(){}return n.run=function(e,t){var l=e.workflow,r=n.checkOptions(e,t);r.length===Object.keys(t).length?(r.forEach((function(n){"function"==typeof n.call&&n.call({scroller:e,params:r,value:n.value})})),l.call({process:mh.fix,status:gh.done})):l.call({process:mh.fix,status:gh.error,payload:{error:'Wrong argument of the "Adapter.fix" method call'}})},n.setScrollPosition=function(n){var e=n.scroller,t=e.viewport,l=n.value;e.state.syntheticScroll.reset();var r=l;l===-1/0?r=0:l===1/0&&(r=t.getScrollableSize()),t.setPosition(r)},n.setMinIndex=function(n){var e=n.scroller,t=e.buffer,l=n.value;e.settings.minIndex=l,t.absMinIndex=l},n.setMaxIndex=function(n){var e=n.scroller,t=e.buffer,l=n.value;e.settings.maxIndex=l,t.absMaxIndex=l},n.updateItems=function(n){var e=n.value;n.scroller.buffer.items.forEach((function(n){return e(n.get())}))},n.checkOptions=function(e,t){return t&&"object"==typeof t?n.params.reduce((function(n,l){var r=l.token,i=l.type;if(t.hasOwnProperty(r)){var o=function(n,e){var t=n,l="";return e===sh.integer&&(n=ch(n))!==(t=parseInt(n,10))&&(l="it must be an integer"),e===sh.integerUnlimited&&(n=ch(n))!==(t=n===1/0||n===-1/0?n:parseInt(n,10))&&(l="it must be an integer or +/- Infinity"),e===sh.iteratorCallback&&("function"!=typeof n&&(l="it must be an iterator callback function"),1!==n.length&&(l="it must have 1 argument"),t=n),e===sh.boolean&&(t=!!n),{value:t,type:e,isValid:!l,error:l}}(t[r],i);if(o.isValid)return function(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(uf(arguments[e]));return n}(n,[of({},l,{value:o.value})]);e.logger.log((function(){return"failed: can't set "+r+", "+o.error}))}return n}),[]):[]},n.params=[{token:af.scrollPosition,type:sh.integerUnlimited,call:n.setScrollPosition},{token:af.minIndex,type:sh.integerUnlimited,call:n.setMinIndex},{token:af.maxIndex,type:sh.integerUnlimited,call:n.setMaxIndex},{token:af.updater,type:sh.iteratorCallback,call:n.updateItems}],n}(),cf=function(){function n(){}return n.run=function(n,e){var t=n.state,l=t.workflowOptions,r=t.scrollState,i=t.fetch,o=t.clip;n.state.loopPending=!0,i.simulate||i.reset(),o.simulate||o.force||o.reset(),r.scroll=l.scroll||!1,r.keepScroll=!1,n.workflow.call({process:mh.start,status:gh.next,payload:{process:e,noFetch:l.noFetch}})},n}(),df=function(){return(df=Object.assign||function(n){for(var e,t=1,l=arguments.length;t<l;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)},pf=function(){function n(){}return n.run=function(e,t){var l=e.workflow,r=e.buffer,i=e.state.fetch;e.state.preFetchPosition=e.viewport.scrollPosition,i.minIndex=r.minIndex,i.averageItemSize=r.averageSize||0,n.setStartDelta(e),n.setFetchIndexes(e),n.skipBufferedItems(e),e.settings.infinite&&n.checkBufferGaps(e),n.checkFetchPackSize(e),n.setFetchDirection(e),i.shouldFetch&&e.logger.log((function(){return"going to fetch "+i.count+" items started from index "+i.index})),l.call({process:mh.preFetch,status:i.shouldFetch?gh.next:gh.done,payload:df({},t?{process:t}:{})})},n.setStartDelta=function(n){var e=n.buffer,t=n.viewport;if(t.startDelta=0,e.hasItemSize){for(var l=isFinite(e.absMinIndex)?e.absMinIndex:e.minIndex;l<n.state.startIndex;l++){var r=e.cache.get(l);t.startDelta+=r?r.size:e.averageSize}n.settings.windowViewport&&(t.startDelta+=t.getOffset()),n.logger.log((function(){return"start delta is "+t.startDelta}))}},n.setFetchIndexes=function(e){var t=e.state,l=e.viewport,r=l.getBufferPadding(),i=t.preFetchPosition-l.startDelta,o=i-r,u=i+l.getSize()+r,a=n.setFirstIndexBuffer(e,o);n.setLastIndexBuffer(e,a,u),e.logger.fetch()},n.setFirstIndexBuffer=function(n,e){var t=n.buffer,l=n.state.fetch,r=n.state.startIndex,i=0;if(n.state.isInitialLoop)n.logger.log("skipping fetch backward direction [initial loop]");else if(t.hasItemSize)for(var o=i,u=r;;){if(e>=0){var a=t.getSizeByIndex(u);if(o+a-e>0){r=u,i=o;break}if(o+=a,++u<t.absMinIndex)break}if(e<0){if(--u<t.absMinIndex)break;if(r=u,i=o-=t.getSizeByIndex(u),o-e<=0)break}}else n.logger.log("skipping fetch backward direction [no item size]");return l.firstIndex=l.firstIndexBuffer=Math.max(r,t.absMinIndex),i},n.setLastIndexBuffer=function(n,e,t){var l,r=n.state,i=n.buffer,o=n.settings,u=n.state.fetch;if(i.hasItemSize){var a=u.firstIndexBuffer,s=e;for(l=a;l=a,!((s+=i.getSizeByIndex(a))>=t||a++>i.absMaxIndex););}else l=r.startIndex+o.bufferSize-1,n.logger.log("forcing fetch forward direction [no item size]");u.lastIndex=u.lastIndexBuffer=Math.min(l,i.absMaxIndex)},n.skipBufferedItems=function(n){var e=n.buffer;if(e.size){for(var t=n.state.fetch,l=t.firstIndex,r=t.lastIndex,i=[[]],o=0,u=l;u<=r;u++)e.get(u)?i[o].length&&(i[++o]=[]):i[o].push(u);var a=i[0];i[0].length&&i[1]&&i[1].length&&(t.hasAnotherPack=!0,i[1].length>=i[0].length&&(a=i[1])),t.firstIndex=Math.max(a[0],e.absMinIndex),t.lastIndex=Math.min(a[a.length-1],e.absMaxIndex),t.firstIndex===l&&t.lastIndex===r||n.logger.fetch("after Buffer flushing")}},n.checkBufferGaps=function(n){var e=n.buffer,t=n.state.fetch;if(e.size){var l=t.firstIndex,r=e.lastIndex;l>r&&(t.firstIndex=t.firstIndexBuffer=r+1);var i=e.firstIndex,o=t.lastIndex;o<i&&(t.lastIndex=t.lastIndexBuffer=i-1),t.firstIndex===l&&t.lastIndex===o||n.logger.fetch("after Buffer filling (no clip case)")}},n.checkFetchPackSize=function(e){var t=e.buffer,l=e.state.fetch;if(l.shouldFetch){var r=l.firstIndex,i=l.lastIndex,o=e.settings.bufferSize-(i-r+1);if(!(o<=0)){if(!t.size||i>t.items[0].$index){var u=Math.min(i+o,t.absMaxIndex);u>i&&(l.lastIndex=l.lastIndexBuffer=u)}else{var a=Math.max(r-o,t.absMinIndex);a<r&&(l.firstIndex=l.firstIndexBuffer=a)}l.firstIndex===r&&l.lastIndex===i||(e.logger.fetch("after bufferSize adjustment"),n.skipBufferedItems(e))}}},n.setFetchDirection=function(n){var e=n.buffer,t=n.state.fetch;if(t.lastIndex){var l=fh.forward;e.size&&(l=t.lastIndex<e.items[0].$index?fh.backward:fh.forward),t.direction=l,n.logger.log((function(){return'fetch direction is "'+l+'"'}))}},n}(),hf=function(){function n(){}return n.run=function(e){var t=e.workflow;function l(n){e.logger.log((function(){return"resolved "+n.length+" items (index = "+e.state.fetch.index+", count = "+e.state.fetch.count+")"})),e.state.fetch.newItemsData=n,t.call({process:mh.fetch,status:gh.next})}function r(n){t.call({process:mh.fetch,status:gh.error,payload:{error:n}})}var i=n.get(e);"function"!=typeof i.subscribe?i.isError?r(i.error):l(i.data):e.innerLoopSubscriptions.push(i.subscribe((function(n){return l(n)}),(function(n){return r(n)})))},n.get=function(n){var e,t,l,r=function(n){l?(l.next(n),l.complete()):e=n||null},i=function(n){l?l.error(n):t=n||null},o=(0,n.datasource.get)(n.state.fetch.index,n.state.fetch.count,r,i);if(o&&"function"==typeof o.then)o.then(r,i);else if(o&&"function"==typeof o.subscribe)return o;return void 0!==e||void 0!==t?{data:e,error:t,isError:void 0!==t}:new E((function(n){l=n}))},n}(),ff=function(){function n(){}return n.run=function(e){var t=e.workflow;n.setItems(e)?(n.setBufferLimits(e),t.call({process:mh.postFetch,status:e.state.fetch.hasNewItems?gh.next:gh.done})):t.call({process:mh.postFetch,status:gh.error,payload:{error:"Can't set buffer items"}})},n.setBufferLimits=function(n){var e=n.buffer,t=n.state,l=t.fetch,r=l.firstIndex,i=l.lastIndex,o=l.items,u=t.isInitialLoop;if(o.length){var a=o.length-1;r<o[0].$index&&(e.absMinIndex=o[0].$index),i>o[a].$index&&(e.absMaxIndex=o[a].$index)}else(i<e.minIndex||u)&&(e.absMinIndex=e.minIndex),(r>e.maxIndex||u)&&(e.absMaxIndex=e.maxIndex)},n.setItems=function(n){var e=n.buffer,t=n.state.fetch,l=t.newItemsData;if(!l||!l.length)return!0;var r=t.index;return l.length<t.count&&(n.state.isInitialLoop?r=n.state.startIndex:t.firstIndex<e.minIndex&&(r=e.minIndex-l.length)),t.items=l.map((function(e,t){return new nf(r+t,e,n.routines)})),t.isPrepend=!!e.items.length&&e.items[0].$index>t.items[t.items.length-1].$index,e.setItems(t.items)},n}(),mf=function(){function n(){}return n.run=function(e){e.logger.stat("before new items render"),e.innerLoopSubscriptions.push(e.bindData().subscribe((function(){n.processElements(e)?e.workflow.call({process:mh.render,status:gh.next,payload:{noClip:e.state.clip.noClip}}):e.workflow.call({process:mh.render,status:gh.error,payload:{error:"Can't associate item with element"}})})))},n.processElements=function(e){var t=e.state,l=e.state,r=l.fetch,i=l.fetch.items,o=e.viewport,u=e.buffer,a=e.settings.windowViewport&&r.isPrepend?e.viewport.scrollPosition:null;return!(!r.isReplace&&(t.sizeBeforeRender=o.getScrollableSize(),t.fwdPaddingBeforeRender=o.paddings.forward.size,!i.reduce((function(t,l){return t&&n.processElement(e,l)}),!0))||(r.hasAverageItemSizeChanged=u.checkAverageSize(),t.sizeAfterRender=o.getScrollableSize(),null!==a&&n.processWindowScrollBackJump(e,a),e.logger.stat("after new items render"),0))},n.processElement=function(n,e){var t=n.state.fetch,l=n.buffer,r=n.viewport.element.querySelector('[data-sid="'+e.nodeId+'"]');return!!r&&(e.element=r,e.element.style.left="",e.element.style.position="",e.invisible=!1,e.setSize(),l.cache.add(e),e.$index<t.minIndex&&(t.negativeSize+=e.size),!0)},n.processWindowScrollBackJump=function(n,e){var t=n.state,l=n.state.scrollState.window,r=(e>=n.viewport.paddings.backward.size?1:-1)*Math.abs(t.sizeAfterRender-t.sizeBeforeRender),i=e-r;r&&i>0&&(l.positionToUpdate=i,l.delta=r,n.logger.log((function(){return["next scroll position (if "+i+") should be "+(r<0?"reduced":"increased")+" by",Math.abs(r)]})))},n}(),gf=function(){function n(){}return n.run=function(e){var t=e.workflow;e.state.preAdjustPosition=e.viewport.scrollPosition;var l=n.setPaddings(e);!1!==l?(n.fixScrollPosition(e,l),t.call({process:mh.adjust,status:gh.done})):t.call({process:mh.adjust,status:gh.error,payload:{error:"Can't get visible item"}})},n.setPaddings=function(n){var e=n.viewport,t=n.buffer,l=n.state.fetch,r=n.settings.inverse,i=t.getFirstVisibleItem(),o=t.getLastVisibleItem();if(!i||!o)return!1;var u,a=e.paddings.forward,s=e.paddings.backward,c=i.$index,d=o.$index,p=isFinite(t.absMinIndex)?t.absMinIndex:t.minIndex,h=isFinite(t.absMaxIndex)?t.absMaxIndex:t.maxIndex,f=l.hasAverageItemSizeChanged,m=0,g=0,v=0;for(u=p;u<c;u++)m+=(y=t.cache.get(u))?y.size:t.cache.averageSize,f&&(v+=y?0:1);if(f)for(u=c;u<l.firstIndexBuffer;u++)v+=t.cache.get(u)?0:1;for(u=d+1;u<=h;u++){var y;g+=(y=t.cache.get(u))?y.size:t.cache.averageSize}var b=e.getScrollableSize()-a.size-s.size,w=e.getSize()-(m+b+g);return w>0&&(r?m+=w:g+=w,n.logger.log((function(){return r?"backward":"forward padding will be increased by "+w+" to fill the viewport"}))),a.size=g,s.size=m,n.logger.stat("after paddings adjustments"),v},n.fixScrollPosition=function(e,t){var l=e.viewport,r=e.buffer,i=e.state,o=e.state,u=o.fetch,a=o.fetch.items,s=l.scrollPosition,c=i.preAdjustPosition-s,d=u.negativeSize;if(e.settings.windowViewport&&c){var p=i.scrollState.window;if(s===p.positionToUpdate)return p.reset(),e.logger.log((function(){return"process window scroll preventive: sum("+s+", "+c+")"})),n.setScroll(e,c),void e.logger.stat("after scroll position adjustment (window)")}var h=u.isReplace?0:i.bwdPaddingAverageSizeItemsCount-t;if(u.hasAverageItemSizeChanged&&(t>0||h>0)){var f=c+(t*r.averageSize-t*u.averageItemSize-h*u.averageItemSize);f&&(e.settings.changeOverflow&&l.disableScrollForOneLoop(),n.setScroll(e,f),e.logger.stat("after scroll position adjustment (average)")),i.bwdPaddingAverageSizeItemsCount=t}if(a.length&&!(a[0].$index>=u.minIndex)&&l.getScrollableSize()!==i.sizeBeforeRender){if(!isFinite(r.absMinIndex)){var m=d-(i.fwdPaddingBeforeRender-l.paddings.forward.size);d=m<0?d:Math.min(d,m)}d>0?n.setScroll(e,d):d<0&&(l.paddings.forward.size-=d,l.scrollPosition-=d),e.logger.stat("after scroll position adjustment (negative)")}},n.setScroll=function(e,t){for(var l=e.viewport,r=e.viewport.getSize(),i=l.paddings[fh.forward],o=Math.round(l.scrollPosition+t),u=0;u<n.MAX_SCROLL_ADJUSTMENTS_COUNT;u++){l.scrollPosition=o;var a=Math.min(r-o,o-l.scrollPosition);if(!(a>0))break;i.size+=a}},n.MAX_SCROLL_ADJUSTMENTS_COUNT=10,n}(),vf=function(){function n(){}return n.run=function(e){n.prepareClip(e),e.workflow.call({process:mh.preClip,status:gh.next,payload:{doClip:e.state.clip.doClip}})},n.prepareClip=function(e){var t=e.state,l=t.fetch,r=t.fetch.direction;if(!n.shouldNotClip(e)){var i=l.firstIndexBuffer,o=l.lastIndexBuffer;e.logger.log((function(){return"looking for "+(r?"anti-"+r+" ":"")+"items that are out of ["+i+".."+o+"] range"})),n.isBackward(e,i)&&n.prepareClipByDirection(e,fh.backward,i),n.isForward(e,o)&&n.prepareClipByDirection(e,fh.forward,o),e.state.clip.doClip||e.logger.log("skipping clip [no items to clip]")}},n.shouldNotClip=function(n){var e=n.state;return n.buffer.size?!(!e.isInitialWorkflowCycle||e.scrollState.scroll||(n.logger.log("skipping clip [initial cycle, no scroll]"),0)):(n.logger.log("skipping clip [empty buffer]"),!0)},n.isBackward=function(n,e){var t=n.state,l=t.clip;return l.force?l.forceBackward:t.fetch.direction!==fh.backward&&e-1>=n.buffer.absMinIndex},n.isForward=function(n,e){var t=n.state,l=t.clip;return l.force?l.forceForward:t.fetch.direction!==fh.forward&&e+1<=n.buffer.absMaxIndex},n.prepareClipByDirection=function(n,e,t){var l=e===fh.forward;n.buffer.items.forEach((function(r){(!l&&r.$index<t||l&&r.$index>t)&&(r.toRemove=!0,r.removeDirection=e,n.state.clip.doClip=!0)}))},n}(),yf=function(){return(yf=Object.assign||function(n){for(var e,t=1,l=arguments.length;t<l;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)},bf=function(){function n(){}return n.run=function(e){var t=e.workflow,l=e.state.clip;l.doClip?n.doClip(e):e.logger.log((function(){return"no clip"})),t.call(yf({process:mh.clip,status:gh.next},l.simulate?{payload:{process:mh.end}}:{}))},n.doClip=function(n){var e=n.buffer,t=n.viewport.paddings,l=n.logger,r=n.state.clip,i=[],o={backward:0,forward:0};r.callCount++,l.stat("before clip ("+r.callCount+")"),e.items=e.items.filter((function(n){return!n.toRemove||(n.hide(),o[n.removeDirection]+=n.size,t.byDirection(n.removeDirection).size+=n.size,i.push(n.$index),r.simulate&&!r.force&&e.removeItem(n),!1)})),l.log((function(){return["clipped "+i.length+" items"+(o.backward?", +"+o.backward+" fwd px":"")+(o.forward?", +"+o.forward+" bwd px":"")+", range: ["+i[0]+".."+i[i.length-1]+"]"]})),l.stat("after clip")},n}(),wf=function(){function n(){}return n.run=function(e,t,l){void 0===l&&(l={});var r=e.workflow,i=e.state,o=l.error;if(i.workflowOptions.reset(),o||t===mh.reload||n.calculateParams(e),r.call.interrupted)return r.call();var u=n.getNext(e,t,o);n.endWorkflowLoop(e,u),i.innerLoopCount++,r.call({process:mh.end,status:u?gh.next:gh.done,payload:{process:t,keepScroll:i.workflowOptions.keepScroll}}),i.workflowPending&&!i.loopPending&&n.continueWorkflowByTimer(e)},n.endWorkflowLoop=function(n,e){var t=n.state,l=n.state.clip;t.countDone++,t.isInitialLoop=!1,t.fetch.stopSimulate(),l.noClip=n.settings.infinite||e&&l.simulate,l.forceReset(),t.lastPosition=n.viewport.scrollPosition,n.purgeInnerLoopSubscriptions(),t.loopPending=!1},n.calculateParams=function(n){var e=n.buffer.items;if(n.state.firstVisibleWanted){var t=n.viewport.getEdge(fh.backward),l=e.find((function(e){return n.viewport.getElementEdge(e.element,fh.forward)>t}));n.state.firstVisibleItem=l?{$index:l.$index,data:l.data,element:l.element}:ph}if(n.state.lastVisibleWanted){for(var r=n.viewport.getEdge(fh.forward),i=null,o=e.length-1;o>=0;o--)if(n.viewport.getElementEdge(e[o].element,fh.backward)<r){i=e[o];break}n.state.lastVisibleItem=i?{$index:i.$index,data:i.data,element:i.element}:ph}},n.getNext=function(n,e,t){var l=n.state,r=l.clip,i=l.fetch,o=l.scrollState,u=l.workflowOptions;if(t)return u.empty=!0,!1;if(e===mh.reload)return!0;if(r.simulate)return!0;var a=!1;return i.simulate||(i.hasNewItems?(a=!0,u.scroll=!1):i.hasAnotherPack&&(a=!0,u.scroll=!1)),o.keepScroll&&(a=!0,u.scroll=!0,u.keepScroll=!0),a},n.continueWorkflowByTimer=function(n){var e=n.state,t=n.state,l=t.workflowCycleCount,r=t.innerLoopCount,i=t.workflowOptions;n.logger.log((function(){return"setting Workflow timer ("+l+"-"+r+")"})),e.scrollState.workflowTimer=setTimeout((function(){e.workflowPending&&!e.loopPending&&r===e.innerLoopCount&&(i.scroll=!0,i.byTimer=!0,i.keepScroll=!1,n.workflow.call({process:mh.end,status:gh.next,payload:{keepScroll:e.workflowOptions.keepScroll}}))}),n.settings.throttle)},n}(),xf=function(){return(xf=Object.assign||function(n){for(var e,t=1,l=arguments.length;t<l;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)},_f=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var l,r,i=t.call(n),o=[];try{for(;(void 0===e||e-- >0)&&!(l=i.next()).done;)o.push(l.value)}catch(u){r={error:u}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return o},Cf=function(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(_f(arguments[e]));return n},Sf=function(){function n(n,e,t,l){var r=this;this.isInitialized=!1,this.dispose$=new N,this.process$=new ea({process:mh.init,status:gh.start}),this.propagateChanges=l,this.callWorkflow=this.callWorkflow.bind(this),this.scroller=new Zh(n,e,t,this.callWorkflow),this.cyclesDone=0,this.interruptionCount=0,this.errors=[],this.onScrollHandler=function(n){return r.callWorkflow({process:mh.scroll,status:gh.start,payload:{event:n}})},this.stateMachineMethods={run:this.runProcess(),interrupt:this.interrupt.bind(this),done:this.done.bind(this),onError:this.onError.bind(this)},this.scroller.settings.initializeDelay?setTimeout((function(){return r.init()}),this.scroller.settings.initializeDelay):this.init()}return n.prototype.init=function(){var n=this;this.scroller.init(),this.isInitialized=!0,this.scroller.buffer.$items.pipe(Yp(this.dispose$)).subscribe((function(e){return n.propagateChanges(e)})),this.process$.pipe(Yp(this.dispose$)).subscribe(this.process.bind(this)),this.initScrollEventListener()},n.prototype.initScrollEventListener=function(){var n=this,e=!1;try{window.addEventListener("test",{},Object.defineProperty({},"passive",{get:function(){return e={passive:!1}}}))}catch(t){}this.scroller.viewport.scrollEventElement.addEventListener("scroll",this.onScrollHandler,e),this.dispose$.subscribe((function(){return n.scroller.viewport.scrollEventElement.removeEventListener("scroll",n.onScrollHandler,e)}))},n.prototype.callWorkflow=function(n){this.isInitialized&&this.process$.next(n)},n.prototype.process=function(n){var e=n.status,t=n.process,l=n.payload;this.scroller.settings.logProcessRun&&this.scroller.logger.log((function(){return Cf(["%cfire%c"],["color: #cc7777;","color: #000000;"],[t,'"'+e+'"'],l?[l]:[])})),this.scroller.logger.logProcess(n),t===mh.end&&this.scroller.finalize(),function(n){var e=n.input,t=e.process,l=e.status,r=e.payload,i=void 0===r?{}:r,o=n.methods,u=o.run,a=o.interrupt,s=o.done;if(l===gh.error)return(0,o.onError)(t,i),void(t.startsWith("adapter")||u(wf)(t,i));switch(t){case mh.init:l===gh.start&&u(Qh)(),l===gh.next&&u(cf)(i.process);break;case mh.scroll:l===gh.start&&u(Jh)(i.event),l===gh.next&&(i.keepScroll?u(cf)(t):u(Qh)(t));break;case mh.reload:l===gh.start&&u(Yh)(i),l===gh.next&&(a(t),i.finalize?u(wf)(t):u(Qh)(t));break;case mh.append:l===gh.start&&u(ef)(i),l===gh.next&&u(Qh)(t);break;case mh.prepend:l===gh.start&&u(ef)(xf({},i,{prepend:!0})),l===gh.next&&u(Qh)(t);break;case mh.check:l===gh.start&&u(tf)(),l===gh.next&&u(Qh)(t);break;case mh.remove:l===gh.start&&u(lf)(i),l===gh.next&&u(Qh)(t);break;case mh.userClip:l===gh.start&&u(rf)(i),l===gh.next&&u(Qh)(t);break;case mh.fix:l===gh.start&&u(sf)(i),l===gh.next&&u(Qh)(t);break;case mh.start:if(l===gh.next)switch(i.process){case mh.append:case mh.prepend:case mh.check:u(mf)();break;case mh.remove:u(bf)();break;case mh.userClip:u(pf)(i.process);break;default:i.noFetch?u(wf)(t):u(pf)()}break;case mh.preFetch:var c=i.process===mh.userClip;l!==gh.done||c||u(wf)(t),l!==gh.next||c||u(hf)(),c&&u(vf)();break;case mh.fetch:l===gh.next&&u(ff)();break;case mh.postFetch:l===gh.next&&u(mf)(),l===gh.done&&u(wf)(t);break;case mh.render:l===gh.next&&(i.noClip?u(gf)():u(vf)());break;case mh.preClip:l===gh.next&&(i.doClip?u(bf)():u(gf)());break;case mh.clip:l===gh.next&&(i.process===mh.end?u(wf)(t):u(gf)());break;case mh.adjust:l===gh.done&&u(wf)(t);break;case mh.end:if(l===gh.next)switch(i.process){case mh.reload:s(),u(Qh)(i.process);break;default:i.keepScroll?u(Jh)():u(cf)(t)}else l===gh.done&&s()}}({input:n,methods:this.stateMachineMethods})},n.prototype.runProcess=function(){var n=this;return function(e){return function(){for(var t=[],l=0;l<arguments.length;l++)t[l]=arguments[l];n.scroller.settings.logProcessRun&&n.scroller.logger.log((function(){return Cf(["run",e.name],t)})),e.run.apply(e,Cf([n.scroller],t))}}},n.prototype.onError=function(n,e){var t=e&&e.error||"";this.errors.push({process:n,message:t,time:this.scroller.state.time,loop:this.scroller.state.loopNext}),this.scroller.logger.logError(t)},n.prototype.interrupt=function(n){var e=this,t=this.scroller;t.state.isLoading&&(t.workflow.call=function(n){return t.logger.log("[skip wf call]")},t.workflow.call.interrupted=!0,t.workflow={call:this.callWorkflow},this.interruptionCount++,t.logger.log((function(){return"workflow had been interrupted by the "+n+" process ("+e.interruptionCount+")"})))},n.prototype.done=function(){var n=this.scroller.state;this.cyclesDone++,this.scroller.logger.logCycle(!1),n.workflowCycleCount=this.cyclesDone+1,n.isInitialWorkflowCycle=!1,n.workflowPending=!1,null===n.scrollState.scrollTimer&&(n.isLoading=!1),this.finalize()},n.prototype.dispose=function(){this.dispose$.next(),this.dispose$.complete(),this.scroller.dispose(),this.isInitialized=!1},n.prototype.finalize=function(){},n}(),If=function(){function n(n,e){this.changeDetector=n,this.elementRef=e,this.items=[]}return n.prototype.ngOnInit=function(){var n=this;this.workflow=new Sf(this.elementRef.nativeElement,this.datasource,this.version,(function(e){(e.length||n.items.length)&&(n.items=e,n.changeDetector.markForCheck())}))},n.prototype.ngOnDestroy=function(){this.workflow.dispose()},n}(),kf=tl({encapsulation:2,styles:[],data:{}});function Ef(n){return ho(0,[(n()(),Zi(0,null,null,0))],null,null)}function Tf(n){return ho(0,[(n()(),Qi(0,0,null,null,3,"div",[],[[1,"data-sid",0],[4,"position",null],[4,"left",null]],null,null,null,null)),(n()(),Zi(16777216,null,null,2,null,Ef)),pr(2,540672,null,0,$u,[jt],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),uo(3,{$implicit:0,index:1,odd:2,even:3})],(function(n,e){var t=e.component,l=n(e,3,0,e.context.$implicit.data,e.context.$implicit.$index,e.context.$implicit.$index%2,!(e.context.$implicit.$index%2));n(e,2,0,l,t.template)}),(function(n,e){n(e,0,0,e.context.$implicit.nodeId,e.context.$implicit.invisible?"fixed":null,e.context.$implicit.invisible?"-99999px":null)}))}function Pf(n){return ho(2,[(n()(),Qi(0,0,null,null,0,"div",[["data-padding-backward",""]],null,null,null,null,null)),(n()(),Zi(16777216,null,null,1,null,Tf)),pr(2,278528,null,0,Lu,[jt,Mt,At],{ngForOf:[0,"ngForOf"]},null),(n()(),Qi(3,0,null,null,0,"div",[["data-padding-forward",""]],null,null,null,null,null))],(function(n,e){n(e,2,0,e.component.items)}),null)}function Af(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"div",[["ui-scroll",""]],null,null,null,Pf,kf)),pr(1,245760,null,0,If,[Re,pt],null,null)],(function(n,e){n(e,1,0)}),null)}var Of=Hl("[ui-scroll]",If,Af,{},{},[]),Df=tl({encapsulation:2,styles:[],data:{}});function Nf(n){return ho(0,[(n()(),Qi(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),pr(1,212992,null,0,Ap,[Pp,jt,at,[8,null],Re],null,null)],(function(n,e){n(e,1,0)}),null)}function Rf(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"ng-component",[],null,null,null,Nf,Df)),pr(1,49152,null,0,_c,[],null,null)],null,null)}var Mf=Hl("ng-component",_c,Rf,{},{},[]),Vf=function(){function n(n,e,t){this.templateRef=n,this.viewContainer=e,this.resolver=t}return Object.defineProperty(n.prototype,"uiScrollOf",{set:function(n){this.datasource=n},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this.resolver.resolveComponentFactory(If),e=this.viewContainer.createComponent(n,void 0,this.viewContainer.injector);e.instance.datasource=this.datasource,e.instance.template=this.templateRef,e.instance.version="1.4.1"},n}();function jf(n,e){return new E((function(t){var l=n.length;if(0!==l)for(var r=new Array(l),i=0,o=0,u=function(u){var a=Q(n[u]),s=!1;t.add(a.subscribe({next:function(n){s||(s=!0,o++),r[u]=n},error:function(n){return t.error(n)},complete:function(){++i!==l&&s||(o===l&&t.next(e?e.reduce((function(n,e,t){return n[e]=r[t],n}),{}):r),t.complete())}}))},a=0;a<l;a++)u(a);else t.complete()}))}var zf=new Dn("NgValueAccessor"),Lf=function(){function n(n,e){this._renderer=n,this._elementRef=e,this.onChange=function(n){},this.onTouched=function(){}}return n.prototype.writeValue=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"checked",n)},n.prototype.registerOnChange=function(n){this.onChange=n},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n}(),Uf=new Dn("CompositionEventMode"),Ff=function(){function n(n,e,t){var l;this._renderer=n,this._elementRef=e,this._compositionMode=t,this.onChange=function(n){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(l=Xa()?Xa().getUserAgent():"",!/android (\d+)/.test(l.toLowerCase())))}return n.prototype.writeValue=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==n?"":n)},n.prototype.registerOnChange=function(n){this.onChange=n},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n.prototype._handleInput=function(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)},n.prototype._compositionStart=function(){this._composing=!0},n.prototype._compositionEnd=function(n){this._composing=!1,this._compositionMode&&this.onChange(n)},n}(),Hf=function(){function n(){}return Object.defineProperty(n.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),n.prototype.reset=function(n){void 0===n&&(n=void 0),this.control&&this.control.reset(n)},n.prototype.hasError=function(n,e){return!!this.control&&this.control.hasError(n,e)},n.prototype.getError=function(n,e){return this.control?this.control.getError(n,e):null},n}(),Bf=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return r(e,n),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(Hf);function $f(){throw new Error("unimplemented")}var Wf=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return r(e,n),Object.defineProperty(e.prototype,"validator",{get:function(){return $f()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return $f()},enumerable:!0,configurable:!0}),e}(Hf),qf=function(n){function e(e){return n.call(this,e)||this}return r(e,n),e}(function(){function n(n){this._cd=n}return Object.defineProperty(n.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),n}());function Gf(n){return null==n||0===n.length}var Zf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Qf=function(){function n(){}return n.min=function(n){return function(e){if(Gf(e.value)||Gf(n))return null;var t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}},n.max=function(n){return function(e){if(Gf(e.value)||Gf(n))return null;var t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}},n.required=function(n){return Gf(n.value)?{required:!0}:null},n.requiredTrue=function(n){return!0===n.value?null:{required:!0}},n.email=function(n){return Gf(n.value)?null:Zf.test(n.value)?null:{email:!0}},n.minLength=function(n){return function(e){if(Gf(e.value))return null;var t=e.value?e.value.length:0;return t<n?{minlength:{requiredLength:n,actualLength:t}}:null}},n.maxLength=function(n){return function(e){var t=e.value?e.value.length:0;return t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}},n.pattern=function(e){return e?("string"==typeof e?(l="","^"!==e.charAt(0)&&(l+="^"),l+=e,"$"!==e.charAt(e.length-1)&&(l+="$"),t=new RegExp(l)):(l=e.toString(),t=e),function(n){if(Gf(n.value))return null;var e=n.value;return t.test(e)?null:{pattern:{requiredPattern:l,actualValue:e}}}):n.nullValidator;var t,l},n.nullValidator=function(n){return null},n.compose=function(n){if(!n)return null;var e=n.filter(Kf);return 0==e.length?null:function(n){return Jf(function(n,e){return e.map((function(e){return e(n)}))}(n,e))}},n.composeAsync=function(n){if(!n)return null;var e=n.filter(Kf);return 0==e.length?null:function(n){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(1===n.length){var t=n[0];if(s(t))return jf(t,null);if(c(t)&&Object.getPrototypeOf(t)===Object.prototype){var l=Object.keys(t);return jf(l.map((function(n){return t[n]})),l)}}if("function"==typeof n[n.length-1]){var r=n.pop();return jf(n=1===n.length&&s(n[0])?n[0]:n,null).pipe(W((function(n){return r.apply(void 0,n)})))}return jf(n,null)}(function(n,e){return e.map((function(e){return e(n)}))}(n,e).map(Xf)).pipe(W(Jf))}},n}();function Kf(n){return null!=n}function Xf(n){var e=nt(n)?Q(n):n;if(!et(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Jf(n){var e=n.reduce((function(n,e){return null!=e?i({},n,e):n}),{});return 0===Object.keys(e).length?null:e}function Yf(n){return n.validate?function(e){return n.validate(e)}:n}function nm(n){return n.validate?function(e){return n.validate(e)}:n}var em=function(){function n(n,e){this._renderer=n,this._elementRef=e,this.onChange=function(n){},this.onTouched=function(){}}return n.prototype.writeValue=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==n?"":n)},n.prototype.registerOnChange=function(n){this.onChange=function(e){n(""==e?null:parseFloat(e))}},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n}(),tm=function(){function n(){this._accessors=[]}return n.prototype.add=function(n,e){this._accessors.push([n,e])},n.prototype.remove=function(n){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===n)return void this._accessors.splice(e,1)},n.prototype.select=function(n){var e=this;this._accessors.forEach((function(t){e._isSameGroup(t,n)&&t[1]!==n&&t[1].fireUncheck(n.value)}))},n.prototype._isSameGroup=function(n,e){return!!n[0].control&&n[0]._parent===e._control._parent&&n[1].name===e.name},n}(),lm=function(){function n(n,e,t,l){this._renderer=n,this._elementRef=e,this._registry=t,this._injector=l,this.onChange=function(){},this.onTouched=function(){}}return n.prototype.ngOnInit=function(){this._control=this._injector.get(Wf),this._checkName(),this._registry.add(this._control,this)},n.prototype.ngOnDestroy=function(){this._registry.remove(this)},n.prototype.writeValue=function(n){this._state=n===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},n.prototype.registerOnChange=function(n){var e=this;this._fn=n,this.onChange=function(){n(e.value),e._registry.select(e)}},n.prototype.fireUncheck=function(n){this.writeValue(n)},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},n.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},n}(),rm='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',im='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function om(n,e){return a(e.path,[n])}function um(n,e){n||sm(e,"Cannot find control with"),e.valueAccessor||sm(e,"No value accessor for form control with"),n.validator=Qf.compose([n.validator,e.validator]),n.asyncValidator=Qf.composeAsync([n.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange((function(t){n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&am(n,e)}))}(n,e),function(n,e){n.registerOnChange((function(n,t){e.valueAccessor.writeValue(n),t&&e.viewToModelUpdate(n)}))}(n,e),function(n,e){e.valueAccessor.registerOnTouched((function(){n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&am(n,e),"submit"!==n.updateOn&&n.markAsTouched()}))}(n,e),e.valueAccessor.setDisabledState&&n.registerOnDisabledChange((function(n){e.valueAccessor.setDisabledState(n)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return n.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return n.updateValueAndValidity()}))}))}function am(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sm(n,e){var t;throw t=n.path.length>1?"path: '"+n.path.join(" -> ")+"'":n.path[0]?"name: '"+n.path+"'":"unspecified name attribute",new Error(e+" "+t)}function cm(n){return null!=n?Qf.compose(n.map(Yf)):null}function dm(n){return null!=n?Qf.composeAsync(n.map(nm)):null}var pm=[Lf,function(){function n(n,e){this._renderer=n,this._elementRef=e,this.onChange=function(n){},this.onTouched=function(){}}return n.prototype.writeValue=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(n))},n.prototype.registerOnChange=function(n){this.onChange=function(e){n(""==e?null:parseFloat(e))}},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n}(),em,function(){function n(n,e){this._renderer=n,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(n){},this.onTouched=function(){},this._compareWith=Qe}return Object.defineProperty(n.prototype,"compareWith",{set:function(n){if("function"!=typeof n)throw new Error("compareWith must be a function, but received "+JSON.stringify(n));this._compareWith=n},enumerable:!0,configurable:!0}),n.prototype.writeValue=function(n){this.value=n;var e=this._getOptionId(n);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var t=function(n,e){return null==n?""+e:(e&&"object"==typeof e&&(e="Object"),(n+": "+e).slice(0,50))}(e,n);this._renderer.setProperty(this._elementRef.nativeElement,"value",t)},n.prototype.registerOnChange=function(n){var e=this;this.onChange=function(t){e.value=e._getOptionValue(t),n(e.value)}},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n.prototype._registerOption=function(){return(this._idCounter++).toString()},n.prototype._getOptionId=function(n){var e,t;try{for(var l=o(Array.from(this._optionMap.keys())),r=l.next();!r.done;r=l.next()){var i=r.value;if(this._compareWith(this._optionMap.get(i),n))return i}}catch(u){e={error:u}}finally{try{r&&!r.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}return null},n.prototype._getOptionValue=function(n){var e=function(n){return n.split(":")[0]}(n);return this._optionMap.has(e)?this._optionMap.get(e):n},n}(),function(){function n(n,e){this._renderer=n,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(n){},this.onTouched=function(){},this._compareWith=Qe}return Object.defineProperty(n.prototype,"compareWith",{set:function(n){if("function"!=typeof n)throw new Error("compareWith must be a function, but received "+JSON.stringify(n));this._compareWith=n},enumerable:!0,configurable:!0}),n.prototype.writeValue=function(n){var e,t=this;if(this.value=n,Array.isArray(n)){var l=n.map((function(n){return t._getOptionId(n)}));e=function(n,e){n._setSelected(l.indexOf(e.toString())>-1)}}else e=function(n,e){n._setSelected(!1)};this._optionMap.forEach(e)},n.prototype.registerOnChange=function(n){var e=this;this.onChange=function(t){var l=[];if(t.hasOwnProperty("selectedOptions"))for(var r=t.selectedOptions,i=0;i<r.length;i++){var o=r.item(i),u=e._getOptionValue(o.value);l.push(u)}else for(r=t.options,i=0;i<r.length;i++)(o=r.item(i)).selected&&(u=e._getOptionValue(o.value),l.push(u));e.value=l,n(l)}},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n.prototype._registerOption=function(n){var e=(this._idCounter++).toString();return this._optionMap.set(e,n),e},n.prototype._getOptionId=function(n){var e,t;try{for(var l=o(Array.from(this._optionMap.keys())),r=l.next();!r.done;r=l.next()){var i=r.value;if(this._compareWith(this._optionMap.get(i)._value,n))return i}}catch(u){e={error:u}}finally{try{r&&!r.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}return null},n.prototype._getOptionValue=function(n){var e=function(n){return n.split(":")[0]}(n);return this._optionMap.has(e)?this._optionMap.get(e)._value:n},n}(),lm];function hm(n){var e=mm(n)?n.validators:n;return Array.isArray(e)?cm(e):e||null}function fm(n,e){var t=mm(e)?e.asyncValidators:n;return Array.isArray(t)?dm(t):t||null}function mm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}var gm=function(){function n(n,e){this.validator=n,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),n.prototype.setValidators=function(n){this.validator=hm(n)},n.prototype.setAsyncValidators=function(n){this.asyncValidator=fm(n)},n.prototype.clearValidators=function(){this.validator=null},n.prototype.clearAsyncValidators=function(){this.asyncValidator=null},n.prototype.markAsTouched=function(n){void 0===n&&(n={}),this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)},n.prototype.markAllAsTouched=function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(n){return n.markAllAsTouched()}))},n.prototype.markAsUntouched=function(n){void 0===n&&(n={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(n){n.markAsUntouched({onlySelf:!0})})),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)},n.prototype.markAsDirty=function(n){void 0===n&&(n={}),this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)},n.prototype.markAsPristine=function(n){void 0===n&&(n={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(n){n.markAsPristine({onlySelf:!0})})),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)},n.prototype.markAsPending=function(n){void 0===n&&(n={}),this.status="PENDING",!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)},n.prototype.disable=function(n){void 0===n&&(n={});var e=this._parentMarkedDirty(n.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(i({},n,{onlySelf:!0}))})),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(i({},n,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(n){return n(!0)}))},n.prototype.enable=function(n){void 0===n&&(n={});var e=this._parentMarkedDirty(n.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(i({},n,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(i({},n,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(n){return n(!1)}))},n.prototype._updateAncestors=function(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())},n.prototype.setParent=function(n){this._parent=n},n.prototype.updateValueAndValidity=function(n){void 0===n&&(n={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)},n.prototype._updateTreeValidity=function(n){void 0===n&&(n={emitEvent:!0}),this._forEachChild((function(e){return e._updateTreeValidity(n)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})},n.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},n.prototype._runValidator=function(){return this.validator?this.validator(this):null},n.prototype._runAsyncValidator=function(n){var e=this;if(this.asyncValidator){this.status="PENDING";var t=Xf(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe((function(t){return e.setErrors(t,{emitEvent:n})}))}},n.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},n.prototype.setErrors=function(n,e){void 0===e&&(e={}),this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)},n.prototype.get=function(n){return function(n,e,t){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((function(n,e){return n instanceof ym?n.controls.hasOwnProperty(e)?n.controls[e]:null:n instanceof bm&&n.at(e)||null}),n))}(this,n)},n.prototype.getError=function(n,e){var t=e?this.get(e):this;return t&&t.errors?t.errors[n]:null},n.prototype.hasError=function(n,e){return!!this.getError(n,e)},Object.defineProperty(n.prototype,"root",{get:function(){for(var n=this;n._parent;)n=n._parent;return n},enumerable:!0,configurable:!0}),n.prototype._updateControlsErrors=function(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)},n.prototype._initObservables=function(){this.valueChanges=new Vr,this.statusChanges=new Vr},n.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},n.prototype._anyControlsHaveStatus=function(n){return this._anyControls((function(e){return e.status===n}))},n.prototype._anyControlsDirty=function(){return this._anyControls((function(n){return n.dirty}))},n.prototype._anyControlsTouched=function(){return this._anyControls((function(n){return n.touched}))},n.prototype._updatePristine=function(n){void 0===n&&(n={}),this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)},n.prototype._updateTouched=function(n){void 0===n&&(n={}),this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)},n.prototype._isBoxedValue=function(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n},n.prototype._registerOnCollectionChange=function(n){this._onCollectionChange=n},n.prototype._setUpdateStrategy=function(n){mm(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)},n.prototype._parentMarkedDirty=function(n){return!n&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()},n}(),vm=function(n){function e(e,t,l){void 0===e&&(e=null);var r=n.call(this,hm(t),fm(l,t))||this;return r._onChange=[],r._applyFormState(e),r._setUpdateStrategy(t),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r._initObservables(),r}return r(e,n),e.prototype.setValue=function(n,e){var t=this;void 0===e&&(e={}),this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach((function(n){return n(t.value,!1!==e.emitViewToModelChange)})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(n,e){void 0===e&&(e={}),this.setValue(n,e)},e.prototype.reset=function(n,e){void 0===n&&(n=null),void 0===e&&(e={}),this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(n){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(n){this._onChange.push(n)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(n){this._onDisabledChange.push(n)},e.prototype._forEachChild=function(n){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n},e}(gm),ym=function(n){function e(e,t,l){var r=n.call(this,hm(t),fm(l,t))||this;return r.controls=e,r._initObservables(),r._setUpdateStrategy(t),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return r(e,n),e.prototype.registerControl=function(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(n,e){this.registerControl(n,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(n){this.controls[n]&&this.controls[n]._registerOnCollectionChange((function(){})),delete this.controls[n],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(n,e){this.controls[n]&&this.controls[n]._registerOnCollectionChange((function(){})),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled},e.prototype.setValue=function(n,e){var t=this;void 0===e&&(e={}),this._checkAllValuesPresent(n),Object.keys(n).forEach((function(l){t._throwIfControlMissing(l),t.controls[l].setValue(n[l],{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(n,e){var t=this;void 0===e&&(e={}),Object.keys(n).forEach((function(l){t.controls[l]&&t.controls[l].patchValue(n[l],{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.reset=function(n,e){void 0===n&&(n={}),void 0===e&&(e={}),this._forEachChild((function(t,l){t.reset(n[l],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},(function(n,e,t){return n[t]=e instanceof vm?e.value:e.getRawValue(),n}))},e.prototype._syncPendingControls=function(){var n=this._reduceChildren(!1,(function(n,e){return!!e._syncPendingControls()||n}));return n&&this.updateValueAndValidity({onlySelf:!0}),n},e.prototype._throwIfControlMissing=function(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error("Cannot find form control with name: "+n+".")},e.prototype._forEachChild=function(n){var e=this;Object.keys(this.controls).forEach((function(t){return n(e.controls[t],t)}))},e.prototype._setUpControls=function(){var n=this;this._forEachChild((function(e){e.setParent(n),e._registerOnCollectionChange(n._onCollectionChange)}))},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(n){var e=this,t=!1;return this._forEachChild((function(l,r){t=t||e.contains(r)&&n(l)})),t},e.prototype._reduceValue=function(){var n=this;return this._reduceChildren({},(function(e,t,l){return(t.enabled||n.disabled)&&(e[l]=t.value),e}))},e.prototype._reduceChildren=function(n,e){var t=n;return this._forEachChild((function(n,l){t=e(t,n,l)})),t},e.prototype._allControlsDisabled=function(){var n,e;try{for(var t=o(Object.keys(this.controls)),l=t.next();!l.done;l=t.next())if(this.controls[l.value].enabled)return!1}catch(r){n={error:r}}finally{try{l&&!l.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(n){this._forEachChild((function(e,t){if(void 0===n[t])throw new Error("Must supply a value for form control with name: '"+t+"'.")}))},e}(gm),bm=function(n){function e(e,t,l){var r=n.call(this,hm(t),fm(l,t))||this;return r.controls=e,r._initObservables(),r._setUpdateStrategy(t),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return r(e,n),e.prototype.at=function(n){return this.controls[n]},e.prototype.push=function(n){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(n,e){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(n){this.controls[n]&&this.controls[n]._registerOnCollectionChange((function(){})),this.controls.splice(n,1),this.updateValueAndValidity()},e.prototype.setControl=function(n,e){this.controls[n]&&this.controls[n]._registerOnCollectionChange((function(){})),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(n,e){var t=this;void 0===e&&(e={}),this._checkAllValuesPresent(n),n.forEach((function(n,l){t._throwIfControlMissing(l),t.at(l).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(n,e){var t=this;void 0===e&&(e={}),n.forEach((function(n,l){t.at(l)&&t.at(l).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.reset=function(n,e){void 0===n&&(n=[]),void 0===e&&(e={}),this._forEachChild((function(t,l){t.reset(n[l],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this.controls.map((function(n){return n instanceof vm?n.value:n.getRawValue()}))},e.prototype.clear=function(){this.controls.length<1||(this._forEachChild((function(n){return n._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())},e.prototype._syncPendingControls=function(){var n=this.controls.reduce((function(n,e){return!!e._syncPendingControls()||n}),!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n},e.prototype._throwIfControlMissing=function(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error("Cannot find form control at index "+n)},e.prototype._forEachChild=function(n){this.controls.forEach((function(e,t){n(e,t)}))},e.prototype._updateValue=function(){var n=this;this.value=this.controls.filter((function(e){return e.enabled||n.disabled})).map((function(n){return n.value}))},e.prototype._anyControls=function(n){return this.controls.some((function(e){return e.enabled&&n(e)}))},e.prototype._setUpControls=function(){var n=this;this._forEachChild((function(e){return n._registerControl(e)}))},e.prototype._checkAllValuesPresent=function(n){this._forEachChild((function(e,t){if(void 0===n[t])throw new Error("Must supply a value for form control at index: "+t+".")}))},e.prototype._allControlsDisabled=function(){var n,e;try{for(var t=o(this.controls),l=t.next();!l.done;l=t.next())if(l.value.enabled)return!1}catch(r){n={error:r}}finally{try{l&&!l.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)},e}(gm),wm=function(){return Promise.resolve(null)}(),xm=function(n){function e(e,t){var l=n.call(this)||this;return l.submitted=!1,l._directives=[],l.ngSubmit=new Vr,l.form=new ym({},cm(e),dm(t)),l}return r(e,n),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(n){var e=this;wm.then((function(){var t=e._findContainer(n.path);n.control=t.registerControl(n.name,n.control),um(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(n)}))},e.prototype.getControl=function(n){return this.form.get(n.path)},e.prototype.removeControl=function(n){var e=this;wm.then((function(){var t,l,r=e._findContainer(n.path);r&&r.removeControl(n.name),(l=(t=e._directives).indexOf(n))>-1&&t.splice(l,1)}))},e.prototype.addFormGroup=function(n){var e=this;wm.then((function(){var t=e._findContainer(n.path),l=new ym({});(function(n,e){null==n&&sm(e,"Cannot find control with"),n.validator=Qf.compose([n.validator,e.validator]),n.asyncValidator=Qf.composeAsync([n.asyncValidator,e.asyncValidator])})(l,n),t.registerControl(n.name,l),l.updateValueAndValidity({emitEvent:!1})}))},e.prototype.removeFormGroup=function(n){var e=this;wm.then((function(){var t=e._findContainer(n.path);t&&t.removeControl(n.name)}))},e.prototype.getFormGroup=function(n){return this.form.get(n.path)},e.prototype.updateModel=function(n,e){var t=this;wm.then((function(){t.form.get(n.path).setValue(e)}))},e.prototype.setValue=function(n){this.control.setValue(n)},e.prototype.onSubmit=function(n){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach((function(n){var e=n.control;"submit"===e.updateOn&&e._pendingChange&&(n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})),this.ngSubmit.emit(n),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(n){void 0===n&&(n=void 0),this.form.reset(n),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(n){return n.pop(),n.length?this.form.get(n):this.form},e}(Bf),_m=function(){function n(){}return n.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},n.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+rm+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+im)},n.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},n.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+rm+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+im)},n.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},n}(),Cm=new Dn("NgFormSelectorWarning"),Sm=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return r(e,n),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return om(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return cm(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return dm(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(Bf),Im=function(n){function e(e,t,l){var r=n.call(this)||this;return r._parent=e,r._validators=t,r._asyncValidators=l,r}var t;return r(e,n),t=e,e.prototype._checkParentType=function(){this._parent instanceof t||this._parent instanceof xm||_m.modelGroupParentException()},e}(Sm),km=function(){return Promise.resolve(null)}(),Em=function(n){function e(e,t,l,r){var i=n.call(this)||this;return i.control=new vm,i._registered=!1,i.update=new Vr,i._parent=e,i._rawValidators=t||[],i._rawAsyncValidators=l||[],i.valueAccessor=function(n,e){if(!e)return null;Array.isArray(e)||sm(n,"Value accessor was not provided as an array for form control with");var t=void 0,l=void 0,r=void 0;return e.forEach((function(e){var i;e.constructor===Ff?t=e:(i=e,pm.some((function(n){return i.constructor===n}))?(l&&sm(n,"More than one built-in value accessor matches form control with"),l=e):(r&&sm(n,"More than one custom value accessor matches form control with"),r=e))})),r||l||t||(sm(n,"No valid value accessor for form control with"),null)}(i,r),i}return r(e,n),e.prototype.ngOnChanges=function(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(n,e){if(!n.hasOwnProperty("model"))return!1;var t=n.model;return!!t.isFirstChange()||!Qe(e,t.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?om(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return cm(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return dm(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(n){this.viewModel=n,this.update.emit(n)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){um(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Im)&&this._parent instanceof Sm?_m.formGroupNameException():this._parent instanceof Im||this._parent instanceof xm||_m.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||_m.missingNameException()},e.prototype._updateValue=function(n){var e=this;km.then((function(){e.control.setValue(n,{emitViewToModelChange:!1})}))},e.prototype._updateDisabled=function(n){var e=this,t=n.isDisabled.currentValue,l=""===t||t&&"false"!==t;km.then((function(){l&&!e.control.disabled?e.control.disable():!l&&e.control.disabled&&e.control.enable()}))},e}(Wf),Tm=function(){return function(){}}(),Pm=function(){function n(){}var e;return e=n,n.withConfig=function(n){return{ngModule:e,providers:[{provide:Cm,useValue:n.warnOnDeprecatedNgFormSelector}]}},n}(),Am=function(){function n(n){this.viewRef=n}return Object.defineProperty(n.prototype,"ngTransclude",{get:function(){return this._ngTransclude},set:function(n){this._ngTransclude=n,n&&this.viewRef.createEmbeddedView(n)},enumerable:!0,configurable:!0}),n}(),Om=function(){return function(){this.type="tabs"}}(),Dm=function(){function n(n,e){this.renderer=e,this.clazz=!0,this.tabs=[],this.classMap={},Object.assign(this,n)}return Object.defineProperty(n.prototype,"vertical",{get:function(){return this._vertical},set:function(n){this._vertical=n,this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"justified",{get:function(){return this._justified},set:function(n){this._justified=n,this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this._type},set:function(n){this._type=n,this.setClassMap()},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){this.isDestroyed=!0},n.prototype.addTab=function(n){this.tabs.push(n),n.active=1===this.tabs.length&&void 0===n.active},n.prototype.removeTab=function(n,e){void 0===e&&(e={reselect:!0,emit:!0});var t=this.tabs.indexOf(n);if(-1!==t&&!this.isDestroyed){if(e.reselect&&n.active&&this.hasAvailableTabs(t)){var l=this.getClosestTabIndex(t);this.tabs[l].active=!0}e.emit&&n.removed.emit(n),this.tabs.splice(t,1),n.elementRef.nativeElement.parentNode&&this.renderer.removeChild(n.elementRef.nativeElement.parentNode,n.elementRef.nativeElement)}},n.prototype.getClosestTabIndex=function(n){var e=this.tabs.length;if(!e)return-1;for(var t=1;t<=e;t+=1){var l=n-t,r=n+t;if(this.tabs[l]&&!this.tabs[l].disabled)return l;if(this.tabs[r]&&!this.tabs[r].disabled)return r}return-1},n.prototype.hasAvailableTabs=function(n){var e=this.tabs.length;if(!e)return!1;for(var t=0;t<e;t+=1)if(!this.tabs[t].disabled&&t!==n)return!0;return!1},n.prototype.setClassMap=function(){var n;this.classMap=((n={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified})["nav-"+this.type]=!0,n)},n}(),Nm=function(){function n(n,e,t){this.elementRef=e,this.renderer=t,this.select=new Vr,this.deselect=new Vr,this.removed=new Vr,this.addClass=!0,this.tabset=n,this.tabset.addTab(this)}return Object.defineProperty(n.prototype,"customClass",{get:function(){return this._customClass},set:function(n){var e=this;this.customClass&&this.customClass.split(" ").forEach((function(n){e.renderer.removeClass(e.elementRef.nativeElement,n)})),this._customClass=n?n.trim():null,this.customClass&&this.customClass.split(" ").forEach((function(n){e.renderer.addClass(e.elementRef.nativeElement,n)}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"active",{get:function(){return this._active},set:function(n){var e=this;this._active!==n&&(this.disabled&&n||!n?this._active&&!n&&(this.deselect.emit(this),this._active=n):(this._active=n,this.select.emit(this),this.tabset.tabs.forEach((function(n){n!==e&&(n.active=!1)}))))},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.removable=this.removable},n.prototype.ngOnDestroy=function(){this.tabset.removeTab(this,{reselect:!1,emit:!1})},n}(),Rm=function(){function n(){}return n.forRoot=function(){return{ngModule:n,providers:[Om]}},n}(),Mm=tl({encapsulation:2,styles:[],data:{}});function Vm(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"span",[["class","bs-remove-tab"]],null,[[null,"click"]],(function(n,e,t){var l=!0,r=n.component;return"click"===e&&(t.preventDefault(),l=!1!==r.removeTab(n.parent.context.$implicit)&&l),l}),null,null)),(n()(),so(-1,null,[" ❌"]))],null,null)}function jm(n){return ho(0,[(n()(),Qi(0,0,null,null,9,"li",[],[[2,"active",null],[2,"disabled",null]],null,null,null,null)),fr(512,null,Mu,Vu,[At,Ot,pt,vt]),pr(2,278528,null,0,ju,[Mu],{ngClass:[0,"ngClass"]},null),ao(32,3,new Array(2)),(n()(),Qi(4,0,null,null,5,"a",[["class","nav-link"],["href","javascript:void(0);"]],[[1,"id",0],[2,"active",null],[2,"disabled",null]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.context.$implicit.active=!0)&&l),l}),null,null)),(n()(),Qi(5,16777216,null,null,2,"span",[],null,null,null,null,null)),pr(6,16384,null,0,Am,[jt],{ngTransclude:[0,"ngTransclude"]},null),(n()(),so(7,null,["",""])),(n()(),Zi(16777216,null,null,1,null,Vm)),pr(9,16384,null,0,Fu,[jt,Mt],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=n(e,3,0,"nav-item",e.context.$implicit.customClass||"");n(e,2,0,t),n(e,6,0,e.context.$implicit.headingRef),n(e,9,0,e.context.$implicit.removable)}),(function(n,e){n(e,0,0,e.context.$implicit.active,e.context.$implicit.disabled),n(e,4,0,e.context.$implicit.id?e.context.$implicit.id+"-link":"",e.context.$implicit.active,e.context.$implicit.disabled),n(e,7,0,e.context.$implicit.heading)}))}function zm(n){return ho(0,[(n()(),Qi(0,0,null,null,4,"ul",[["class","nav"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==t.preventDefault()&&l),l}),null,null)),fr(512,null,Mu,Vu,[At,Ot,pt,vt]),pr(2,278528,null,0,ju,[Mu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),Zi(16777216,null,null,1,null,jm)),pr(4,278528,null,0,Lu,[jt,Mt,At],{ngForOf:[0,"ngForOf"]},null),(n()(),Qi(5,0,null,null,1,"div",[["class","tab-content"]],null,null,null,null,null)),io(null,0)],(function(n,e){var t=e.component;n(e,2,0,"nav",t.classMap),n(e,4,0,t.tabs)}),null)}var Lm=function(n){return n.Component="Component",n.Template="Template",n.Styles="CSS",n.Datasource="Datasource",n.Server="Server",n}({}),Um=function(){return function(){}}(),Fm=function(){function n(){var n=this;this.reloadIndex=999,this.delay=25,this.datasource=new yh({get:function(e,t,l){for(var r=[],i=e;i<=e+t-1;i++)r.push({id:i,text:"item #"+i});n.delay?setTimeout((function(){return l(r)}),n.delay):l(r)},settings:{padding:.5,bufferSize:15,itemSize:25,startIndex:1},devSettings:{debug:!1}}),this.sources=[{name:Lm.Component,text:"delay = 25;\nreloadIndex = 999;\n\ndatasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    if (this.delay) {\n      setTimeout(() => success(data), this.delay);\n    } else {\n      success(data);\n    }\n  }\n});\n\ndoReload() {\n  this.datasource.adapter.reload(this.reloadIndex);\n}"},{name:Lm.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource; let even = even">\n    <div class="item" [class.even]="even">\n      {{item.text}}\n    </div>\n  </div>\n</div>\n\n\x3c!-- adapter props and methods: --\x3e\n\nFirst visible:\n${{datasource.adapter.firstVisible.$index}}\n\nLast visible:\n${{(datasource.adapter.lastVisible$ | async)?.$index}}\n\nItems in DOM:\n{{datasource.adapter.itemsCount}}\n\nIs loading:\n{{datasource.adapter.isLoading}}\n\nDatasource delay (ms):\n<input [(ngModel)]="delay" type="number">\n\nIndex to reload:\n<input [(ngModel)]="reloadIndex" type="number">\n<button (click)="doReload()">Reload</button>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.item.even {\n  background-color: #f2f2f2;\n}"}]}return n.prototype.doReload=function(){this.datasource.adapter.reload(this.reloadIndex)},n}(),Hm=tl({encapsulation:2,styles:[],data:{}});function Bm(n){return ho(0,[(n()(),Qi(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),Qi(1,0,null,null,1,"div",[["class","item"]],[[2,"even",null]],null,null,null,null)),(n()(),so(2,null,[" "," "]))],null,(function(n,e){n(e,1,0,e.context.even),n(e,2,0,e.context.$implicit.text)}))}function $m(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),so(-1,null,["Angular UI Scroll Demo App"])),(n()(),Qi(2,0,null,null,12,"p",[],null,null,null,null,null)),(n()(),Qi(3,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["ngx-ui-scroll"])),(n()(),so(-1,null,[" is the Angular library for large datasets virtualization. The idea, core principles and terminology are inherited from its AngularJS direct predecessor: "])),(n()(),Qi(6,0,null,null,1,"a",[["href","https://github.com/angular-ui/ui-scroll"]],null,null,null,null,null)),(n()(),so(-1,null,["angular-ui-scroll"])),(n()(),so(-1,null,[", a pioneer in the virtual scrolling developing, since 2013. More information regarding motivation, infrastructure, features, developing can be found on "])),(n()(),Qi(9,0,null,null,1,"a",[["href","https://github.com/dhilt/ngx-ui-scroll"]],null,null,null,null,null)),(n()(),so(-1,null,["GitHub"])),(n()(),so(-1,null,[". This site is dedicated to practical examples of the "])),(n()(),Qi(12,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" usage.\n"])),(n()(),Qi(15,0,null,null,57,"div",[["class","demo"]],null,null,null,null,null)),(n()(),Qi(16,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),so(-1,null,["Common demo"])),(n()(),Qi(18,0,null,null,39,"div",[["class","work"]],null,null,null,null,null)),(n()(),Qi(19,0,null,null,3,"div",[["class","viewport-wrapper"]],null,null,null,null,null)),(n()(),Qi(20,0,null,null,2,"div",[["class","viewport"]],null,null,null,null,null)),(n()(),Zi(16777216,null,null,1,null,Bm)),pr(22,81920,null,0,Vf,[Mt,jt,at],{uiScrollOf:[0,"uiScrollOf"]},null),(n()(),Qi(23,0,null,null,33,"div",[["class","log"]],null,null,null,null,null)),(n()(),Qi(24,0,null,null,11,"div",[["style","line-height: 25px; margin-bottom: 2px;"]],null,null,null,null,null)),(n()(),so(25,null,[" Version of ngx-ui-scroll: "," "])),(n()(),Qi(26,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),so(27,null,[" First visible: #"," "])),(n()(),Qi(28,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),so(29,null,[" Last visible: #"," "])),hr(131072,Zu,[Re]),(n()(),Qi(31,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),so(32,null,[" Items in DOM: "," "])),(n()(),Qi(33,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),so(34,null,[" Is loading: "," "])),(n()(),Qi(35,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(36,0,null,null,8,"div",[["style","display: flex; align-items: center; margin-bottom: 2px;"]],null,null,null,null,null)),(n()(),so(-1,null,[" Datasource delay (ms):  "])),(n()(),Qi(38,0,null,null,6,"input",[["style","width: 84px"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==Yl(n,39)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==Yl(n,39).onTouched()&&l),"compositionstart"===e&&(l=!1!==Yl(n,39)._compositionStart()&&l),"compositionend"===e&&(l=!1!==Yl(n,39)._compositionEnd(t.target.value)&&l),"change"===e&&(l=!1!==Yl(n,40).onChange(t.target.value)&&l),"input"===e&&(l=!1!==Yl(n,40).onChange(t.target.value)&&l),"blur"===e&&(l=!1!==Yl(n,40).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.delay=t)&&l),l}),null,null)),pr(39,16384,null,0,Ff,[vt,pt,[2,Uf]],null,null),pr(40,16384,null,0,em,[vt,pt],null,null),fr(1024,null,zf,(function(n,e){return[n,e]}),[Ff,em]),pr(42,671744,null,0,Em,[[8,null],[8,null],[8,null],[6,zf]],{model:[0,"model"]},{update:"ngModelChange"}),fr(2048,null,Wf,null,[Em]),pr(44,16384,null,0,qf,[[4,Wf]],null,null),(n()(),Qi(45,0,null,null,11,"div",[["style","display: flex; align-items: center"]],null,null,null,null,null)),(n()(),so(-1,null,[" Index to reload:  "])),(n()(),Qi(47,0,null,null,6,"input",[["style","width: 60px"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==Yl(n,48)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==Yl(n,48).onTouched()&&l),"compositionstart"===e&&(l=!1!==Yl(n,48)._compositionStart()&&l),"compositionend"===e&&(l=!1!==Yl(n,48)._compositionEnd(t.target.value)&&l),"change"===e&&(l=!1!==Yl(n,49).onChange(t.target.value)&&l),"input"===e&&(l=!1!==Yl(n,49).onChange(t.target.value)&&l),"blur"===e&&(l=!1!==Yl(n,49).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.reloadIndex=t)&&l),l}),null,null)),pr(48,16384,null,0,Ff,[vt,pt,[2,Uf]],null,null),pr(49,16384,null,0,em,[vt,pt],null,null),fr(1024,null,zf,(function(n,e){return[n,e]}),[Ff,em]),pr(51,671744,null,0,Em,[[8,null],[8,null],[8,null],[6,zf]],{model:[0,"model"]},{update:"ngModelChange"}),fr(2048,null,Wf,null,[Em]),pr(53,16384,null,0,qf,[[4,Wf]],null,null),(n()(),so(-1,null,["  "])),(n()(),Qi(55,0,null,null,1,"button",[["style","width: 60px"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doReload()&&l),l}),null,null)),(n()(),so(-1,null,["Reload"])),(n()(),Qi(57,0,null,null,0,"div",[["class","clearfix mb-3"]],null,null,null,null,null)),(n()(),Qi(58,0,null,null,14,"div",[["class","sources"]],null,null,null,null,null)),(n()(),Qi(59,0,null,null,13,"tabset",[],[[2,"tab-container",null]],null,null,zm,Mm)),pr(60,180224,null,0,Dm,[Om,vt],null,null),(n()(),Qi(61,0,null,0,3,"tab",[],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),pr(62,212992,null,0,Nm,[Dm,pt,vt],{heading:[0,"heading"]},null),(n()(),Qi(63,0,null,null,1,"pre",[["class","prettyprint lang-html"]],null,null,null,null,null)),(n()(),so(64,null,["",""])),(n()(),Qi(65,0,null,0,3,"tab",[],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),pr(66,212992,null,0,Nm,[Dm,pt,vt],{heading:[0,"heading"]},null),(n()(),Qi(67,0,null,null,1,"pre",[["class","prettyprint"]],null,null,null,null,null)),(n()(),so(68,null,["",""])),(n()(),Qi(69,0,null,0,3,"tab",[],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),pr(70,212992,null,0,Nm,[Dm,pt,vt],{heading:[0,"heading"]},null),(n()(),Qi(71,0,null,null,1,"pre",[["class","prettyprint"]],null,null,null,null,null)),(n()(),so(72,null,["",""])),(n()(),Qi(73,0,null,null,10,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" It's just a little demo including simplest template, simplest Datasource implementation with no any settings provided and some of Adapter properties and methods usage. Other samples with all necessary details and explanations can be found at "])),(n()(),Qi(75,0,null,null,1,"a",[["href","#/datasource"]],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[", "])),(n()(),Qi(78,0,null,null,1,"a",[["href","#/settings"]],null,null,null,null,null)),(n()(),so(-1,null,["Settings"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(81,0,null,null,1,"a",[["href","#/adapter"]],null,null,null,null,null)),(n()(),so(-1,null,["Adapter"])),(n()(),so(-1,null,[" sections. Below is the list of all examples available per these sections.\n"])),(n()(),Qi(84,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),so(-1,null,[" Example list\n"])),(n()(),Qi(86,0,null,null,93,"div",[["class","demo-examples"],["style","display: flex"]],null,null,null,null,null)),(n()(),Qi(87,0,null,null,23,"div",[["style","margin: 0 20px 33px 0;"]],null,null,null,null,null)),(n()(),Qi(88,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),Qi(90,0,null,null,1,"a",[["href","#/datasource#datasource-get-signatures"]],null,null,null,null,null)),(n()(),so(-1,null,["Datasource get-method signatures"])),(n()(),Qi(92,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(93,0,null,null,1,"a",[["href","#/datasource#unlimited-bidirectional"]],null,null,null,null,null)),(n()(),so(-1,null,["Unlimited bidirectional datasource"])),(n()(),Qi(95,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(96,0,null,null,1,"a",[["href","#/datasource#limited"]],null,null,null,null,null)),(n()(),so(-1,null,["Limited datasource"])),(n()(),Qi(98,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(99,0,null,null,1,"a",[["href","#/datasource#positive-limited-indexes"]],null,null,null,null,null)),(n()(),so(-1,null,["Positive limited datasource"])),(n()(),Qi(101,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(102,0,null,null,1,"a",[["href","#/datasource#remote"]],null,null,null,null,null)),(n()(),so(-1,null,["Remote datasource"])),(n()(),Qi(104,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(105,0,null,null,1,"a",[["href","#/datasource#inverted-indexes"]],null,null,null,null,null)),(n()(),so(-1,null,["Inverted datasource"])),(n()(),Qi(107,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(108,0,null,null,1,"a",[["href","#/datasource#pages"]],null,null,null,null,null)),(n()(),so(-1,null,["Pages datasource"])),(n()(),Qi(110,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(111,0,null,null,32,"div",[["style","margin: 0 20px 33px 0;"]],null,null,null,null,null)),(n()(),Qi(112,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),so(-1,null,["Settings"])),(n()(),Qi(114,0,null,null,1,"a",[["href","#/settings#no-settings"]],null,null,null,null,null)),(n()(),so(-1,null,["No settings"])),(n()(),Qi(116,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(117,0,null,null,1,"a",[["href","#/settings#buffer-size"]],null,null,null,null,null)),(n()(),so(-1,null,["BufferSize setting"])),(n()(),Qi(119,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(120,0,null,null,1,"a",[["href","#/settings#padding"]],null,null,null,null,null)),(n()(),so(-1,null,["padding setting"])),(n()(),Qi(122,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(123,0,null,null,1,"a",[["href","#/settings#item-size"]],null,null,null,null,null)),(n()(),so(-1,null,["itemSize setting"])),(n()(),Qi(125,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(126,0,null,null,1,"a",[["href","#/settings#start-index"]],null,null,null,null,null)),(n()(),so(-1,null,["startIndex setting"])),(n()(),Qi(128,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(129,0,null,null,1,"a",[["href","#/settings#min-max-indexes"]],null,null,null,null,null)),(n()(),so(-1,null,["minIndex / maxIndex settings"])),(n()(),Qi(131,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(132,0,null,null,1,"a",[["href","#/settings#infinite-mode"]],null,null,null,null,null)),(n()(),so(-1,null,["Infinite mode"])),(n()(),Qi(134,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(135,0,null,null,1,"a",[["href","#/settings#horizontal-mode"]],null,null,null,null,null)),(n()(),so(-1,null,["Horizontal mode"])),(n()(),Qi(137,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(138,0,null,null,1,"a",[["href","#/settings#different-item-heights"]],null,null,null,null,null)),(n()(),so(-1,null,["Different item heights"])),(n()(),Qi(140,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(141,0,null,null,1,"a",[["href","#/settings#window-viewport"]],null,null,null,null,null)),(n()(),so(-1,null,["Entire window scrollable"])),(n()(),Qi(143,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(144,0,null,null,35,"div",[["style","margin: 0 0 33px 0;"]],null,null,null,null,null)),(n()(),Qi(145,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter"])),(n()(),Qi(147,0,null,null,1,"a",[["href","#/adapter#reload"]],null,null,null,null,null)),(n()(),so(-1,null,["Reload"])),(n()(),Qi(149,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(150,0,null,null,1,"a",[["href","#/adapter#is-loading"]],null,null,null,null,null)),(n()(),so(-1,null,["Is loading?"])),(n()(),Qi(152,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(153,0,null,null,1,"a",[["href","#/adapter#is-loading-advanced"]],null,null,null,null,null)),(n()(),so(-1,null,["Is loading, advanced"])),(n()(),Qi(155,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(156,0,null,null,1,"a",[["href","#/adapter#items-count"]],null,null,null,null,null)),(n()(),so(-1,null,["Buffer items counter"])),(n()(),Qi(158,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(159,0,null,null,1,"a",[["href","#/adapter#bof-eof"]],null,null,null,null,null)),(n()(),so(-1,null,["Begin / end of file"])),(n()(),Qi(161,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(162,0,null,null,1,"a",[["href","#/adapter#first-last-visible-items"]],null,null,null,null,null)),(n()(),so(-1,null,["First and last visible items"])),(n()(),Qi(164,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(165,0,null,null,1,"a",[["href","#/adapter#append-prepend"]],null,null,null,null,null)),(n()(),so(-1,null,["Append / prepend"])),(n()(),Qi(167,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(168,0,null,null,1,"a",[["href","#/adapter#append-prepend-sync"]],null,null,null,null,null)),(n()(),so(-1,null,["Append / prepend sync"])),(n()(),Qi(170,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(171,0,null,null,1,"a",[["href","#/adapter#check-size"]],null,null,null,null,null)),(n()(),so(-1,null,["Check size"])),(n()(),Qi(173,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(174,0,null,null,1,"a",[["href","#/adapter#remove"]],null,null,null,null,null)),(n()(),so(-1,null,["Remove"])),(n()(),Qi(176,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(177,0,null,null,1,"a",[["href","#/adapter#clip"]],null,null,null,null,null)),(n()(),so(-1,null,["Clip"])),(n()(),Qi(179,0,null,null,0,"br",[],null,null,null,null,null))],(function(n,e){var t=e.component;n(e,22,0,t.datasource),n(e,42,0,t.delay),n(e,51,0,t.reloadIndex),n(e,62,0,Pl(1,"",t.sources[1].name,"")),n(e,66,0,Pl(1,"",t.sources[0].name,"")),n(e,70,0,Pl(1,"",t.sources[2].name,""))}),(function(n,e){var t,l=e.component;n(e,25,0,l.datasource.adapter.version),n(e,27,0,l.datasource.adapter.firstVisible.$index),n(e,29,0,null==(t=Yt(e,29,0,Yl(e,30).transform(l.datasource.adapter.lastVisible$)))?null:t.$index),n(e,32,0,l.datasource.adapter.itemsCount),n(e,34,0,l.datasource.adapter.isLoading),n(e,38,0,Yl(e,44).ngClassUntouched,Yl(e,44).ngClassTouched,Yl(e,44).ngClassPristine,Yl(e,44).ngClassDirty,Yl(e,44).ngClassValid,Yl(e,44).ngClassInvalid,Yl(e,44).ngClassPending),n(e,47,0,Yl(e,53).ngClassUntouched,Yl(e,53).ngClassTouched,Yl(e,53).ngClassPristine,Yl(e,53).ngClassDirty,Yl(e,53).ngClassValid,Yl(e,53).ngClassInvalid,Yl(e,53).ngClassPending),n(e,59,0,Yl(e,60).clazz),n(e,61,0,Yl(e,62).id,Yl(e,62).active,Yl(e,62).addClass),n(e,64,0,l.sources[1].text),n(e,65,0,Yl(e,66).id,Yl(e,66).active,Yl(e,66).addClass),n(e,68,0,l.sources[0].text),n(e,69,0,Yl(e,70).id,Yl(e,70).active,Yl(e,70).addClass),n(e,72,0,l.sources[2].text)}))}function Wm(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"app-home",[],null,null,null,$m,Hm)),pr(1,49152,null,0,Fm,[],null,null)],null,null)}var qm=Hl("app-home",Fm,Wm,{},{},[]),Gm=function(){function n(){this.init=!1}return n.prototype.viewport=function(n){var e=document.getElementById(n);return e?e[this.datasource.settings&&this.datasource.settings.horizontal?"scrollWidth":"scrollHeight"].toString():""},n.prototype.elements=function(n){var e=document.getElementById(n);return e?((e.children[0].childElementCount||0)-2).toString(10):""},n.prototype.ngOnInit=function(){var n=this;setTimeout((function(){n.sources.every((function(n){return!n.active}))&&(n.sources[0].active=!0),n.init=!0}))},n}(),Zm=tl({encapsulation:2,styles:[],data:{}});function Qm(n){return ho(0,[(n()(),so(0,null,["",""]))],null,(function(n,e){n(e,0,0,e.context.item.text)}))}function Km(n){return ho(0,[(n()(),Zi(0,null,null,0))],null,null)}function Xm(n){return ho(0,[(n()(),Qi(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),Qi(1,0,null,null,3,"div",[],[[8,"className",0],[4,"height",null]],null,null,null,null)),(n()(),Zi(16777216,null,null,2,null,Km)),pr(3,540672,null,0,$u,[jt],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),uo(4,{item:0})],(function(n,e){var t=e.component,l=n(e,4,0,e.context.$implicit);n(e,3,0,l,t.itemTemplate||Yl(e.parent.parent,0))}),(function(n,e){n(e,1,0,Pl(1,"item ",e.component.context.addClass||"",""),void 0!==e.context.$implicit.height?e.context.$implicit.height+"px":null)}))}function Jm(n){return ho(0,[(n()(),Qi(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ym(n){return ho(0,[(n()(),Qi(0,0,null,null,3,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),so(-1,null,[" Viewport scrollable size: "])),(n()(),Qi(2,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),so(3,null,["",""])),(n()(),Qi(4,0,null,null,3,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),so(-1,null,[" DOM elements count: "])),(n()(),Qi(6,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),so(7,null,["",""])),(n()(),Qi(8,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),so(-1,null,[" Datasource.get log "])),(n()(),Qi(10,0,null,null,2,"div",[["class","pre-wrapper"]],null,null,null,null,null)),(n()(),Qi(11,0,null,null,1,"pre",[],null,null,null,null,null)),(n()(),so(12,null,["",""]))],null,(function(n,e){var t=e.component;n(e,0,0,Pl(1,"elements ",t.context.addClass||"","")),n(e,3,0,t.viewport(t.context.viewportId)),n(e,4,0,Pl(1,"elements ",t.context.addClass||"","")),n(e,7,0,t.elements(t.context.viewportId)),n(e,8,0,Pl(1,"datasource ",t.context.addClass||"","")),n(e,12,0,t.context.log)}))}function ng(n){return ho(0,[(n()(),Qi(0,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),so(-1,null,[" Datasource.get log "])),(n()(),Qi(2,0,null,null,2,"div",[["class","pre-wrapper"]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,1,"pre",[],null,null,null,null,null)),(n()(),so(4,null,["",""]))],null,(function(n,e){var t=e.component;n(e,0,0,Pl(1,"datasource ",t.context.addClass||"","")),n(e,4,0,t.context.log)}))}function eg(n){return ho(0,[(n()(),Qi(0,0,null,null,4,"div",[["class","log"]],null,null,null,null,null)),(n()(),Zi(16777216,null,null,1,null,Jm)),pr(2,16384,null,0,Fu,[jt,Mt],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(n()(),Zi(0,[["allView",2]],null,0,null,Ym)),(n()(),Zi(0,[["logView",2]],null,0,null,ng))],(function(n,e){n(e,2,0,!e.component.context.logViewOnly,Yl(e,3),Yl(e,4))}),null)}function tg(n){return ho(0,[(n()(),Qi(0,0,null,null,7,"div",[["class","work"]],null,null,null,null,null)),(n()(),Qi(1,0,null,null,3,"div",[["class","viewport-wrapper"]],null,null,null,null,null)),(n()(),Qi(2,0,null,null,2,"div",[],[[8,"className",0],[8,"id",0]],null,null,null,null)),(n()(),Zi(16777216,null,null,1,null,Xm)),pr(4,81920,null,0,Vf,[Mt,jt,at],{uiScrollOf:[0,"uiScrollOf"]},null),(n()(),Zi(16777216,null,null,1,null,eg)),pr(6,16384,null,0,Fu,[jt,Mt],{ngIf:[0,"ngIf"]},null),(n()(),Qi(7,0,null,null,0,"div",[["class","clearfix mb-3"]],null,null,null,null,null))],(function(n,e){var t=e.component;n(e,4,0,t.datasource),n(e,6,0,t.init&&!t.context.noInfo)}),(function(n,e){var t=e.component;n(e,2,0,Pl(1,"viewport ",t.context.addClass||"",""),Pl(1,"",t.context.viewportId,""))}))}function lg(n){return ho(0,[(n()(),Qi(0,0,null,null,3,"tab",[],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),pr(1,212992,null,0,Nm,[Dm,pt,vt],{heading:[0,"heading"],active:[1,"active"]},null),(n()(),Qi(2,0,null,null,1,"pre",[["class","prettyprint"]],null,null,null,null,null)),(n()(),so(3,null,["",""]))],(function(n,e){var t=e.component;n(e,1,0,Pl(1,"",t.sources[e.context.index].name,""),t.sources[e.context.index].active)}),(function(n,e){var t=e.component;n(e,0,0,Yl(e,1).id,Yl(e,1).active,Yl(e,1).addClass),n(e,3,0,t.sources[e.context.index].text)}))}function rg(n){return ho(0,[(n()(),Qi(0,0,null,null,3,"tabset",[],[[2,"tab-container",null]],null,null,zm,Mm)),pr(1,180224,null,0,Dm,[Om,vt],null,null),(n()(),Zi(16777216,null,0,1,null,lg)),pr(3,278528,null,0,Lu,[jt,Mt,At],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){n(e,3,0,e.component.sources)}),(function(n,e){n(e,0,0,Yl(e,1).clazz)}))}function ig(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"pre",[["class","prettyprint"]],null,null,null,null,null)),(n()(),so(1,null,["",""]))],null,(function(n,e){n(e,1,0,e.component.sources[0].text)}))}function og(n){return ho(0,[(n()(),Qi(0,0,null,null,4,"div",[["class","sources"]],null,null,null,null,null)),(n()(),Zi(16777216,null,null,1,null,rg)),pr(2,16384,null,0,Fu,[jt,Mt],{ngIf:[0,"ngIf"]},null),(n()(),Zi(16777216,null,null,1,null,ig)),pr(4,16384,null,0,Fu,[jt,Mt],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,2,0,t.sources.length>1),n(e,4,0,1===t.sources.length)}),null)}function ug(n){return ho(0,[(n()(),Zi(0,[["defaultItemTemplate",2]],null,0,null,Qm)),(n()(),Qi(1,0,null,null,12,"div",[["class","demo"]],null,null,null,null,null)),(n()(),Qi(2,0,null,null,3,"h3",[],[[8,"id",0]],null,null,null,null)),(n()(),so(3,null,[" "," "])),(n()(),Qi(4,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(n()(),so(-1,null,["#"])),(n()(),Qi(6,0,null,null,1,"div",[["class","actions"]],null,null,null,null,null)),io(null,0),(n()(),Zi(16777216,null,null,1,null,tg)),pr(9,16384,null,0,Fu,[jt,Mt],{ngIf:[0,"ngIf"]},null),(n()(),Zi(16777216,null,null,1,null,og)),pr(11,16384,null,0,Fu,[jt,Mt],{ngIf:[0,"ngIf"]},null),(n()(),Qi(12,0,null,null,1,"div",[["class","description"]],null,null,null,null,null)),io(null,1)],(function(n,e){var t=e.component;n(e,9,0,!t.context.noWorkView),n(e,11,0,t.sources&&t.sources.length)}),(function(n,e){var t=e.component;n(e,2,0,Pl(1,"",t.context.titleId,"")),n(e,3,0,t.context.title),n(e,4,0,Pl(2,"#/",t.context.scope,"#",t.context.titleId,""))}))}var ag=function(n,e,t){isNaN(Number(t))?e(n):setTimeout((function(){return e(n)}),Number(t))},sg=function(n,e,t,l){return n.log=++n.count+") got "+l+" items ["+e+".."+(e+t-1)+"]\n"+n.log},cg=function(n,e){return function(t,l,r){return ag(function(n,e,t){for(var l=[],r=e;r<=e+t-1;r++)l.push({id:r,text:"item #"+r});return sg(n,e,t,l.length),l}(n,t,l),r,e)}},dg=function(){return function(){this.demoContext={scope:"settings",title:"No settings",titleId:"no-settings",viewportId:"no-settings-viewport",count:0,log:""},this.datasource={get:cg(this.demoContext)},this.sources=[{name:Lm.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n}"},{name:Lm.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}}(),pg=tl({encapsulation:2,styles:[],data:{}});function hg(n){return ho(0,[(n()(),Qi(0,0,null,null,25,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,1,23,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Speaking of what impact could "])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Settings"])),(n()(),so(-1,null,[" have on the scroller behavior, we are going to dig into it's behavior details before any settings applied. And this is the very basic example where settings are not defined. "])),(n()(),Qi(8,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Let's first investigate the sample's log. The visible part of the viewport contains 10 items in accordance with CSS: 10 items of 25px each are equal to 250px of the viewport height. "])),(n()(),Qi(10,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" log shows us that there were 3 requests of 5, 10 and 5 items on the initial load (before any scrolling). So we have 20 DOM elements initially: 15 downward items with positive indexes and 5 upward negative items. 20 items give us 500px and this is the initial viewport scrollable size. "])),(n()(),Qi(13,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The viewport scrollable size value can increase only; as we scroll more and more, items are passed through the "])),(n()(),Qi(15,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[". Our "])),(n()(),Qi(18,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" is unlimited, it produces items with indexes from -Infinity to +Infinity. The number of DOM elements in the viewport is not constant, but it fluctuates around the initial value during scrolling (20-31). The core concept of the virtualization is to keep as small number of real items as needed while the scrollable size of the viewport can be very big. "])),(n()(),Qi(21,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Why do we have 3 requests initially, why the first one is about only 5 items, why at least 10 items are invisible? This is how the "])),(n()(),Qi(23,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["*uiScroll"])),(n()(),so(-1,null,[" works and further reading should shed more light on the details. And we need to know that the default behavior could be changed via Settings object. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var fg=function(){return function(){this.demoContext={scope:"settings",title:"bufferSize setting",titleId:"buffer-size",viewportId:"buffer-size-viewport",count:0,log:""},this.datasource={get:cg(this.demoContext),settings:{bufferSize:15}},this.sources=[{name:Lm.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 15\n  }\n}"},{name:Lm.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}}(),mg=tl({encapsulation:2,styles:[],data:{}});function gg(n){return ho(0,[(n()(),Qi(0,0,null,null,47,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,1,45,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,22,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Here we set "])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["bufferSize"])),(n()(),so(-1,null,[" property which defines minimal number of items that the "])),(n()(),Qi(8,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" may retrieve via "])),(n()(),Qi(11,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" method in a single request. In this demo we see that the initial load consists of 2 requests of 15 items (from 1 to 15 and from -14 to 0). Initially the "])),(n()(),Qi(14,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" starts fill the viewport downward from zero scroll position. If the first fetch is enough, the second one will be in the backward direction. The size of these fetches is determined by the "])),(n()(),Qi(17,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["bufferSize"])),(n()(),so(-1,null,[" setting. The next fetches (during scrolling) could ask for more than "])),(n()(),Qi(20,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["bufferSize"])),(n()(),so(-1,null,[" items, but never less than "])),(n()(),Qi(23,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["bufferSize"])),(n()(),so(-1,null,[". "])),(n()(),Qi(26,0,null,null,16,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The bigger the "])),(n()(),Qi(28,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["bufferSize"])),(n()(),so(-1,null,[" value is, the less requests generally are needed to fill out the viewport. For example, scrolling from 1 to 100 item when the "])),(n()(),Qi(31,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["bufferSize"])),(n()(),so(-1,null,[" is 1, we may see about 40 "])),(n()(),Qi(34,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" calls (depends on the environment). But this demo (where "])),(n()(),Qi(37,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["bufferSize"])),(n()(),so(-1,null,[" is 15) shows that reaching 100 item would cost about 10 "])),(n()(),Qi(40,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" calls. "])),(n()(),Qi(43,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The default value of "])),(n()(),Qi(45,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["bufferSize"])),(n()(),so(-1,null,[" property is 5. It has to be a positive integer. The minimum value is 1. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var vg=function(){return function(){this.demoContext={scope:"settings",title:"padding setting",titleId:"padding",viewportId:"padding-viewport",count:0,log:""},this.datasource={get:cg(this.demoContext),settings:{bufferSize:7,padding:1.46}},this.sources=[{name:Lm.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 7,\n    padding: 1.46\n  }\n}"},{name:Lm.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}}(),yg=tl({encapsulation:2,styles:[],data:{}});function bg(n){return ho(0,[(n()(),Qi(0,0,null,null,51,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,1,49,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,16,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Here the "])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" method implementation is taken from previous samples, but the "])),(n()(),Qi(8,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Settings"])),(n()(),so(-1,null,[" object is completed with "])),(n()(),Qi(11,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["padding"])),(n()(),so(-1,null,[" property. This setting defines an extra space added to the visible part of the viewport for the purpose of determining when the items should be created/destroyed. The value is relative to the visible size of the viewport. So "])),(n()(),Qi(14,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["1.46"])),(n()(),so(-1,null,[" means that the "])),(n()(),Qi(17,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" would request new items until the areas of 146% of the viewport size on both of forward and backward directions are filled with rendered items: 100% + 146% downward and 146% upward. In this demo we have 3 requests on the initial load, let's see what happened: "])),(n()(),Qi(20,0,null,null,11,"ol",[],null,null,null,null,null)),(n()(),Qi(21,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["250px + 1.46 * 250px = 615px — total size of area that needs to be filled on downward (positive) direction, where 250px is the size of the visible viewport (per CSS) "])),(n()(),Qi(23,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["7 items * 25px = 175px — the result size of first downward fetch, where "])),(n()(),Qi(25,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["bufferSize"])),(n()(),so(-1,null,[" is 7 and 25px is the item's size (per CSS) "])),(n()(),Qi(28,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["615px - 175px = 440px — downward space which has to be filled during second downward fetch "])),(n()(),Qi(30,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["ceil(440px / 25px) = 18 — items number that is needed to feel remain 440px area during second downward fetch "])),(n()(),Qi(32,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" So we have 2 "])),(n()(),Qi(34,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" downward requests for 7 and 18 items. And this is an explanation of the last (initial backward) fetch: "])),(n()(),Qi(37,0,null,null,4,"ol",[],null,null,null,null,null)),(n()(),Qi(38,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["1.46 * 250px = 360px — upward space which has to be filled on backward (negative) direction "])),(n()(),Qi(40,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["ceil(360px / 25px) = 15 — items number that is needed to feel 360px area on backward fetch "])),(n()(),Qi(42,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" So we have satisfied to 40 DOM elements (7 + 18 + 15 = 40). The bigger "])),(n()(),Qi(44,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["padding"])),(n()(),so(-1,null,[" value is, the more DOM elements should be present in the viewport. "])),(n()(),Qi(47,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The default value of "])),(n()(),Qi(49,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["padding"])),(n()(),so(-1,null,[" property is 0.5. It is treated as floating point number. The minimum value is 0.01. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var wg=function(){return function(){this.demoContext={scope:"settings",title:"itemSize setting",titleId:"item-size",viewportId:"item-size-viewport",count:0,log:""},this.datasource={get:cg(this.demoContext),settings:{itemSize:25}},this.sources=[{name:Lm.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    itemSize: 25\n  }\n}"},{name:Lm.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}}(),xg=tl({encapsulation:2,styles:[],data:{}});function _g(n){return ho(0,[(n()(),Qi(0,0,null,null,45,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,1,43,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,16,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Another setting which has an impact on the viewport filling procedure is "])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["itemSize"])),(n()(),so(-1,null,[". After the first fetch is done, the "])),(n()(),Qi(8,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" gets knowledge on average item's size and can make further requests precisely. Defining "])),(n()(),Qi(11,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["settings.itemSize"])),(n()(),so(-1,null,[" property we are telling the "])),(n()(),Qi(14,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" that the initial average item's size is determined and could be used right on the first cycle. That's why we have only 2 initial "])),(n()(),Qi(17,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" calls in this demo: "])),(n()(),Qi(20,0,null,null,8,"ol",[],null,null,null,null,null)),(n()(),Qi(21,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["250px + 0.5 * 250px = 375px — downward (positive) size"])),(n()(),Qi(23,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["ceil(375px / 25px) = 15 — items number to fill the area of 375px"])),(n()(),Qi(25,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["0.5 * 250px = 125px — upward (negative) size"])),(n()(),Qi(27,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["ceil(125px / 25px) = 5 — items number to fill the area of 125px"])),(n()(),Qi(29,0,null,null,12,"p",[],null,null,null,null,null)),(n()(),Qi(30,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["itemSize"])),(n()(),so(-1,null,[" don't fix item's size on the template layer, it is just an expectation of average item's size. If we set it to, say, 10, then the first "])),(n()(),Qi(33,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" call will give us ceil(375 / 10) = 38 items which will occupy 38 * 25 = 950px downward area. The second fetch will be the same as above, because the "])),(n()(),Qi(36,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" will recalculate average item's size after the first fetch is done. Setting "])),(n()(),Qi(39,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["itemSize"])),(n()(),so(-1,null,[" to, say, 9999 will give us good old 3 fetches: 5 (not 1, because 1 < bufferSize that is 5 by default) and 10 items on forward direction and 5 items on backward direction. "])),(n()(),Qi(42,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),Qi(43,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["itemSize"])),(n()(),so(-1,null,[" has no default value. If set, it has to be a positive integer. The minimum value is 1. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var Cg=function(){return function(){this.demoContext={scope:"settings",title:"startIndex setting",titleId:"start-index",viewportId:"start-index-viewport",count:0,log:""},this.datasource={get:cg(this.demoContext),settings:{startIndex:137}},this.sources=[{name:Lm.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 137\n  }\n}"},{name:Lm.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}}(),Sg=tl({encapsulation:2,styles:[],data:{}});function Ig(n){return ho(0,[(n()(),Qi(0,0,null,null,27,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,1,25,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,16,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" What if we want to start the "])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" from some specific position? It is possible via "])),(n()(),Qi(8,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["startIndex"])),(n()(),so(-1,null,[" setting which determines what item index the "])),(n()(),Qi(11,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" will use to start the load process. It will be the value of the "])),(n()(),Qi(14,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["index"])),(n()(),so(-1,null,[" argument during the first "])),(n()(),Qi(17,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" method call. "])),(n()(),Qi(20,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The default "])),(n()(),Qi(22,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["startIndex"])),(n()(),so(-1,null,[" value is 1. It has to be an integer with no range limitations. But real datasource boundaries (in case the "])),(n()(),Qi(25,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" is limited) should be taken into the account. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var kg=function(){return function(){this.demoContext={scope:"settings",title:"minIndex / maxIndex settings",titleId:"min-max-indexes",viewportId:"min-max-indexes-viewport",count:0,log:""},this.datasource={get:cg(this.demoContext),settings:{minIndex:1,maxIndex:1e3}},this.sources=[{name:Lm.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    minIndex: 1,\n    maxIndex: 1000\n  }\n}"},{name:Lm.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}}(),Eg=tl({encapsulation:2,styles:[],data:{}});function Tg(n){return ho(0,[(n()(),Qi(0,0,null,null,87,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,1,85,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" If the boundaries of the dataset are known, we may virtualize all the data items right on the "])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" initialization, in other words the "])),(n()(),Qi(8,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" will maintain forward and backward padding elements of the viewport in assumption that the dataset consists of (maxIndex - minIndex) items. So it will be possible to jump to any position immediately. "])),(n()(),Qi(11,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" In this demo we are telling the "])),(n()(),Qi(13,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" to work with indexes in-between [1..1000] range only. 1000 items per 25px give us 25000px, it is our viewport scrollable size and it will not be changed. Also, we may reach the bottom item in a single long scroll with just a couple of fetches: 3-10 "])),(n()(),Qi(16,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" method calls against 70-200 ones in the previous demos. "])),(n()(),Qi(19,0,null,null,31,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" An important note is that "])),(n()(),Qi(21,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["minIndex"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(24,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["maxIndex"])),(n()(),so(-1,null,[" should stay within the real datasource boundaries. All the demos we discussed before have unlimited datasources, so "])),(n()(),Qi(27,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["minIndex"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(30,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["maxIndex"])),(n()(),so(-1,null,[" could accept any values. But in case the datasource is limited, say, by [MIN..MAX] range, then "])),(n()(),Qi(33,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["minIndex"])),(n()(),so(-1,null,[" should be >= "])),(n()(),Qi(36,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["MIN"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(39,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["maxIndex"])),(n()(),so(-1,null,[" should be <= "])),(n()(),Qi(42,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["MAX"])),(n()(),so(-1,null,[". An example of limited "])),(n()(),Qi(45,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" implementation can be found "])),(n()(),Qi(48,0,null,null,1,"a",[["href","/#/datasource#limited"]],null,null,null,null,null)),(n()(),so(-1,null,["here"])),(n()(),so(-1,null,[". "])),(n()(),Qi(51,0,null,null,16,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The "])),(n()(),Qi(53,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" can accept only one of min/max indexes settings. For example, if we know that our datasource have no negative values, then we may define "])),(n()(),Qi(56,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["minIndex"])),(n()(),so(-1,null,[" as 1 (or 0) and not define "])),(n()(),Qi(59,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["maxIndex"])),(n()(),so(-1,null,[". It also seems right idea to set "])),(n()(),Qi(62,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["startIndex"])),(n()(),so(-1,null,[" value to 0 in case "])),(n()(),Qi(65,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["minIndex"])),(n()(),so(-1,null,[" value had been set to 0. "])),(n()(),Qi(68,0,null,null,19,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Both of "])),(n()(),Qi(70,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["minIndex"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(73,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["maxIndex"])),(n()(),so(-1,null,[" values should be integer. The default "])),(n()(),Qi(76,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["minIndex"])),(n()(),so(-1,null,[" value is "])),(n()(),Qi(79,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["-Infinity"])),(n()(),so(-1,null,[". The default "])),(n()(),Qi(82,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["maxIndex"])),(n()(),so(-1,null,[" value is "])),(n()(),Qi(85,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["+Infinity"])),(n()(),so(-1,null,[". "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var Pg=function(){return function(){this.demoContext={scope:"settings",title:"Infinite mode",titleId:"infinite-mode",viewportId:"infinite-viewport",count:0,log:""},this.datasource={get:cg(this.demoContext),settings:{infinite:!0}},this.sources=[{name:Lm.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    infinite: true\n  }\n}"},{name:Lm.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 175px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}}(),Ag=tl({encapsulation:2,styles:[],data:{}});function Og(n){return ho(0,[(n()(),Qi(0,0,null,null,19,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,1,17,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,16,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The "])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[' might work in "infinite" mode, when items are never removed. This mode can be turned on via '])),(n()(),Qi(8,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["infinite"])),(n()(),so(-1,null,[" property of the "])),(n()(),Qi(11,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["settings"])),(n()(),so(-1,null,[" object. Setting "])),(n()(),Qi(14,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["infinite"])),(n()(),so(-1,null,[" to true, we ask the "])),(n()(),Qi(17,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" not to remove items that are getting out of the visible part of the viewport. That's why the DOM elements counter value increases per each edge-scroll event and never decreased. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var Dg=function(){return function(){this.demoContext={scope:"settings",title:"Horizontal mode",titleId:"horizontal-mode",viewportId:"horizontal-viewport",addClass:"horizontal",count:0,log:""},this.datasource={get:cg(this.demoContext),settings:{horizontal:!0}},this.sources=[{name:Lm.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    horizontal: true\n  }\n}"},{name:Lm.Template,text:'<div class="viewport horizontal">\n  <div *uiScroll="let item of datasource">\n    <div class="item horizontal">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport.horizontal {\n  width: 250px;\n  height: 100px;\n  overflow-anchor: none;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  white-space: nowrap;\n}\n.viewport.horizontal div {\n  display: inline-block;\n}\n.item.horizontal {\n  border: 1px solid #aaa;\n  height: 100px;\n  padding: 0 5px;\n  font-weight: bolder;\n}"}]}}(),Ng=tl({encapsulation:2,styles:[],data:{}});function Rg(n){return ho(0,[(n()(),Qi(0,0,null,null,10,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,1,8,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Horizontal scrolling could be enabled via "])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["horizontal"])),(n()(),so(-1,null,[" setting. The styles also need to be fixed in accordance with horizontal scrolling. Currently we have some limitations at the template layer but "])),(n()(),Qi(8,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["display: inline-block;"])),(n()(),so(-1,null,[" rule applied to all nested containers makes the horizontal mode work. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var Mg=function(){return function(){var n;this.demoContext={scope:"settings",title:"Different item heights",titleId:"different-item-heights",viewportId:"different-heights-viewport",count:0,log:""},this.datasource={get:(n=this.demoContext,-20,100,function(e,t,l){return ag(function(n,e,t,l,r){e=isNaN(Number(e))?-1/0:Number(e),t=isNaN(Number(t))?1/0:Number(t);var i=[],o=Math.max(e,l),u=Math.min(l+r-1,t);if(o<=u)for(var a=o;a<=u;a++)i.push({id:a,text:"item #"+a,height:20+a});return sg(n,l,r,i.length),i}(n,-20,100,e,t),l,void 0)})},this.sources=[{name:Lm.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const MIN = -20, MAX = 100;\n    const data = [];\n    const start = Math.max(MIN, index);\n    const end = Math.min(index + count - 1, MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i, height: 20 + i });\n      }\n    }\n    success(data);\n  }\n}"},{name:Lm.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n     <div class="item" [style.height]="item.height + \'px\'">\n      {{item.text}}\n     </div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n}"}]}}(),Vg=tl({encapsulation:2,styles:[],data:{}});function jg(n){return ho(0,[(n()(),Qi(0,0,null,null,7,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,1,5,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The "])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" works fine with different item heights. To make this sample more strict and to demonstrate the scrollbar parameters' consistency the limited datasource is used. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var zg=function(){return function(){this.demoContext={scope:"settings",title:"Entire window scrollable",titleId:"window-viewport",viewportId:"window-viewport-viewport",noWorkView:!0,count:0,log:""},this.sources=[{name:Lm.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    windowViewport: true\n  }\n}"},{name:Lm.Template,text:'<div *uiScroll="let item of datasource">\n  <div class="item">{{item.text}}</div>\n</div>'},{name:Lm.Styles,text:".item {\n  font-weight: bold;\n  height: 25px;\n}"}]}}(),Lg=tl({encapsulation:2,styles:[],data:{}});function Ug(n){return ho(0,[(n()(),Qi(0,0,null,null,14,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{context:[0,"context"],sources:[1,"sources"]},null),(n()(),Qi(2,0,null,0,6,"div",[["actions",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,5,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Follow "])),(n()(),Qi(5,0,null,null,2,"a",[["routerLink","/window"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==Yl(n,6).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),pr(6,671744,null,0,Ip,[Cp,hd,Su],{routerLink:[0,"routerLink"]},null),(n()(),so(-1,null,["this link"])),(n()(),so(-1,null,[" to open the Entire Window scrollable demo. "])),(n()(),Qi(9,0,null,1,5,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(10,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The entire window might work as a Viewport if "])),(n()(),Qi(12,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["windowViewport"])),(n()(),so(-1,null,[" setting is set to true. "]))],(function(n,e){var t=e.component;n(e,1,0,t.demoContext,t.sources),n(e,6,0,"/window")}),(function(n,e){n(e,5,0,Yl(e,6).target,Yl(e,6).href)}))}var Fg=function(){return function(){}}(),Hg=tl({encapsulation:2,styles:[],data:{}});function Bg(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),so(-1,null,["Angular UI Scroll Settings Demos"])),(n()(),Qi(2,0,null,null,9,"p",[],null,null,null,null,null)),(n()(),Qi(3,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Settings"])),(n()(),so(-1,null,[" object is a part of "])),(n()(),Qi(6,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" implementation. It allows to configure the "])),(n()(),Qi(9,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" during it's initialization. Each sample deals with a single case/setting and include:\n"])),(n()(),Qi(12,0,null,null,8,"ul",[],null,null,null,null,null)),(n()(),Qi(13,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["working viewport where we may scroll through the data items;"])),(n()(),Qi(15,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["log section where we may see current size of the viewport's scrollable area, how many real items (DOM elements) the viewport has at a moment and how many items have been retrieved via Datasource.get; "])),(n()(),Qi(17,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["code listing which contains Datasource typescript code, Template html code and CSS;"])),(n()(),Qi(19,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["description where we can find some notes and explanations."])),(n()(),Qi(21,0,null,null,1,"app-demo-basic",[],null,null,null,hg,pg)),pr(22,49152,null,0,dg,[],null,null),(n()(),Qi(23,0,null,null,1,"app-demo-buffer-size",[],null,null,null,gg,mg)),pr(24,49152,null,0,fg,[],null,null),(n()(),Qi(25,0,null,null,1,"app-demo-padding",[],null,null,null,bg,yg)),pr(26,49152,null,0,vg,[],null,null),(n()(),Qi(27,0,null,null,1,"app-demo-item-size",[],null,null,null,_g,xg)),pr(28,49152,null,0,wg,[],null,null),(n()(),Qi(29,0,null,null,1,"app-demo-start-index",[],null,null,null,Ig,Sg)),pr(30,49152,null,0,Cg,[],null,null),(n()(),Qi(31,0,null,null,1,"app-demo-min-max-indexes",[],null,null,null,Tg,Eg)),pr(32,49152,null,0,kg,[],null,null),(n()(),Qi(33,0,null,null,1,"app-demo-infinite",[],null,null,null,Og,Ag)),pr(34,49152,null,0,Pg,[],null,null),(n()(),Qi(35,0,null,null,1,"app-demo-horizontal",[],null,null,null,Rg,Ng)),pr(36,49152,null,0,Dg,[],null,null),(n()(),Qi(37,0,null,null,1,"app-demo-different-heights",[],null,null,null,jg,Vg)),pr(38,49152,null,0,Mg,[],null,null),(n()(),Qi(39,0,null,null,1,"app-demo-window-viewport",[],null,null,null,Ug,Lg)),pr(40,49152,null,0,zg,[],null,null)],null,null)}function $g(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"app-samples-settings",[],null,null,null,Bg,Hg)),pr(1,49152,null,0,Fg,[],null,null)],null,null)}var Wg=Hl("app-samples-settings",Fg,$g,{},{},[]),qg=function(){function n(){this.demoContext={scope:"adapter",title:"Reload",titleId:"reload",viewportId:"reload-viewport",count:0,log:""},this.datasource=new yh({get:cg(this.demoContext)}),this.sources=[{name:Lm.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nreloadIndex: number = 99;\n\ndoReload() {\n  this.datasource.adapter.reload(this.reloadIndex);\n}"},{active:!0,name:Lm.Template,text:'<button (click)="doReload()">Reload</button>\nby index <input [(ngModel)]="reloadIndex">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.reloadIndex=99}return n.prototype.onInputChanged=function(n){var e=parseInt(n.value,10);isNaN(e)&&(e=1),n.value=e.toString(),this.reloadIndex=e},n.prototype.doReload=function(){this.demoContext.count=0,this.demoContext.log="",this.datasource.adapter.reload(this.reloadIndex)},n}(),Gg=tl({encapsulation:2,styles:[],data:{}});function Zg(n){return ho(0,[(n()(),Qi(0,0,null,null,51,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,0,9,"div",[["actions",""],["style","display: flex"]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doReload()&&l),l}),null,null)),(n()(),so(-1,null,["Reload"])),(n()(),so(-1,null,["   by index   "])),(n()(),Qi(6,0,null,null,5,"input",[["size","2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==Yl(n,7)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==Yl(n,7).onTouched()&&l),"compositionstart"===e&&(l=!1!==Yl(n,7)._compositionStart()&&l),"compositionend"===e&&(l=!1!==Yl(n,7)._compositionEnd(t.target.value)&&l),"change"===e&&(l=!1!==r.onInputChanged(t.target)&&l),l}),null,null)),pr(7,16384,null,0,Ff,[vt,pt,[2,Uf]],null,null),fr(1024,null,zf,(function(n){return[n]}),[Ff]),pr(9,671744,null,0,Em,[[8,null],[8,null],[8,null],[6,zf]],{model:[0,"model"]},null),fr(2048,null,Wf,null,[Em]),pr(11,16384,null,0,qf,[[4,Wf]],null,null),(n()(),Qi(12,0,null,1,39,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(13,0,null,null,13,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The first "])),(n()(),Qi(15,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter"])),(n()(),so(-1,null,[" API method is the "])),(n()(),Qi(18,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["reload"])),(n()(),so(-1,null,[" method that allows us to reload the "])),(n()(),Qi(21,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[": "])),(n()(),Qi(24,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.reload(index)"])),(n()(),so(-1,null,[". It resets the items buffer, resets the viewport params and starts fetching items "])),(n()(),Qi(27,0,null,null,24,"ul",[],null,null,null,null,null)),(n()(),Qi(28,0,null,null,10,"li",[],null,null,null,null,null)),(n()(),so(-1,null,[" from "])),(n()(),Qi(30,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["index"])),(n()(),so(-1,null,[" position (if "])),(n()(),Qi(33,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["reload"])),(n()(),so(-1,null,[" had been called with "])),(n()(),Qi(36,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["index"])),(n()(),so(-1,null,[" parameter); "])),(n()(),Qi(39,0,null,null,10,"li",[],null,null,null,null,null)),(n()(),so(-1,null,[" from "])),(n()(),Qi(41,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["settings.startIndex"])),(n()(),so(-1,null,[" position (if no "])),(n()(),Qi(44,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["index"])),(n()(),so(-1,null,[" parameter is present and "])),(n()(),Qi(47,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["startIndex"])),(n()(),so(-1,null,[" setting is set); "])),(n()(),Qi(50,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,[" from the default position which is 1 (if neither setting nor parameter is present). "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources),n(e,9,0,t.reloadIndex)}),(function(n,e){n(e,6,0,Yl(e,11).ngClassUntouched,Yl(e,11).ngClassTouched,Yl(e,11).ngClassPristine,Yl(e,11).ngClassDirty,Yl(e,11).ngClassValid,Yl(e,11).ngClassInvalid,Yl(e,11).ngClassPending)}))}var Qg=function(){return function(){var n=this;this.demoContext={scope:"adapter",title:"Is loading?",titleId:"is-loading",viewportId:"is-loading-viewport",count:0,log:""},this.datasource=new yh({get:cg(this.demoContext,125)}),this.sources=[{name:Lm.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    setTimeout(() => success(data), 125);\n  }\n});\n\nisLoadingCounter = 0;\n\nconstructor() {\n  this.datasource.adapter.isLoading$\n    .subscribe(isLoading =>\n      this.isLoadingCounter += !isLoading ? 1 : 0\n    );\n}\n"},{active:!0,name:Lm.Template,text:'The uiScroll is\n{{datasource.adapter.isLoading ? \'loading\': \'relaxing\'}}.\n\n<br>\n\nThe value of isLoading counter has been changed\nfor {{isLoadingCounter}} times.\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.isLoadingCounter=0,this.datasource.adapter.isLoading$.subscribe((function(e){return n.isLoadingCounter+=e?0:1}))}}(),Kg=tl({encapsulation:2,styles:[],data:{}});function Xg(n){return ho(0,[(n()(),Qi(0,0,null,null,49,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,0,3,"div",[["actions",""]],null,null,null,null,null)),(n()(),so(3,null,[" The uiScroll is ",". "])),(n()(),Qi(4,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),so(5,null,[" The value of isLoading counter has been changed for "," times. "])),(n()(),Qi(6,0,null,1,43,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(7,0,null,null,22,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The first "])),(n()(),Qi(9,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter"])),(n()(),so(-1,null,[" read-only property we want to use is called "])),(n()(),Qi(12,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["isLoading"])),(n()(),so(-1,null,[". It is a boolean value indicating whether there are any pending processes running by the "])),(n()(),Qi(15,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[". So when "])),(n()(),Qi(18,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["datasource.adapter.isLoading"])),(n()(),so(-1,null,[" is "])),(n()(),Qi(21,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["true"])),(n()(),so(-1,null,[", it means that the "])),(n()(),Qi(24,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" is working right now and the viewport might be updated soon. 125ms delay was added to the "])),(n()(),Qi(27,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" implementation in this sample. "])),(n()(),Qi(30,0,null,null,19,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" In addition to read-only scalar "])),(n()(),Qi(32,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["isLoading"])),(n()(),so(-1,null,[" property there is also "])),(n()(),Qi(35,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["isLoading$"])),(n()(),so(-1,null,[" property which is Observable. A Subject, to be exact. In this demo we have a subscription and "])),(n()(),Qi(38,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["isLoadingCounter"])),(n()(),so(-1,null,[" incrementing each time the "])),(n()(),Qi(41,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["isLoading"])),(n()(),so(-1,null,[" becomes "])),(n()(),Qi(44,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["false"])),(n()(),so(-1,null,[". We see that the initial value of this counter on the UI (before any scrolling) is 1. So the "])),(n()(),Qi(47,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" does initialization and first 3 fetches in a single session. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),(function(n,e){var t=e.component;n(e,3,0,t.datasource.adapter.isLoading?"loading":"relaxing"),n(e,5,0,t.isLoadingCounter)}))}var Jg=function(){return function(){var n=this;this.demoContext={scope:"adapter",title:"Is loading, advanced",titleId:"is-loading-advanced",viewportId:"is-loading-advanced-viewport",count:0,log:""},this.datasource=new yh({get:cg(this.demoContext,125)}),this.sources=[{name:Lm.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    setTimeout(() => success(data), 125);\n  }\n});\n\nloadingCounter = 0;\ninnerLoopCounter = 0;\n\nconstructor() {\n  this.datasource.adapter.isLoading$\n    .subscribe(result =>\n      this.loadingCounter += !result ? 1 : 0\n    );\n  this.datasource.adapter.loopPending$\n    .subscribe(result =>\n      this.innerLoopCounter += !result ? 1 : 0\n    );\n}"},{active:!0,name:Lm.Template,text:"The uiScroll is\n{{datasource.adapter.isLoading ? 'loading': 'relaxing'}},\ncounter {{loadingCounter}}\n\n<br>\n\nInner loop is\n{{datasource.adapter.loopPending ? 'pending': 'stopped'}},\ncounter: {{innerLoopCounter}}\n\n<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>"},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 175px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.loadingCounter=0,this.innerLoopCounter=0,this.datasource.adapter.isLoading$.subscribe((function(e){return n.loadingCounter+=e?0:1})),this.datasource.adapter.loopPending$.subscribe((function(e){return n.innerLoopCounter+=e?0:1}))}}(),Yg=tl({encapsulation:2,styles:[],data:{}});function nv(n){return ho(0,[(n()(),Qi(0,0,null,null,82,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,0,3,"div",[["actions",""]],null,null,null,null,null)),(n()(),so(3,null,[" The uiScroll is ",", counter "," "])),(n()(),Qi(4,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),so(5,null,[" Inner loop is ",", counter: "," "])),(n()(),Qi(6,0,null,1,76,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(7,0,null,null,16,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The "])),(n()(),Qi(9,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[' has internal process layer that might be called "inner loop", which is responsible for single fetch-clip-render chain. Inner loop can be empty and non-empty. Empty inner loop does nothing but check if the '])),(n()(),Qi(12,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" could relax. Non-empty inner loop corresponds to 1 "])),(n()(),Qi(15,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[' call (which is "fetch" subprocess) and following viewport updates: clipping old items, inserting new ones and render. The '])),(n()(),Qi(18,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.loopPending"])),(n()(),so(-1,null,[" read-only property and "])),(n()(),Qi(21,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.loopPending$"])),(n()(),so(-1,null,[' subscription allow us to know whether "inner loop" is working or not. '])),(n()(),Qi(24,0,null,null,25,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The "])),(n()(),Qi(26,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["isLoading"])),(n()(),so(-1,null,[" property we discussed before majorizes "])),(n()(),Qi(29,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["loopPending"])),(n()(),so(-1,null,[" property, and this demo shows how they correlate. Here we are counting loadings and inner loops within the "])),(n()(),Qi(32,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.isLoading$"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(35,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.loopPending$"])),(n()(),so(-1,null,[" subscription handlers respectively. After the "])),(n()(),Qi(38,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" is initialized and started relaxing, we see that there are 4 inner loops done, while "])),(n()(),Qi(41,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["isLoading"])),(n()(),so(-1,null,[" counter is 1. Practically it means that we have 3 "])),(n()(),Qi(44,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" calls and 1 more empty loop to ensure that the "])),(n()(),Qi(47,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[' could relax. And these 4 inner loops are being packed into 1 "isLoading" session. '])),(n()(),Qi(50,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" So we might have 3 levels of pending: "])),(n()(),Qi(52,0,null,null,30,"ul",[],null,null,null,null,null)),(n()(),Qi(53,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),Qi(54,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" pending, which is fully manual due to the implementation of the "])),(n()(),Qi(57,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" is in our hands; "])),(n()(),Qi(60,0,null,null,12,"li",[],null,null,null,null,null)),(n()(),Qi(61,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["inner loop"])),(n()(),so(-1,null,[" pending, which is "])),(n()(),Qi(64,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["loopPending"])),(n()(),so(-1,null,[" and which includes some internal "])),(n()(),Qi(67,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" subprocesses (fetch, clip, render) that can take some time in addition to "])),(n()(),Qi(70,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[' work (which is a part of "fetch" subprocess); '])),(n()(),Qi(73,0,null,null,9,"li",[],null,null,null,null,null)),(n()(),Qi(74,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["continuous work session"])),(n()(),so(-1,null,[" pending, which is "])),(n()(),Qi(77,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["isLoading"])),(n()(),so(-1,null,[" and which consists of 1 and more inner loops that contain a single session of the internal "])),(n()(),Qi(80,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" Workflow run. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),(function(n,e){var t=e.component;n(e,3,0,t.datasource.adapter.isLoading?"loading":"relaxing",t.loadingCounter),n(e,5,0,t.datasource.adapter.loopPending?"pending":"stopped",t.innerLoopCounter)}))}var ev=function(){return function(){this.demoContext={scope:"adapter",title:"Buffer items counter",titleId:"items-count",viewportId:"items-count-viewport",count:0,log:""},this.datasource=new yh({get:cg(this.demoContext)}),this.sources=[{name:Lm.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});"},{active:!0,name:Lm.Template,text:'The uiScroll buffer has\n{{datasource.adapter.itemsCount}} items.\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}}(),tv=tl({encapsulation:2,styles:[],data:{}});function lv(n){return ho(0,[(n()(),Qi(0,0,null,null,15,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,0,1,"div",[["actions",""]],null,null,null,null,null)),(n()(),so(3,null,[" The uiScroll buffer has "," items. "])),(n()(),Qi(4,0,null,1,11,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(5,0,null,null,10,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" We may use "])),(n()(),Qi(7,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.itemsCount"])),(n()(),so(-1,null,[" read-only property to see how many items exist in the "])),(n()(),Qi(10,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" buffer at the moment. The "])),(n()(),Qi(13,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["itemsCount"])),(n()(),so(-1,null,[" value is the same as the value of DOM elements counter. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),(function(n,e){n(e,3,0,e.component.datasource.adapter.itemsCount)}))}var rv=function(){return function(){var n=this;this.demoContext={scope:"adapter",title:"Begin / end of file",titleId:"bof-eof",viewportId:"bof-eof-viewport",count:0,log:""},this.datasource=new yh({get:function(e,t,l){var r=[],i=Math.max(1,e),o=Math.min(e+t-1,100);if(i<=o)for(var u=i;u<=o;u++)r.push({id:u,text:"item #"+u});sg(n.demoContext,e,t,r.length),l(r)}}),this.edgeCounter=0,this.sources=[{name:Lm.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const MIN = 1, MAX = 100;\n    const data = [];\n    const start = Math.max(MIN, index);\n    const end = Math.min(index + count - 1, MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i, height: 20 + i });\n      }\n    }\n    success(data);\n  }\n});\n\nedgeCounter = 0;\n\nconstructor() {\n  const { eof$, bof$ } = this.datasource.adapter;\n  merge(bof$, eof$).subscribe(() => this.edgeCounter++);\n}\n"},{active:!0,name:Lm.Template,text:"Begin of file is {{datasource.adapter.bof ? '' : 'not'}} reached\n<br>\nEnd of file is {{datasource.adapter.eof ? '' : 'not'}} reached\n<br>\nBOF / EOF changes counter: {{edgeCounter}}\n\n<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>"},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}];var e=this.datasource.adapter;tn(e.bof$,e.eof$).subscribe((function(){return n.edgeCounter++}))}}(),iv=tl({encapsulation:2,styles:[],data:{}});function ov(n){return ho(0,[(n()(),Qi(0,0,null,null,45,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,0,5,"div",[["actions",""]],null,null,null,null,null)),(n()(),so(3,null,[" Begin of file is "," reached "])),(n()(),Qi(4,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),so(5,null,[" End of file is "," reached "])),(n()(),Qi(6,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),so(7,null,[" BOF / EOF changes counter: "," "])),(n()(),Qi(8,0,null,1,37,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(9,0,null,null,6,"p",[],null,null,null,null,null)),(n()(),Qi(10,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.bof"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(13,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.eof"])),(n()(),so(-1,null,[" are read-only boolean properties that indicate whether the dataset beginning (bof) or the dataset end (eof) is reached or not. "])),(n()(),Qi(16,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Along with scalar properties there are also two Observable ones: "])),(n()(),Qi(18,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.bof$"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(21,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.eof$"])),(n()(),so(-1,null,[" which are Subjects and produce new values when scalar properties change. "])),(n()(),Qi(24,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[' In this demo we have limited datasource consisting of 100 items starting from index 1. So initially we are at the left position of the available dataset, and that\'s why we see "Begin of file is reached" message. After some scrolling down '])),(n()(),Qi(26,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["bof"])),(n()(),so(-1,null,[" is turned to "])),(n()(),Qi(29,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["false"])),(n()(),so(-1,null,[". The first item is destroyed and can be retrieved again. "])),(n()(),Qi(32,0,null,null,13,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The "])),(n()(),Qi(34,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["edgeCounter"])),(n()(),so(-1,null,[" is bof/eof changes counter. It is defined via "])),(n()(),Qi(37,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["merge(bof$, eof$)"])),(n()(),so(-1,null,[" subscription which is triggered each time "])),(n()(),Qi(40,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["bof$"])),(n()(),so(-1,null,["/"])),(n()(),Qi(43,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["eof$"])),(n()(),so(-1,null,[" emits a new value. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),(function(n,e){var t=e.component;n(e,3,0,t.datasource.adapter.bof?"":"not"),n(e,5,0,t.datasource.adapter.eof?"":"not"),n(e,7,0,t.edgeCounter)}))}var uv=function(){return function(){var n=this;this.demoContext={scope:"adapter",title:"First and last visible items",titleId:"first-last-visible-items",viewportId:"first-last-visible-items-viewport",count:0,log:""},this.datasource=new yh({get:cg(this.demoContext)}),this.init=!1,this.visibleCount=0,this.sources=[{name:Lm.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nconstructor() {\n  const { firstVisible$, lastVisible$ } = this.datasource.adapter;\n  combineLatest(firstVisible$, lastVisible$)\n    .subscribe(result => {\n      const first = Number(result[0].$index);\n      const last = Number(result[1].$index);\n      this.visibleCount =\n        isNaN(first) || isNaN(last) ? 0 : last - first + 1;\n    });\n}"},{active:!0,name:Lm.Template,text:'First visible item\'s index:\n{{datasource.adapter.firstVisible.$index}}\n<br>\nLast visible item\'s index:\n{{(datasource.adapter.lastVisible$ | async)?.$index}}\n<br>\nVisible items counter: {{visibleCount}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.itemAdapterDescription="  ItemAdapter {\n    $index: number;\n    data: any;\n    element?: HTMLElement;\n  }",setTimeout((function(){return n.init=!0}));var e=this.datasource.adapter;ia([e.firstVisible$,e.lastVisible$]).subscribe((function(e){var t=Number(e[0].$index),l=Number(e[1].$index);n.visibleCount=isNaN(t)||isNaN(l)?0:l-t+1}))}}(),av=tl({encapsulation:2,styles:[],data:{}});function sv(n){return ho(0,[(n()(),Qi(0,0,null,null,6,"div",[["actions",""]],null,null,null,null,null)),(n()(),so(1,null,[" First visible item's index: "," "])),(n()(),Qi(2,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),so(3,null,[" Last visible item's index: "," "])),hr(131072,Zu,[Re]),(n()(),Qi(5,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),so(6,null,[" Visible items counter: "," "]))],null,(function(n,e){var t,l=e.component;n(e,1,0,l.datasource.adapter.firstVisible.$index),n(e,3,0,null==(t=Yt(e,3,0,Yl(e,4).transform(l.datasource.adapter.lastVisible$)))?null:t.$index),n(e,6,0,l.visibleCount)}))}function cv(n){return ho(0,[(n()(),Qi(0,0,null,null,61,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Zi(16777216,null,0,1,null,sv)),pr(3,16384,null,0,Fu,[jt,Mt],{ngIf:[0,"ngIf"]},null),(n()(),Qi(4,0,null,1,57,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(5,0,null,null,13,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The "])),(n()(),Qi(7,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter"])),(n()(),so(-1,null,[" has two read-only properties which allow to determine the first and the last visible items: "])),(n()(),Qi(10,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["firstVisible"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(13,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["lastVisible"])),(n()(),so(-1,null,[". These are the objects of special "])),(n()(),Qi(16,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["ItemAdapter"])),(n()(),so(-1,null,[" type "])),(n()(),Qi(19,0,null,null,1,"pre",[],null,null,null,null,null)),(n()(),so(20,null,["",""])),(n()(),Qi(21,0,null,null,18,"p",[],null,null,null,null,null)),(n()(),Qi(22,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["$index"])),(n()(),so(-1,null,[" corresponds to "])),(n()(),Qi(25,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" item index value; "])),(n()(),Qi(28,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["data"])),(n()(),so(-1,null,[" is what we were pushing to the "])),(n()(),Qi(31,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" on "])),(n()(),Qi(34,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" (item's content); "])),(n()(),Qi(37,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["element"])),(n()(),so(-1,null,[" is the DOM element that is relevant to our item. "])),(n()(),Qi(40,0,null,null,16,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" In addition to scalar "])),(n()(),Qi(42,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["firstVisible"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(45,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["lastVisible"])),(n()(),so(-1,null,[" properties there are also Observable versions: "])),(n()(),Qi(48,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["firstVisible$"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(51,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["lastVisible$"])),(n()(),so(-1,null,[". Both versions could be used in the template as it is shown in this demo. Also, we may have appropriate subscriptions and here in this sample we are calculating a number of visible items with the help of "])),(n()(),Qi(54,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["combineLatest"])),(n()(),so(-1,null,[" RxJs method. "])),(n()(),Qi(57,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Recalculation of the first and the last items occurs per each non-empty "])),(n()(),Qi(59,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" call after new items are retrieved and rendered and unnecessary items are clipped out. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources),n(e,3,0,t.init)}),(function(n,e){n(e,20,0,e.component.itemAdapterDescription)}))}var dv=function(){function n(){var n=this;this.demoContext={scope:"adapter",title:"Append / prepend",titleId:"append-prepend",viewportId:"append-prepend-viewport",count:0,log:""},this.inputValue=4,this.newIndex=0,this.datasource=new yh({get:function(e,t,l){for(var r=[],i=e;i<e+t;i++)r.push({id:i,text:"item #"+i});sg(n.demoContext,e,t,r.length),l(r)},settings:{startIndex:100}}),this.sources=[{name:Lm.Component,text:"data: Array<any>;\ninputValue = 4;\nnewIndex = 0;\n\ndatasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 100\n  }\n});\n\ngenerateItems(isPrepend: boolean) {\n    const items: any[] = [];\n    for (let i = 0; i < this.inputValue; i++) {\n      this.newIndex++;\n      const item = {\n        id: this.newIndex,\n        text: 'new item #' + this.newIndex + '*'\n      };\n      isPrepend ? items.unshift(item) : items.push(item);\n    }\n    return items;\n}\n\ndoPrepend() {\n  this.datasource.adapter.prepend(this.generateItems(true));\n}\n\ndoAppend() {\n  this.datasource.adapter.append(this.generateItems(false));\n}"},{active:!0,name:Lm.Template,text:'<button (click)="doAppend()">Append</button> /\n<button (click)="doPrepend()">Prepend</button>\n<input [(ngModel)]="inputValue" size="2">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return n.prototype.onInputChanged=function(n){var e=parseInt(n.value.trim(),10);n.value=e.toString(),this.inputValue=e},n.prototype.generateItems=function(n){for(var e=[],t=0;t<this.inputValue;t++){this.newIndex++;var l={id:this.newIndex,text:"new item #"+this.newIndex+"*"};n?e.unshift(l):e.push(l)}return e},n.prototype.doPrepend=function(){this.datasource.adapter.prepend(this.generateItems(!0))},n.prototype.doAppend=function(){this.datasource.adapter.append(this.generateItems(!1))},n}(),pv=tl({encapsulation:2,styles:[],data:{}});function hv(n){return ho(0,[(n()(),Qi(0,0,null,null,47,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,0,11,"div",[["actions",""],["style","display: flex"]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doAppend()&&l),l}),null,null)),(n()(),so(-1,null,["Append"])),(n()(),so(-1,null,[" / "])),(n()(),Qi(6,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doPrepend()&&l),l}),null,null)),(n()(),so(-1,null,["Prepend"])),(n()(),Qi(8,0,null,null,5,"input",[["size","2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==Yl(n,9)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==Yl(n,9).onTouched()&&l),"compositionstart"===e&&(l=!1!==Yl(n,9)._compositionStart()&&l),"compositionend"===e&&(l=!1!==Yl(n,9)._compositionEnd(t.target.value)&&l),"change"===e&&(l=!1!==r.onInputChanged(t.target)&&l),l}),null,null)),pr(9,16384,null,0,Ff,[vt,pt,[2,Uf]],null,null),fr(1024,null,zf,(function(n){return[n]}),[Ff]),pr(11,671744,null,0,Em,[[8,null],[8,null],[8,null],[6,zf]],{model:[0,"model"]},null),fr(2048,null,Wf,null,[Em]),pr(13,16384,null,0,qf,[[4,Wf]],null,null),(n()(),Qi(14,0,null,1,33,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(15,0,null,null,13,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Adding items at the end and at the beginning of the "])),(n()(),Qi(17,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" items buffer is possible with "])),(n()(),Qi(20,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.append(foo)"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(23,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.prepend(foo)"])),(n()(),so(-1,null,[" methods respectively. The argument of both methods (foo) could be an item or an array of items that we want to add. Both methods act in the same way, so let's discuss "])),(n()(),Qi(26,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["prepend"])),(n()(),so(-1,null,[". "])),(n()(),Qi(29,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[' In this demo we have 20 items on start and 5 of them (95-99) are invisible on the backward direction. By pushing "Prepend" button we are going to add 4 (which is out input value) new items to the top of the list. After they are prepended, they may become visible when scrolling up. The '])),(n()(),Qi(31,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" accurately injects prepended items into it's internal dataset, so 1-4 new items replace old items with indexes 91-94. "])),(n()(),Qi(34,0,null,null,13,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" But if we scroll away and make '90s items invisible and deleted from the viewport, and then scroll back, we will realise that nothing changes: 91-94 items have their rightful place. This is how the "])),(n()(),Qi(36,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" implemented, it does not take into account our dataset changes. Next sample provides one of the approach of consistent "])),(n()(),Qi(39,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" implementation with "])),(n()(),Qi(42,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.append"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(45,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.prepend"])),(n()(),so(-1,null,[" methods usage. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources),n(e,11,0,t.inputValue)}),(function(n,e){n(e,8,0,Yl(e,13).ngClassUntouched,Yl(e,13).ngClassTouched,Yl(e,13).ngClassPristine,Yl(e,13).ngClassDirty,Yl(e,13).ngClassValid,Yl(e,13).ngClassInvalid,Yl(e,13).ngClassPending)}))}var fv=function(){function n(){var n=this;this.demoContext={scope:"adapter",title:"Append / prepend sync",titleId:"append-prepend-sync",viewportId:"append-prepend-sync-viewport",count:0,log:""},this.MIN=100,this.MAX=200,this.datasource=new yh({get:function(e,t,l){for(var r=[],i=function(e){var t=n.data.find((function(n){return n.id===e}));t&&r.push(t)},o=e;o<e+t;o++)i(o);sg(n.demoContext,e,t,r.length),l(r)},settings:{startIndex:this.MIN}}),this.sources=[{name:Lm.Component,text:"MIN = 100;\nMAX = 200;\ninputValue = 1;\ndata: Array<any>;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i });\n  }\n}\n\ndatasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      const found = this.data.find(item => item.id === i);\n      if (found) {\n        data.push(found);\n      }\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: this.MIN\n  }\n});\n\ndoAppend() {\n  const items = [];\n  for (let i = 0; i < this.inputValue; i++) {\n    this.MAX++;\n    const newItem = {\n      id: this.MAX,\n      text: 'item #' + this.MAX + '*'\n    };\n    this.data.push(newItem);\n    items.push(newItem);\n  }\n  this.datasource.adapter.append(items, true);\n}\n\ndoPrepend() {\n  const items = [];\n  for (let i = 0; i < this.inputValue; i++) {\n    this.MIN--;\n    const newItem = {\n      id: this.MIN,\n      text: 'item #' + this.MIN + '*'\n    };\n    this.data.unshift(newItem);\n    items.push(newItem);\n  }\n  this.datasource.adapter.prepend(items, true);\n}"},{active:!0,name:Lm.Template,text:'<button (click)="doAppend()">Append</button> /\n<button (click)="doPrepend()">Prepend</button>\n<input [(ngModel)]="inputValue" size="2">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.inputValue=1,this.data=[];for(var e=this.MIN;e<=this.MAX;e++)this.data.push({id:e,text:"item #"+e})}return n.prototype.onInputChanged=function(n){var e=parseInt(n.value.trim(),10);n.value=e.toString(),this.inputValue=e},n.prototype.doAppend=function(){for(var n=[],e=0;e<this.inputValue;e++){this.MAX++;var t={id:this.MAX,text:"item #"+this.MAX+"*"};this.data.push(t),n.push(t)}this.datasource.adapter.append(n,!0)},n.prototype.doPrepend=function(){for(var n=[],e=0;e<this.inputValue;e++){this.MIN--;var t={id:this.MIN,text:"item #"+this.MIN+"*"};this.data.unshift(t),n.push(t)}this.datasource.adapter.prepend(n,!0)},n}(),mv=tl({encapsulation:2,styles:[],data:{}});function gv(n){return ho(0,[(n()(),Qi(0,0,null,null,82,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,0,11,"div",[["actions",""],["style","display: flex"]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doAppend()&&l),l}),null,null)),(n()(),so(-1,null,["Append"])),(n()(),so(-1,null,[" / "])),(n()(),Qi(6,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doPrepend()&&l),l}),null,null)),(n()(),so(-1,null,["Prepend"])),(n()(),Qi(8,0,null,null,5,"input",[["size","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==Yl(n,9)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==Yl(n,9).onTouched()&&l),"compositionstart"===e&&(l=!1!==Yl(n,9)._compositionStart()&&l),"compositionend"===e&&(l=!1!==Yl(n,9)._compositionEnd(t.target.value)&&l),"change"===e&&(l=!1!==r.onInputChanged(t.target)&&l),l}),null,null)),pr(9,16384,null,0,Ff,[vt,pt,[2,Uf]],null,null),fr(1024,null,zf,(function(n){return[n]}),[Ff]),pr(11,671744,null,0,Em,[[8,null],[8,null],[8,null],[6,zf]],{model:[0,"model"]},null),fr(2048,null,Wf,null,[Em]),pr(13,16384,null,0,qf,[[4,Wf]],null,null),(n()(),Qi(14,0,null,1,68,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(15,0,null,null,25,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Both "])),(n()(),Qi(17,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.append"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(20,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.prepend"])),(n()(),so(-1,null,[" methods have second argument which is optional and which allows to prevent rendering of new items in the Viewport when the end of the dataset (if we are speaking of "])),(n()(),Qi(23,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["append"])),(n()(),so(-1,null,[") or beginning of the dataset ("])),(n()(),Qi(26,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["prepend"])),(n()(),so(-1,null,[" case) is not reached. The "])),(n()(),Qi(29,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["append"])),(n()(),so(-1,null,[" second argument is called "])),(n()(),Qi(32,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["eof"])),(n()(),so(-1,null,[" (end-of-file), the "])),(n()(),Qi(35,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["prepend"])),(n()(),so(-1,null,[" second argument is called "])),(n()(),Qi(38,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["bof"])),(n()(),so(-1,null,[" (begin-of-file). "])),(n()(),Qi(41,0,null,null,13,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Let's discuss "])),(n()(),Qi(43,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.prepend(items, bof)"])),(n()(),so(-1,null,[" case. So if "])),(n()(),Qi(46,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["bof"])),(n()(),so(-1,null,[" is set to "])),(n()(),Qi(49,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["true"])),(n()(),so(-1,null,[" and the beginning of the dataset is reached (and no more items can be fetched in backward direction), then new items will be injected immediately. Otherwise new items will not appear, they will be virtualized: viewport backward padding element size will be increased in accordance with the number of new items multiplied by the average item size. The same is true for "])),(n()(),Qi(52,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.append(items, eof)"])),(n()(),so(-1,null,[" adjusted for forward direction and forward padding element. "])),(n()(),Qi(55,0,null,null,22,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" In this demo we want the datasource to be consistent with the dataset changes made during append/prepend. For this purpose a limited dataset is initialized on the constructor and "])),(n()(),Qi(57,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" takes items by "])),(n()(),Qi(60,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["id"])),(n()(),so(-1,null,[", not by index. We can't rely on index because we are going to update our dataset per each "])),(n()(),Qi(63,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["doAppend"])),(n()(),so(-1,null,[" / "])),(n()(),Qi(66,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["doPrepend"])),(n()(),so(-1,null,[" calls destructively by "])),(n()(),Qi(69,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["unshift"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(72,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["push"])),(n()(),so(-1,null,[". This will guarantee stable data flow from the App component to the "])),(n()(),Qi(75,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[". "])),(n()(),Qi(78,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Practical use of this feature could be versatile, but the main idea is to synchronize, say, remote dataset changes with the "])),(n()(),Qi(80,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" state visible to the end user. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources),n(e,11,0,t.inputValue)}),(function(n,e){n(e,8,0,Yl(e,13).ngClassUntouched,Yl(e,13).ngClassTouched,Yl(e,13).ngClassPristine,Yl(e,13).ngClassDirty,Yl(e,13).ngClassValid,Yl(e,13).ngClassInvalid,Yl(e,13).ngClassPending)}))}var vv=function(){function n(){var n=this;this.demoContext={scope:"adapter",title:"Check size",titleId:"check-size",viewportId:"check-size-viewport",count:0,log:""},this.MIN=1,this.MAX=200,this.startIndex=20,this.sizeValue=15,this.datasource=new yh({get:function(e,t,l){for(var r=[],i=function(e){var t=n.data.find((function(n){return n.id===e}));t&&r.push(t)},o=e;o<e+t;o++)i(o);sg(n.demoContext,e,t,r.length),l(r)},settings:{startIndex:this.startIndex}}),this.sources=[{name:Lm.Component,text:"MIN = 1;\nMAX = 200;\nstartIndex = 20;\nsizeValue = 15;\ndata: Array<any>;\nneedAutoscroll: false;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i, height: 50 });\n  }\n}\n\ndatasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      const found = this.data.find(item => item.id === i);\n      if (found) {\n        data.push(found);\n      }\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: this.startIndex\n  }\n});\n\nfindElement(index: number) {\n  const viewportElement = document.getElementById(this.demoContext.viewportId);\n  return viewportElement\n    ? viewportElement.querySelector(`[data-sid=\"${index}\"]`)\n    : null;\n}\n\ndoChangeSize() {\n  const index = Number(this.startIndex - 5);\n  if (!isNaN(index)) {\n    for (let i = index; i < index + 10; i++) {\n      const element = this.findElement(i);\n      if (element) {\n        (<HTMLElement>element).style.height = this.sizeValue + 'px';\n        const item = this.data.find(_item => _item.id === i);\n        if (item) {\n          item.height = this.sizeValue;\n        }\n      }\n    }\n  }\n}\n\nautoscroll(index: number) {\n  const { adapter } = this.datasource;\n  let isLoadingSubscription: Subscription;\n  const done = () => isLoadingSubscription && isLoadingSubscription.unsubscribe();\n  isLoadingSubscription = adapter.isLoading$.subscribe(isLoading => {\n    if (isLoading) {\n      return;\n    }\n    const element = this.findElement(index);\n    const viewportElement = document.getElementById(this.demoContext.viewportId);\n    if (!element || !viewportElement) {\n      done();\n      return;\n    }\n    const elementTop = element.getBoundingClientRect().top;\n    const viewportTop = viewportElement.getBoundingClientRect().top;\n    const toScroll = viewportTop - elementTop;\n    const diff = viewportElement.scrollTop - toScroll;\n    if (viewportElement.scrollTop === diff) {\n      done();\n    } else {\n      adapter.fix({ scrollPosition: diff });\n      if (viewportElement.scrollTop === diff) {\n        done();\n      }\n    }\n  });\n}\n\ndoCheck() {\n  let firstVisibleIndex;\n  if (this.needAutoscroll) {\n    firstVisibleIndex = this.datasource.adapter.firstVisible.$index;\n  }\n  this.doChangeSize();\n  this.datasource.adapter.check();\n  if (firstVisibleIndex !== undefined) {\n    this.autoscroll(firstVisibleIndex);\n  }\n}"},{active:!0,name:Lm.Template,text:'<button (click)="doCheck(20)">Resize and Check</button>\n<br />\nAutoscroll: <input type="checkbox" [(ngModel)]="needAutoscroll"/>\n<br />\nFirst visible item\'s index: {{datasource.adapter.firstVisible.$index}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n  overflow-y: hidden;\n}"}],this.data=[];for(var e=this.MIN;e<=this.MAX;e++)this.data.push({id:e,text:"item #"+e,height:50})}return n.prototype.findElement=function(n){var e=document.getElementById(this.demoContext.viewportId);return e?e.querySelector('[data-sid="'+n+'"]'):null},n.prototype.doChangeSize=function(){var n=Number(this.startIndex-5);if(!isNaN(n))for(var e=function(n){var e=t.findElement(n);if(e){e.style.height=t.sizeValue+"px";var l=t.data.find((function(e){return e.id===n}));l&&(l.height=t.sizeValue)}},t=this,l=n;l<n+10;l++)e(l)},n.prototype.autoscroll=function(n){var e,t=this,l=this.datasource.adapter,r=function(){return e&&e.unsubscribe()};e=l.isLoading$.subscribe((function(e){if(!e){var i=t.findElement(n),o=document.getElementById(t.demoContext.viewportId);if(i&&o){var u=i.getBoundingClientRect().top,a=o.getBoundingClientRect().top,s=o.scrollTop-(a-u);o.scrollTop===s?r():(l.fix({scrollPosition:s}),o.scrollTop===s&&r())}else r()}}))},n.prototype.doCheck=function(){var n;this.needAutoscroll&&(n=this.datasource.adapter.firstVisible.$index),this.doChangeSize(),this.datasource.adapter.check(),void 0!==n&&this.autoscroll(n)},n}(),yv=tl({encapsulation:2,styles:[],data:{}});function bv(n){return ho(0,[(n()(),Qi(0,0,null,null,40,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,0,12,"div",[["actions",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doCheck()&&l),l}),null,null)),(n()(),so(-1,null,["Resize and Check"])),(n()(),Qi(5,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),so(-1,null,[" Autoscroll: "])),(n()(),Qi(7,0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==Yl(n,8).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==Yl(n,8).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.needAutoscroll=t)&&l),l}),null,null)),pr(8,16384,null,0,Lf,[vt,pt],null,null),fr(1024,null,zf,(function(n){return[n]}),[Lf]),pr(10,671744,null,0,Em,[[8,null],[8,null],[8,null],[6,zf]],{model:[0,"model"]},{update:"ngModelChange"}),fr(2048,null,Wf,null,[Em]),pr(12,16384,null,0,qf,[[4,Wf]],null,null),(n()(),Qi(13,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),so(14,null,[" First visible item's index: "," "])),(n()(),Qi(15,0,null,1,25,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(16,0,null,null,9,"p",[],null,null,null,null,null)),(n()(),Qi(17,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.check"])),(n()(),so(-1,null,[" method could be useful when rows heights can change after rendering. By invoking "])),(n()(),Qi(20,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.check()"])),(n()(),so(-1,null,[" we ask the "])),(n()(),Qi(23,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" to check if any of items that are in current viewport's buffer changed their size. "])),(n()(),Qi(26,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" In this demo method "])),(n()(),Qi(28,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["doCheck"])),(n()(),so(-1,null,[" is implemented to "])),(n()(),Qi(31,0,null,null,9,"ul",[],null,null,null,null,null)),(n()(),Qi(32,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["change real size of items (from 15 to 25) in DOM;"])),(n()(),Qi(34,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["run "])),(n()(),Qi(36,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.check()"])),(n()(),so(-1,null,[";"])),(n()(),Qi(39,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["autoscroll to item that was first visible before change (optionally)."]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources),n(e,10,0,t.needAutoscroll)}),(function(n,e){var t=e.component;n(e,7,0,Yl(e,12).ngClassUntouched,Yl(e,12).ngClassTouched,Yl(e,12).ngClassPristine,Yl(e,12).ngClassDirty,Yl(e,12).ngClassValid,Yl(e,12).ngClassInvalid,Yl(e,12).ngClassPending),n(e,14,0,t.datasource.adapter.firstVisible.$index)}))}var wv=function(){function n(){var n=this;this.demoContext={scope:"adapter",title:"Remove",titleId:"remove",viewportId:"remove-viewport",addClass:"remove",count:0,log:""},this.MIN=-50,this.MAX=50,this.datasource=new yh({get:function(e,t,l){for(var r=[],i=function(e){var t=n.data.find((function(n){return n.id===e}));t&&r.push(t)},o=e;o<e+t;o++)i(o);sg(n.demoContext,e,t,r.length),l(r)}}),this.sources=[{name:Lm.Component,text:"MIN = -50;\nMAX = 50;\ndata: Array<any>;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i });\n  }\n}\n\ndatasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      const found = this.data.find(item => item.id === i);\n      if (found) {\n        data.push(found);\n      }\n    }\n    success(data);\n  }\n});\n\ndoRemoveDatasource(id: number) {\n  this.data = this.data.reduce((acc, item) => {\n    if (item.id !== id) {\n      if (item.id > id) {\n        item.id--;\n      }\n      acc.push(item);\n    }\n    return acc;\n  }, []);\n  this.MAX = this.data[this.data.length - 1].id;\n}\n\ndoRemove(id: number) {\n  this.datasource.adapter.remove(({ data }) => data.id === id);\n  this.doRemoveDatasource(id);\n}"},{active:!0,name:Lm.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">\n      {{item.text}}\n      <span class="remove" (click)="doRemove(item.id)">[remove]</span>\n    </div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.remove {\n  font-weight: normal;\n  font-size: smaller;\n  cursor: pointer;\n}\n.remove:hover {\n  color: rgb(158, 0, 0);\n}"}],this.predicateDescription="  this.datasource.adapter.remove(({ data }) => data.id === id);",this.data=[];for(var e=this.MIN;e<=this.MAX;e++)this.data.push({id:e,text:"item #"+e})}return n.prototype.doRemoveDatasource=function(n){this.data=this.data.reduce((function(e,t){return t.id!==n&&(t.id>n&&t.id--,e.push(t)),e}),[]),this.MAX=this.data[this.data.length-1].id},n.prototype.doRemove=function(n){this.datasource.adapter.remove((function(e){return e.data.id===n})),this.doRemoveDatasource(n)},n}(),xv=tl({encapsulation:2,styles:[],data:{}});function _v(n){return ho(0,[(n()(),so(0,null,[" "," "])),(n()(),Qi(1,0,null,null,1,"span",[["class","remove"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doRemove(n.context.item.id)&&l),l}),null,null)),(n()(),so(-1,null,["[remove]"]))],null,(function(n,e){n(e,0,0,e.context.item.text)}))}function Cv(n){return ho(0,[(n()(),Zi(0,[["itemTemplate",2]],null,0,null,_v)),(n()(),Qi(1,0,null,null,42,"app-demo",[],null,null,null,ug,Zm)),pr(2,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"],itemTemplate:[3,"itemTemplate"]},null),(n()(),Qi(3,0,null,1,40,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(4,0,null,null,6,"p",[],null,null,null,null,null)),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.remove"])),(n()(),so(-1,null,[" method allows to remove items from current "])),(n()(),Qi(8,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" buffer. This method accepts 1 argument which is a predicate function applying to each item in the current buffer. If the return value is true, the item will be removed. In this demo we have pretty simple predicate: "])),(n()(),Qi(11,0,null,null,1,"pre",[],null,null,null,null,null)),(n()(),so(12,null,["",""])),(n()(),Qi(13,0,null,null,13,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Since the argument of the predicate has "])),(n()(),Qi(15,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["ItemAdapter"])),(n()(),so(-1,null,[" type, the "])),(n()(),Qi(18,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["data"])),(n()(),so(-1,null,[" contains id-text objects defined at the component level. The argument of "])),(n()(),Qi(21,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["doRemove"])),(n()(),so(-1,null,[" method comes from the template as the "])),(n()(),Qi(24,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["id"])),(n()(),so(-1,null,[" of the item the user clicked on. "])),(n()(),Qi(27,0,null,null,16,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The very important thing is to synchronize our datasource with the changes we are making over the "])),(n()(),Qi(29,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" buffer via "])),(n()(),Qi(32,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.remove"])),(n()(),so(-1,null,[". Generally this is the App component responsibility, and in this demo it happens via "])),(n()(),Qi(35,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["doRemoveDatasource(id)"])),(n()(),so(-1,null,[" method. It removes item with given "])),(n()(),Qi(38,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["id"])),(n()(),so(-1,null,[" from the initial dataset, and decrements "])),(n()(),Qi(41,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["id"])),(n()(),so(-1,null,[" of all items whose ids are greater than the given one. "]))],(function(n,e){var t=e.component;n(e,2,0,t.datasource,t.demoContext,t.sources,Yl(e,0))}),(function(n,e){n(e,12,0,e.component.predicateDescription)}))}var Sv=function(){function n(){this.demoContext={scope:"adapter",title:"Clip",titleId:"clip",viewportId:"clip-viewport",count:0,log:""},this.datasource=new yh({get:cg(this.demoContext),settings:{infinite:!0}}),this.sources=[{name:Lm.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    infinite: true\n  }\n});\n\ndoClip() {\n  this.datasource.adapter.clip();\n}"},{active:!0,name:Lm.Template,text:'<button (click)="doClip()">Clip</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.clipOptionsDescription="  AdapterClipOptions {\n    forwardOnly?: boolean;\n    backwardOnly?: boolean;\n  }",this.clipOptionsSample="{ forwardOnly: true }"}return n.prototype.doClip=function(){this.datasource.adapter.clip()},n}(),Iv=tl({encapsulation:2,styles:[],data:{}});function kv(n){return ho(0,[(n()(),Qi(0,0,null,null,49,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,0,2,"div",[["actions",""],["style","display: flex"]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doClip()&&l),l}),null,null)),(n()(),so(-1,null,["Clip"])),(n()(),Qi(5,0,null,1,44,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(6,0,null,null,18,"p",[],null,null,null,null,null)),(n()(),Qi(7,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.clip"])),(n()(),so(-1,null,[" is another "])),(n()(),Qi(10,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter"])),(n()(),so(-1,null,[" API method allowing to remove out-of-viewport items on demand. Commonly, the "])),(n()(),Qi(13,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" runs the clipping procedure each time new items are fetched after scrolling. Also, the "])),(n()(),Qi(16,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" clips old items from a side of the viewport that is opposite to a side where new items appear. This is one of the core parts of the virtualization concept. By invoking the "])),(n()(),Qi(19,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.clip"])),(n()(),so(-1,null,[" method we are telling the "])),(n()(),Qi(22,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" to run this process immediately and remove items that are out of the visible part of the viewport in both directions or in specific direction. "])),(n()(),Qi(25,0,null,null,10,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" This could be useful when we enlarge the list of items manually, via "])),(n()(),Qi(27,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.append"])),(n()(),so(-1,null,[" or "])),(n()(),Qi(30,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,[".prepend"])),(n()(),so(-1,null,[" methods. For example, we appended 100 new items and started scrolling down, in forward direction. We might want the items that exit the viewport in backward direction to be clipped. Such a clipping will occur automatically only when we reach the bottom line of the buffer and new items are fetched and rendered in forward direction. If we don't want to wait, we just call "])),(n()(),Qi(33,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.clip"])),(n()(),so(-1,null,[". "])),(n()(),Qi(36,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" This demo implements some artificial but quite illustrative case. Here we disabled virtualization by turning on the "])),(n()(),Qi(38,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["infinite"])),(n()(),so(-1,null,[' setting. Clipping will never happen automatically. We see how the DOM elements counter value is getting bigger and bigger as we scroll on and on. By pressing the "Clip" button, we let only 20-21 items to survive. This way a kind of manual virtualization could be implemented. '])),(n()(),Qi(41,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The method has an argument object that allows to run clipping process only in one direction: "])),(n()(),Qi(43,0,null,null,1,"pre",[],null,null,null,null,null)),(n()(),so(44,null,["",""])),(n()(),Qi(45,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" So, if we call "])),(n()(),Qi(47,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(48,null,["Adapter.clip(",")"])),(n()(),so(-1,null,[", only those items that are out of the bottom edge of the visible part of the viewport will be clipped out. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),(function(n,e){var t=e.component;n(e,44,0,t.clipOptionsDescription),n(e,48,0,t.clipOptionsSample)}))}var Ev=function(){return function(){this.importSample="  import { Datasource } from 'ngx-ui-scroll';",this.datasourceSample="  datasource = new Datasource({\n    get: ... ,\n    settings: { ... }\n  });"}}(),Tv=tl({encapsulation:2,styles:[],data:{}});function Pv(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),so(-1,null,["Angular UI Scroll Adapter Demos"])),(n()(),Qi(2,0,null,null,15,"p",[],null,null,null,null,null)),(n()(),Qi(3,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter"])),(n()(),so(-1,null,[" is a special object to assess and manipulate the "])),(n()(),Qi(6,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[". The API it provides is  discussed on this page. Currently the only way to receive the "])),(n()(),Qi(9,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter"])),(n()(),so(-1,null,[" is to instantiate the "])),(n()(),Qi(12,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" via operator "])),(n()(),Qi(15,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["new"])),(n()(),so(-1,null,[":\n"])),(n()(),Qi(18,0,null,null,1,"pre",[],null,null,null,null,null)),(n()(),so(19,null,["",""])),(n()(),Qi(20,0,null,null,31,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The constructor argument is an object of "])),(n()(),Qi(22,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["IDatasource"])),(n()(),so(-1,null,[" type which must include "])),(n()(),Qi(25,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["get"])),(n()(),so(-1,null,[" method property and may include "])),(n()(),Qi(28,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["settings"])),(n()(),so(-1,null,[" object property. The "])),(n()(),Qi(31,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" augments the result "])),(n()(),Qi(34,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" object with the "])),(n()(),Qi(37,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter"])),(n()(),so(-1,null,[" object property during instantiating. So, after the "])),(n()(),Qi(40,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" object had been instantiated, we may access "])),(n()(),Qi(43,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["this.datasource.adapter"])),(n()(),so(-1,null,[" property object with its API methods and properties. "])),(n()(),Qi(46,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" definition could be imported from the "])),(n()(),Qi(49,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["UiScrollModule"])),(n()(),so(-1,null,[":\n"])),(n()(),Qi(52,0,null,null,1,"pre",[],null,null,null,null,null)),(n()(),so(53,null,["",""])),(n()(),Qi(54,0,null,null,1,"app-demo-reload",[],null,null,null,Zg,Gg)),pr(55,49152,null,0,qg,[],null,null),(n()(),Qi(56,0,null,null,1,"app-demo-is-loading",[],null,null,null,Xg,Kg)),pr(57,49152,null,0,Qg,[],null,null),(n()(),Qi(58,0,null,null,1,"app-demo-is-loading-advanced",[],null,null,null,nv,Yg)),pr(59,49152,null,0,Jg,[],null,null),(n()(),Qi(60,0,null,null,1,"app-demo-items-count",[],null,null,null,lv,tv)),pr(61,49152,null,0,ev,[],null,null),(n()(),Qi(62,0,null,null,1,"app-demo-bof-eof",[],null,null,null,ov,iv)),pr(63,49152,null,0,rv,[],null,null),(n()(),Qi(64,0,null,null,1,"app-demo-first-last-visible-items",[],null,null,null,cv,av)),pr(65,49152,null,0,uv,[],null,null),(n()(),Qi(66,0,null,null,1,"app-demo-append-prepend",[],null,null,null,hv,pv)),pr(67,49152,null,0,dv,[],null,null),(n()(),Qi(68,0,null,null,1,"app-demo-append-prepend-sync",[],null,null,null,gv,mv)),pr(69,49152,null,0,fv,[],null,null),(n()(),Qi(70,0,null,null,1,"app-demo-check-size",[],null,null,null,bv,yv)),pr(71,49152,null,0,vv,[],null,null),(n()(),Qi(72,0,null,null,1,"app-demo-remove",[],null,null,null,Cv,xv)),pr(73,49152,null,0,wv,[],null,null),(n()(),Qi(74,0,null,null,1,"app-demo-clip",[],null,null,null,kv,Iv)),pr(75,49152,null,0,Sv,[],null,null)],null,(function(n,e){var t=e.component;n(e,19,0,t.datasourceSample),n(e,53,0,t.importSample)}))}function Av(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"app-samples-adapter",[],null,null,null,Pv,Tv)),pr(1,49152,null,0,Ev,[],null,null)],null,null)}var Ov=Hl("app-samples-adapter",Ev,Av,{},{},[]),Dv=function(){return function(){this.demoContext={scope:"datasource",title:"Datasource get-method signatures",titleId:"datasource-get-signatures",noWorkView:!0},this.sources=[{name:Lm.Datasource,text:"datasourceCallback: IDatasource = {\n  get: (index, count, success) =>\n    success(this.getData(index, count))\n};\n\ndatasourcePromise: IDatasource = {\n  get: (index, count) => new Promise(resolve =>\n    resolve(this.getData(index, count))\n  )\n};\n\ndatasourceObservable: IDatasource = {\n  get: (index, count) => Observable.create(observer =>\n    observer.next(this.getData(index, count))\n};\n\ndatasourcePromise2: IDatasource = {\n  get: (index, count) =>\n    this.getDataPromise(index, count)\n};\n\ndatasourceObservable2: IDatasource = {\n  get: (index, count) =>\n    this.getDataObservable(index, count)\n};"}]}}(),Nv=tl({encapsulation:2,styles:[],data:{}});function Rv(n){return ho(0,[(n()(),Qi(0,0,null,null,57,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{context:[0,"context"],sources:[1,"sources"]},null),(n()(),Qi(2,0,null,1,55,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,13,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" All the datasources listed above are valid. The first version ("])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["datasourceCallback"])),(n()(),so(-1,null,[") introduces simplest callback-based signature when we need to pass third function argument and call it explicitly with the items array argument. We assume that "])),(n()(),Qi(8,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["this.getData(index, count)"])),(n()(),so(-1,null,[" returns appropriate part of the dataset we want to virtualize, which is an array of "])),(n()(),Qi(11,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["count"])),(n()(),so(-1,null,[" items started from "])),(n()(),Qi(14,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["index"])),(n()(),so(-1,null,[" position. "])),(n()(),Qi(17,0,null,null,18,"p",[],null,null,null,null,null)),(n()(),Qi(18,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["datasourcePromise"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(21,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["datasourcePromise2"])),(n()(),so(-1,null,[" introduce promise-based signature when an object of "])),(n()(),Qi(24,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Promise"])),(n()(),so(-1,null,[" type needs to be returned. Resolving this promise is our responsibility, and we assume that "])),(n()(),Qi(27,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["this.getDataPromise"])),(n()(),so(-1,null,[" method resolves necessary part of the dataset based on "])),(n()(),Qi(30,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["index"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(33,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["count"])),(n()(),so(-1,null,[" parameters. "])),(n()(),Qi(36,0,null,null,21,"p",[],null,null,null,null,null)),(n()(),Qi(37,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["datasourceObservable"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(40,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["datasourceObservable2"])),(n()(),so(-1,null,[" introduce observable-based signature when an object of "])),(n()(),Qi(43,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Observable"])),(n()(),so(-1,null,[" type needs to be returned. Similar to promise case we need to be sure that the "])),(n()(),Qi(46,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["next"])),(n()(),so(-1,null,[" method is called in appropriate time, and we assume that "])),(n()(),Qi(49,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["this.getDataObservable"])),(n()(),so(-1,null,[" method that delivers necessary part of the dataset based on "])),(n()(),Qi(52,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["index"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(55,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["count"])),(n()(),so(-1,null,[" parameters. "]))],(function(n,e){var t=e.component;n(e,1,0,t.demoContext,t.sources)}),null)}var Mv=function(){return function(){var n=this;this.demoContext={scope:"datasource",title:"Unlimited bidirectional datasource",titleId:"unlimited-bidirectional",logViewOnly:!0,log:"",count:0},this.datasource={get:function(e,t,l){for(var r=[],i=e;i<=e+t-1;i++)r.push({id:i,text:"item #"+i});sg(n.demoContext,e,t,r.length),l(r)}},this.sources=[{name:Lm.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n};"}]}}(),Vv=tl({encapsulation:2,styles:[],data:{}});function jv(n){return ho(0,[(n()(),Qi(0,0,null,null,30,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,1,28,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,16,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The datasource implemented here has no boundaries. The result "])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["data"])),(n()(),so(-1,null,[" array will consist of "])),(n()(),Qi(8,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["count"])),(n()(),so(-1,null,[" items started from "])),(n()(),Qi(11,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["index"])),(n()(),so(-1,null,[" position regardless of "])),(n()(),Qi(14,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["count"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(17,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["index"])),(n()(),so(-1,null,[" values. They could be any finite integers. "])),(n()(),Qi(20,0,null,null,10,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" This sample as well as following ones does include "])),(n()(),Qi(22,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" method log telling us how many items are fetched by the "])),(n()(),Qi(25,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" via "])),(n()(),Qi(28,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[". "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var zv=function(){return function(){var n=this;this.demoContext={scope:"datasource",title:"Limited datasource",titleId:"limited",logViewOnly:!0,log:"",count:0},this.MIN=-99,this.MAX=900,this.datasource={get:function(e,t,l){var r=[],i=Math.max(n.MIN,e),o=Math.min(e+t-1,n.MAX);if(i<=o)for(var u=i;u<=o;u++)r.push({id:u,text:"item #"+u});sg(n.demoContext,e,t,r.length),l(r)}},this.sources=[{name:Lm.Datasource,text:"MIN = -99;\nMAX = 900;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(this.MIN, index);\n    const end = Math.min(index + count - 1, this.MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n    }\n    success(data);\n  }\n};"}]}}(),Lv=tl({encapsulation:2,styles:[],data:{}});function Uv(n){return ho(0,[(n()(),Qi(0,0,null,null,24,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,1,22,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The datasource could be limited. In this sample we have only 1000 items in the dataset: from -99 to 900 including 0. If at some point the "])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" will request this datasource for, say, 10 items started from -105 index, then the result will consist of only 4 items: -99, -98, -97, -96. It is also important to return empty array if we are out of range. "])),(n()(),Qi(8,0,null,null,16,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Another option of how to limit the datasource is to use "])),(n()(),Qi(10,0,null,null,1,"a",[["href","#/#min-max-indexes"]],null,null,null,null,null)),(n()(),so(-1,null,["minIndex and maxIndex settings"])),(n()(),so(-1,null,["; this way the implementation of the "])),(n()(),Qi(13,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" method could remain unlimited as the "])),(n()(),Qi(16,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" will not request for items that are out of ["])),(n()(),Qi(19,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["minIndex"])),(n()(),so(-1,null,["; "])),(n()(),Qi(22,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["maxIndex"])),(n()(),so(-1,null,["] range. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var Fv=function(){return function(){var n=this;this.demoContext={scope:"datasource",title:"Positive limited datasource",titleId:"positive-limited-indexes",logViewOnly:!0,log:"",count:0},this.datasource={get:function(e,t,l){var r=[],i=Math.max(1,e),o=e+t-1;if(i<=o)for(var u=i;u<=o;u++)r.push({id:u,text:"item #"+u});sg(n.demoContext,e,t,r.length),l(r)}},this.sources=[{name:Lm.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(1, index); // or 0\n    const end = index + count - 1;\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n    }\n    success(data);\n  }\n};"}]}}(),Hv=tl({encapsulation:2,styles:[],data:{}});function Bv(n){return ho(0,[(n()(),Qi(0,0,null,null,18,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,1,16,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" If we are not going to deal with negative indexes, we can fix the datasource left boundary at 1 (or 0 depends on your needs). This is a particular case of limited datasource discussed above with only "])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["MIN"])),(n()(),so(-1,null,[" value set up. Also, positive limitation could be alternatively achieved by assigning 1 (or 0) value to "])),(n()(),Qi(8,0,null,null,1,"a",[["href","#/#min-max-indexes"]],null,null,null,null,null)),(n()(),so(-1,null,["minIndex setting"])),(n()(),so(-1,null,[". "])),(n()(),Qi(11,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" Note that if 0 index is the left boundary of the dataset, then it seems reasonable to assign 0 value to "])),(n()(),Qi(13,0,null,null,1,"a",[["href","#/#start-index"]],null,null,null,null,null)),(n()(),so(-1,null,["startIndex setting"])),(n()(),so(-1,null,[" too, because the default "])),(n()(),Qi(16,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["startIndex"])),(n()(),so(-1,null,[" value is 1. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var $v=function(){function n(n){this.http=n}return n.prototype.getData=function(n,e){return this.http.get("/api/data?index="+n+"&count="+e)},n}(),Wv=function(){return function(n){var e=this;this.remoteDataService=n,this.demoContext={scope:"datasource",title:"Remote datasource",titleId:"remote",logViewOnly:!0,log:"",count:0},this.datasource={get:function(n,t){return e.demoContext.log=++e.demoContext.count+") get items ["+n+".."+(n+t-1)+"]\n"+e.demoContext.log,e.remoteDataService.getData(n,t)}},this.sources=[{name:"Service/Component",text:"@Injectable()\nexport class RemoteDataService {\n\n  constructor(private http: HttpClient) {\n  }\n\n  getData(index: number, count: number): Observable<any> {\n    return this.http.get(\n      `/api/data?index=${index}&count=${count}`\n    );\n  }\n}\n\n@Component(...)\nexport class DemoRemoteDatasourceComponent {\n\n  datasource: IDatasource = {\n    get: (index, count) =>\n      this.remoteDataService.getData(index, count)\n  };\n\n  constructor(private remoteDataService: RemoteDataService) {\n  }\n}"},{name:Lm.Server,text:"const MIN = -99;\nconst MAX = 900;\n\napp.get('/api/data', (req, res) => {\n  const index = parseInt(req.query.index, 10);\n  const count = parseInt(req.query.count, 10);\n  if (isNaN(index) || isNaN(count)) {\n    return res.send([]);\n  }\n  const start = Math.max(MIN, index);\n  const end = Math.min(index + count - 1, MAX);\n  if (start > end) {\n    return res.send([]);\n  }\n  const result = [];\n  for (let i = start; i <= end; i++) {\n    result.push({ id: i, text: 'item #' + i });\n  }\n  res.send(result);\n});"}]}}(),qv=tl({encapsulation:2,styles:[],data:{}});function Gv(n){return ho(0,[(n()(),Qi(0,0,null,null,10,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,1,8,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" In case the source of data is accessible via some remote API, the "])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" could be implemented using Observable signature. In this demo handling "])),(n()(),Qi(8,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["/api/data"])),(n()(),so(-1,null,[' GET requests is a part of node.js application ("Server" tab). Again and again, the only requirement is that our API handler must return an array of index-count items or empty array if we are out of range. ']))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var Zv=function(){function n(){var n=this;this.context={scope:"datasource",title:"Inverted datasource",titleId:"inverted-indexes",noWorkView:!0},this.MIN=1,this.datasourceCommon={get:function(e,t,l){return l(n.getData(e,t))}},this.datasourceInverted={get:function(e,t,l){l(n.getData(-e-t+n.MIN,t).reverse())},settings:{startIndex:-10}},this.sources=[{name:Lm.Component,text:"MIN = 1;\n\ndatasourceCommon: IDatasource = {\n  get: (index, count, success) =>\n    success(this.getData(index, count))\n};\n\ndatasourceInverted: IDatasource = {\n  get: (index, count, success) => {\n    const _index = -index - count + this.MIN;\n    const data = this.getData(_index, count).reverse();\n    success(data);\n  },\n  settings: {\n    startIndex: -10\n  }\n};\n\ngetData(index: number, count: number) {\n  const data = [];\n  const start = Math.max(this.MIN, index);\n  const end = index + count - 1;\n  if (start <= end) {\n    for (let i = start; i <= end; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n  }\n  return data;\n}"}]}return n.prototype.getData=function(n,e){var t=[],l=Math.max(this.MIN,n),r=n+e-1;if(l<=r)for(var i=l;i<=r;i++)t.push({id:i,text:"item #"+i});return t},n}(),Qv=tl({encapsulation:2,styles:[],data:{}});function Kv(n){return ho(0,[(n()(),Qi(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),Qi(1,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(n()(),so(2,null,["",""]))],null,(function(n,e){n(e,2,0,e.context.$implicit.text)}))}function Xv(n){return ho(0,[(n()(),Qi(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),Qi(1,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(n()(),so(2,null,["",""]))],null,(function(n,e){n(e,2,0,e.context.$implicit.text)}))}function Jv(n){return ho(0,[(n()(),Qi(0,0,null,null,57,"div",[["class","demo"]],null,null,null,null,null)),(n()(),Qi(1,0,null,null,3,"h3",[],[[8,"id",0]],null,null,null,null)),(n()(),so(2,null,[" "," "])),(n()(),Qi(3,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(n()(),so(-1,null,["#"])),(n()(),Qi(5,0,null,null,13,"div",[["class","work"]],null,null,null,null,null)),(n()(),Qi(6,0,null,null,5,"div",[["class","viewport-wrapper"]],null,null,null,null,null)),(n()(),Qi(7,0,null,null,1,"div",[["class","viewport-label"]],null,null,null,null,null)),(n()(),so(-1,null,["common ↓"])),(n()(),Qi(9,0,null,null,2,"div",[["class","viewport"]],null,null,null,null,null)),(n()(),Zi(16777216,null,null,1,null,Kv)),pr(11,81920,null,0,Vf,[Mt,jt,at],{uiScrollOf:[0,"uiScrollOf"]},null),(n()(),Qi(12,0,null,null,5,"div",[["class","viewport-wrapper"]],null,null,null,null,null)),(n()(),Qi(13,0,null,null,1,"div",[["class","viewport-label"]],null,null,null,null,null)),(n()(),so(-1,null,["inverted ↑"])),(n()(),Qi(15,0,null,null,2,"div",[["class","viewport"]],null,null,null,null,null)),(n()(),Zi(16777216,null,null,1,null,Xv)),pr(17,81920,null,0,Vf,[Mt,jt,at],{uiScrollOf:[0,"uiScrollOf"]},null),(n()(),Qi(18,0,null,null,0,"div",[["class","clearfix mb-3"]],null,null,null,null,null)),(n()(),Qi(19,0,null,null,1,"pre",[["class","prettyprint"]],null,null,null,null,null)),(n()(),so(20,null,["",""])),(n()(),Qi(21,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),Qi(22,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[' method implementation could be quite complex and flexible. This piece demonstrates how the dataset we want to virtualize could be processed to provide "inverted" viewport logic when new positive items are retrieved by scrolling up. '])),(n()(),Qi(25,0,null,null,15,"p",[],null,null,null,null,null)),(n()(),Qi(26,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["getData"])),(n()(),so(-1,null,[" method implements positive limited datasource as it was done in the previous sample with only change: left dataset boundary is parametrized by "])),(n()(),Qi(29,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["MIN"])),(n()(),so(-1,null,[" property. So "])),(n()(),Qi(32,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["datasourceCommon.get"])),(n()(),so(-1,null,[" just passes "])),(n()(),Qi(35,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["getData"])),(n()(),so(-1,null,[" result to its "])),(n()(),Qi(38,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["success"])),(n()(),so(-1,null,[" callback. "])),(n()(),Qi(41,0,null,null,16,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" But "])),(n()(),Qi(43,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["datasourceInverted.get"])),(n()(),so(-1,null,[" does the simple math: it inverts and shifts the "])),(n()(),Qi(46,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["index"])),(n()(),so(-1,null,[" and reverses the result array. So the "])),(n()(),Qi(49,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" gets some specifically processed portion of our dataset that reflects our needs. By settings "])),(n()(),Qi(52,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["startIndex"])),(n()(),so(-1,null,[" value to -10 in this case we are telling that we want 10 items to be fetched and rendered in forward direction initially. And it does not depend on "])),(n()(),Qi(55,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["MIN"])),(n()(),so(-1,null,[", it does depend on the viewport and single item size: 10 items are visible. "]))],(function(n,e){var t=e.component;n(e,11,0,t.datasourceCommon),n(e,17,0,t.datasourceInverted)}),(function(n,e){var t=e.component;n(e,1,0,Pl(1,"",t.context.titleId,"")),n(e,2,0,t.context.title),n(e,3,0,Pl(2,"#/",t.context.scope,"#",t.context.titleId,"")),n(e,20,0,t.sources[0].text)}))}var Yv=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var l,r,i=t.call(n),o=[];try{for(;(void 0===e||e-- >0)&&!(l=i.next()).done;)o.push(l.value)}catch(u){r={error:u}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return o},ny=function(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Yv(arguments[e]));return n},ey=function(){function n(){var n=this;this.demoContext={scope:"datasource",title:"Pages datasource",titleId:"pages",logViewOnly:!0,log:""},this.getCount=0,this.pagesCount=30,this.pageSize=7,this.datasource={get:function(e,t,l){n.getCount++,n.demoContext.log="\n"+n.demoContext.log,n.demoContext.log=n.getCount+".1 index = "+e+", count = "+t+"\n"+n.demoContext.log;var r=Math.max(e,0),i=e+t-1;if(r>i)return n.demoContext.log=n.getCount+".2 empty result\n"+n.demoContext.log,void l([]);n.demoContext.log=n.getCount+".2 requesting items ["+r+".."+i+"]\n"+n.demoContext.log;for(var o=Math.floor(r/n.pageSize),u=Math.floor(i/n.pageSize),a=[],s=[],c=o;c<=u;c++)s.push(c),a=ny(a,n.getDataPage(c));n.demoContext.log=n.getCount+".3 requesting pages: "+s.join(", ")+"\n"+n.demoContext.log,n.demoContext.log=n.getCount+".4 "+(a.length?"pages result ["+a[0].index+".."+a[a.length-1].index+"]":"empty result")+"\n"+n.demoContext.log;var d=r-o*n.pageSize,p=a.slice(d,d+i-r+1);n.demoContext.log=(p.length?n.getCount+".5 sliced result ["+p[0].index+".."+p[p.length-1].index+"]\n":"")+n.demoContext.log,l(p)},settings:{startIndex:0}},this.sources=[{name:Lm.Component,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    // items to request (x.2)\n    const startIndex = Math.max(index, 0);\n    const endIndex = index + count - 1;\n    if (startIndex > endIndex) {\n      success([]); // empty result\n      return;\n    }\n\n    // pages to request (x.3)\n    const startPage = Math.floor(startIndex / this.pageSize);\n    const endPage = Math.floor(endIndex / this.pageSize);\n\n    // pages result (x.4)\n    let pagesResult: any[] = [];\n    for (let i = startPage; i <= endPage; i++) {\n      pagesResult = [...pagesResult, ...this.getDataPage(i)];\n    }\n\n    // sliced result (x.5)\n    const start = startIndex - startPage * this.pageSize;\n    const end = start + endIndex - startIndex + 1;\n    const data = pagesResult.slice(start, end);\n\n    success(data);\n  },\n  settings: {\n    startIndex: 0\n  }\n};\n\npagesCount = 30;\npageSize = 7;\ndata: any[];\n\nconstructor() {\n  this.data = [];\n  for (let i = 0; i < this.pagesCount; i++) {\n    this.data[i] = [];\n    for (let j = 0; j < this.pageSize; j++) {\n      const index = i * this.pageSize + j;\n      this.data[i].push({\n        index,\n        text: 'test ' + index\n      });\n    }\n  }\n}\n\ngetDataPage(page: number) {\n  if (page < 0 || page >= this.pagesCount) {\n    return [];\n  }\n  return this.data[page];\n}"},{name:Lm.Component+" (async)",text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const startIndex = Math.max(index, 0);\n    const endIndex = index + count - 1;\n    if (startIndex > endIndex) {\n      success([]); // empty result\n      return;\n    }\n\n    const startPage = Math.floor(startIndex / this.pageSize);\n    const endPage = Math.floor(endIndex / this.pageSize);\n\n    const pagesRequest: any[] = [];\n    for (let i = startPage; i <= endPage; i++) {\n      pagesRequest.push(\n        this.remoteDataService.getDataPageAsync(i)\n      );\n    }\n    return Promise.all(pagesRequest).then(pagesResult => {\n      pagesResult = pagesResult.reduce((acc, result) =>\n        [...acc, ...result]\n      , []);\n      const start = startIndex - startPage * this.pageSize;\n      const end = start + endIndex - startIndex + 1;\n      return pagesResult.slice(start, end);\n    });\n  },\n  settings: {\n    startIndex: 0\n  }\n};\n\nconstructor(\n  private remoteDataService: RemoteDataService\n) {\n}"}],this.data=[];for(var e=0;e<this.pagesCount;e++){this.data[e]=[];for(var t=0;t<this.pageSize;t++){var l=e*this.pageSize+t;this.data[e].push({index:l,text:"test "+l})}}}return n.prototype.getDataPage=function(n){return n<0||n>=this.pagesCount?[]:this.data[n]},n}(),ty=tl({encapsulation:2,styles:[],data:{}});function ly(n){return ho(0,[(n()(),Qi(0,0,null,null,46,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,1,44,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,10,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" This sample demonstrates how the "])),(n()(),Qi(5,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[' can be integrated with the datasource which has "pages" API only. The '])),(n()(),Qi(8,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[' deals with "offset-limit" (that is "index-count") API by default, but necessary transition layer could be implemented via '])),(n()(),Qi(11,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["datasource.get"])),(n()(),so(-1,null,[". "])),(n()(),Qi(14,0,null,null,19,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The "])),(n()(),Qi(16,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["constructor"])),(n()(),so(-1,null,[" initializes "])),(n()(),Qi(19,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["data"])),(n()(),so(-1,null,[" two-dimensional array, "])),(n()(),Qi(22,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["getDataPage"])),(n()(),so(-1,null,[' method simulates "pages" API. We are assuming that '])),(n()(),Qi(25,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["getDataPage"])),(n()(),so(-1,null,[" is the only entry point to our data. Then each time the "])),(n()(),Qi(28,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["datasource.get"])),(n()(),so(-1,null,[' method is called, we are converting "index-count" API params to appropriate pages numbers, retrieving these pages, joining pages results and slicing it to resolve the exactly part of the dataset the '])),(n()(),Qi(31,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" needs for. "])),(n()(),Qi(34,0,null,null,12,"p",[],null,null,null,null,null)),(n()(),Qi(35,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["getDataPage"])),(n()(),so(-1,null,[" could be async, let's imagine that there is "])),(n()(),Qi(38,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["remoteDataService"])),(n()(),so(-1,null,[" which has "])),(n()(),Qi(41,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["getDataPageAsync"])),(n()(),so(-1,null,[" method which returns "])),(n()(),Qi(44,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Promise"])),(n()(),so(-1,null,['. Using promise-based signature in this case, x.3, x.4 and x.5 code sections might be rewritten as it is shown in "Component (async)" tab. ']))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var ry=function(){return function(){this.importSample="import { Datasource, IDatasource } from 'ngx-ui-scroll';",this.datasourceSampleLiteral="datasource: IDatasource = { ... };",this.datasourceSampleClass="datasource = new Datasource({ ... });"}}(),iy=tl({encapsulation:2,styles:[],data:{}});function oy(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),so(-1,null,["Angular UI Scroll Datasource Demos"])),(n()(),Qi(2,0,null,null,25,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The idea of the "])),(n()(),Qi(4,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["*uiScroll"])),(n()(),so(-1,null,[" directive usage is very similar to the use of "])),(n()(),Qi(7,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["*ngFor"])),(n()(),so(-1,null,[" directive in the simplest case, but as it follows from the documentation, a special "])),(n()(),Qi(10,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" object needs to be passed instead of Angular "])),(n()(),Qi(13,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Iterable"])),(n()(),so(-1,null,[". "])),(n()(),Qi(16,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" is an entry point to the "])),(n()(),Qi(19,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[", that provides data flow from the host App to the "])),(n()(),Qi(22,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[". There are two common ways of how the "])),(n()(),Qi(25,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" could be defined:\n"])),(n()(),Qi(28,0,null,null,14,"ul",[],null,null,null,null,null)),(n()(),Qi(29,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),so(-1,null,[" as an object literal of "])),(n()(),Qi(31,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["IDatasource"])),(n()(),so(-1,null,[" type "])),(n()(),Qi(34,0,null,null,1,"pre",[],null,null,null,null,null)),(n()(),so(35,null,["",""])),(n()(),Qi(36,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),so(-1,null,[" as an instance of "])),(n()(),Qi(38,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" class "])),(n()(),Qi(41,0,null,null,1,"pre",[],null,null,null,null,null)),(n()(),so(42,null,["",""])),(n()(),Qi(43,0,null,null,25,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The constructor argument in the second case should be an object of "])),(n()(),Qi(45,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["IDatasource"])),(n()(),so(-1,null,[" type. Instantiating via operator "])),(n()(),Qi(48,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["new"])),(n()(),so(-1,null,[" is needed for the "])),(n()(),Qi(51,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter"])),(n()(),so(-1,null,[" to be available on the result "])),(n()(),Qi(54,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["datasource"])),(n()(),so(-1,null,[" object (for details see "])),(n()(),Qi(57,0,null,null,1,"a",[["href","#adapter"]],null,null,null,null,null)),(n()(),so(-1,null,["Adapter demo page"])),(n()(),so(-1,null,["). Both of "])),(n()(),Qi(60,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["IDatasource"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(63,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" definitions could be imported from "])),(n()(),Qi(66,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["UiScrollModule"])),(n()(),so(-1,null,[":\n"])),(n()(),Qi(69,0,null,null,1,"pre",[],null,null,null,null,null)),(n()(),so(70,null,["",""])),(n()(),Qi(71,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The "])),(n()(),Qi(73,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["IDatasource"])),(n()(),so(-1,null,[" object we need to define in both cases\n"])),(n()(),Qi(76,0,null,null,10,"ul",[],null,null,null,null,null)),(n()(),Qi(77,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["must contain "])),(n()(),Qi(79,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["get"])),(n()(),so(-1,null,[" method property and"])),(n()(),Qi(82,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),so(-1,null,["may contain "])),(n()(),Qi(84,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["settings"])),(n()(),so(-1,null,[" object property."])),(n()(),Qi(87,0,null,null,10,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" With the help of "])),(n()(),Qi(89,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["settings"])),(n()(),so(-1,null,[" object the scroller could be configured, as it is  described on "])),(n()(),Qi(92,0,null,null,1,"a",[["href","#settings"]],null,null,null,null,null)),(n()(),so(-1,null,["Settings demo page"])),(n()(),so(-1,null,[". Here we are going to discuss the "])),(n()(),Qi(95,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource.get"])),(n()(),so(-1,null,[" method implementation.\n"])),(n()(),Qi(98,0,null,null,1,"app-datasource-signatures",[],null,null,null,Rv,Nv)),pr(99,49152,null,0,Dv,[],null,null),(n()(),Qi(100,0,null,null,1,"app-bidirectional-unlimited-datasource",[],null,null,null,jv,Vv)),pr(101,49152,null,0,Mv,[],null,null),(n()(),Qi(102,0,null,null,1,"app-limited-datasource",[],null,null,null,Uv,Lv)),pr(103,49152,null,0,zv,[],null,null),(n()(),Qi(104,0,null,null,1,"app-positive-limited-datasource",[],null,null,null,Bv,Hv)),pr(105,49152,null,0,Fv,[],null,null),(n()(),Qi(106,0,null,null,1,"app-remote-datasource",[],null,null,null,Gv,qv)),pr(107,49152,null,0,Wv,[$v],null,null),(n()(),Qi(108,0,null,null,1,"app-inverted-datasource",[],null,null,null,Jv,Qv)),pr(109,49152,null,0,Zv,[],null,null),(n()(),Qi(110,0,null,null,1,"app-pages-datasource",[],null,null,null,ly,ty)),pr(111,49152,null,0,ey,[],null,null)],null,(function(n,e){var t=e.component;n(e,35,0,t.datasourceSampleLiteral),n(e,42,0,t.datasourceSampleClass),n(e,70,0,t.importSample)}))}function uy(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"app-datasource",[],null,null,null,oy,iy)),pr(1,49152,null,0,ry,[],null,null)],null,null)}var ay=Hl("app-datasource",ry,uy,{},{},[]),sy=function(){function n(){this.demoContext={scope:"experimental",title:"Adapter fix scroll position",titleId:"adapter-fix-position",noInfo:!0},this.datasource=new yh({get:function(n,e,t){for(var l=[],r=n;r<n+e;r++)l.push({id:r,text:"item #"+r});t(l)},devSettings:{debug:!0}}),this.sources=[{name:Lm.Template,text:'<button (click)="scrollTop()">scroll top</button>\n<button (click)="scrollBottom()">scroll bottom</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Component,text:"datasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\n  scrollTop() {\n    this.datasource.adapter.fix({ scrollPosition: 0 });\n  }\n\n  scrollBottom() {\n    this.datasource.adapter.fix({ scrollPosition: +Infinity });\n  }\n"}],this.adapterFixPosition="Adapter.fix({ scrollPosition: 0 })"}return n.prototype.scrollTop=function(){this.datasource.adapter.fix({scrollPosition:0})},n.prototype.scrollBottom=function(){this.datasource.adapter.fix({scrollPosition:1/0})},n}(),cy=tl({encapsulation:2,styles:[],data:{}});function dy(n){return ho(0,[(n()(),Qi(0,0,null,null,54,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,0,6,"div",[["actions",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,1,"div",[["class","comment"]],null,null,null,null,null)),(n()(),so(-1,null,["Available since v1.2.4, undocumented"])),(n()(),Qi(5,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.scrollTop()&&l),l}),null,null)),(n()(),so(-1,null,["scroll top"])),(n()(),Qi(7,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.scrollBottom()&&l),l}),null,null)),(n()(),so(-1,null,["scroll bottom"])),(n()(),Qi(9,0,null,1,45,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(10,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The first option of "])),(n()(),Qi(12,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.fix"])),(n()(),so(-1,null,[" method is "])),(n()(),Qi(15,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["scrollPosition"])),(n()(),so(-1,null,[". It allows to change the position of the viewport's scrollbar programmatically. It is used in the lib tests. "])),(n()(),Qi(18,0,null,null,16,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The value of "])),(n()(),Qi(20,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["scrollPosition"])),(n()(),so(-1,null,[" should be an integer or Infinity. Negative value would be treated as zero. Despite the browsers have no agreement on how to deal with setting "])),(n()(),Qi(23,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["scrollTop"])),(n()(),so(-1,null,["/"])),(n()(),Qi(26,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["scrollLeft"])),(n()(),so(-1,null,[" properties into "])),(n()(),Qi(29,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["+/-Infinity"])),(n()(),so(-1,null,[", the "])),(n()(),Qi(32,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" treats them as follows: "])),(n()(),Qi(35,0,null,null,19,"ul",[],null,null,null,null,null)),(n()(),Qi(36,0,null,null,7,"li",[],null,null,null,null,null)),(n()(),so(-1,null,[" scroll to the beginning of the viewport if "])),(n()(),Qi(38,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["-Infinity"])),(n()(),so(-1,null,[", (the value will be set to "])),(n()(),Qi(41,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["0"])),(n()(),so(-1,null,[") "])),(n()(),Qi(44,0,null,null,10,"li",[],null,null,null,null,null)),(n()(),so(-1,null,[" scroll to the end of the viewport if "])),(n()(),Qi(46,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Infinity"])),(n()(),so(-1,null,[" (scroll position will be set into the viewport's "])),(n()(),Qi(49,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["scrollHeight"])),(n()(),so(-1,null,[" or "])),(n()(),Qi(52,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["scrollWidth"])),(n()(),so(-1,null,[" value) "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var py=function(){return function(){var n=this;this.demoContext={scope:"experimental",title:"Inverse setting",titleId:"inverse-setting",addClass:"inverse",noInfo:!0},this.MIN=1,this.MAX=5,this.datasource={get:function(e,t,l){var r=[],i=Math.max(n.MIN,e),o=Math.min(e+t-1,n.MAX);if(i<=o)for(var u=i;u<=o;u++)r.push({id:u,text:"item #"+u});l(r)},settings:{inverse:!0}},this.sources=[{name:Lm.Datasource,text:"MIN = 1;\nMAX = 5;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(this.MIN, index);\n    const end = Math.min(index + count - 1, this.MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n    }\n    success(data);\n  },\n  settings: {\n    inverse: true\n  }\n};"},{name:Lm.Styles,text:".viewport div[data-padding-backward] {\n  background-color: #e1f0ff;\n}\n.item {\n  background-color: #bcdeff;\n}"}]}}(),hy=tl({encapsulation:2,styles:[],data:{}});function fy(n){return ho(0,[(n()(),Qi(0,0,null,null,20,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,0,1,"div",[["actions",""],["class","comment"]],null,null,null,null,null)),(n()(),so(-1,null,["Available since v1.3.4, undocumented"])),(n()(),Qi(4,0,null,1,16,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(5,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" When there is a lack of items in the viewport, the "])),(n()(),Qi(7,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" sets the height of the forward padding element to some value enough to fill the viewport. This is default behavior, and this can be changed with the help of "])),(n()(),Qi(10,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["inverse"])),(n()(),so(-1,null,[" setting. "])),(n()(),Qi(13,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" When "])),(n()(),Qi(15,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["inverse"])),(n()(),so(-1,null,[" setting is set to "])),(n()(),Qi(18,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["true"])),(n()(),so(-1,null,[", the backward padding element will have a priority over the forward one, and it will be stretched if there are not enough items in the viewport. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources)}),null)}var my=function(){function n(){this.demoContext={scope:"experimental",title:"Adapter fix updater",titleId:"adapter-fix-updater",noInfo:!0},this.datasource=new yh({get:function(n,e,t){for(var l=[],r=n;r<n+e;r++)l.push({id:r,text:"item #"+r});t(l)},devSettings:{debug:!0}}),this.sources=[{name:Lm.Template,text:'<button (click)="doUpdate()">Update</button> item #\n<input [(ngModel)]="inputValue" size="2">\n<div>Items in buffer: {{this.countItems()}}</div>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Lm.Component,text:"inputValue = '5'\n\ndatasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\ndoUpdate() {\n  const index = Number(this.inputValue);\n  if (!isNaN(index)) {\n    this.datasource.adapter.fix({\n      updater: ({ $index, data }) => {\n        if (index === $index) {\n          data.text += '*';\n        }\n      }\n    });\n  }\n}\n\ncountItems() {\n  let count = 0;\n  this.datasource.adapter.fix({\n    updater: ({}) => count++\n  });\n  return count;\n}\n"}],this.itemAdapterDescription="  ItemAdapter {\n    $index: number;\n    data: any;\n    element?: HTMLElement;\n  }",this.adapterFixUpdater="Adapter.fix({ updater })",this.inputValue="5"}return n.prototype.doUpdate=function(){var n=Number(this.inputValue);isNaN(n)||this.datasource.adapter.fix({updater:function(e){n===e.$index&&(e.data.text+="*")}})},n.prototype.countItems=function(){var n=0;return this.datasource.adapter.fix({updater:function(e){return n++}}),n},n}(),gy=tl({encapsulation:2,styles:[],data:{}});function vy(n){return ho(0,[(n()(),Qi(0,0,null,null,85,"app-demo",[],null,null,null,ug,Zm)),pr(1,114688,null,0,Gm,[],{datasource:[0,"datasource"],context:[1,"context"],sources:[2,"sources"]},null),(n()(),Qi(2,0,null,0,13,"div",[["actions",""]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,1,"div",[["class","comment"]],null,null,null,null,null)),(n()(),so(-1,null,["Available since v1.3.1, undocumented"])),(n()(),Qi(5,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doUpdate()&&l),l}),null,null)),(n()(),so(-1,null,["Update"])),(n()(),so(-1,null,[" item # "])),(n()(),Qi(8,0,null,null,5,"input",[["size","2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==Yl(n,9)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==Yl(n,9).onTouched()&&l),"compositionstart"===e&&(l=!1!==Yl(n,9)._compositionStart()&&l),"compositionend"===e&&(l=!1!==Yl(n,9)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.inputValue=t)&&l),l}),null,null)),pr(9,16384,null,0,Ff,[vt,pt,[2,Uf]],null,null),fr(1024,null,zf,(function(n){return[n]}),[Ff]),pr(11,671744,null,0,Em,[[8,null],[8,null],[8,null],[6,zf]],{model:[0,"model"]},{update:"ngModelChange"}),fr(2048,null,Wf,null,[Em]),pr(13,16384,null,0,qf,[[4,Wf]],null,null),(n()(),Qi(14,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),so(15,null,["Items in buffer: ",""])),(n()(),Qi(16,0,null,1,69,"div",[["description",""]],null,null,null,null,null)),(n()(),Qi(17,0,null,null,15,"p",[],null,null,null,null,null)),(n()(),Qi(18,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.fix"])),(n()(),so(-1,null,[" method could be invoked with "])),(n()(),Qi(21,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["updater"])),(n()(),so(-1,null,[" option which is a function that is applied to each element in current "])),(n()(),Qi(24,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" buffer list and allows to update buffered items on the fly. The argument of the "])),(n()(),Qi(27,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["updater"])),(n()(),so(-1,null,[" function is an object of special "])),(n()(),Qi(30,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["ItemAdapter"])),(n()(),so(-1,null,[" type "])),(n()(),Qi(33,0,null,null,1,"pre",[],null,null,null,null,null)),(n()(),so(34,null,["",""])),(n()(),Qi(35,0,null,null,25,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The "])),(n()(),Qi(37,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["data"])),(n()(),so(-1,null,[" is exactly what the "])),(n()(),Qi(40,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Datasource"])),(n()(),so(-1,null,[" sends to the "])),(n()(),Qi(43,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" as the items contents. So we have an access to the items inside the "])),(n()(),Qi(46,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" buffer, and in this demo we update the "])),(n()(),Qi(49,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["text"])),(n()(),so(-1,null,[" of selected item by its index. If we destroy the updated item by scrolling out and then scroll back, we will see that our update is gone. Speaking generally, we need to care about datasource consistency and every update we want to be applied to the "])),(n()(),Qi(52,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["uiScroll"])),(n()(),so(-1,null,[" buffer should also happen at the datasource level. The examples of Datasource-Adapter synching can be found "])),(n()(),Qi(55,0,null,null,1,"a",[["href","#/adapter#remove"]],null,null,null,null,null)),(n()(),so(-1,null,["here"])),(n()(),so(-1,null,[" and "])),(n()(),Qi(58,0,null,null,1,"a",[["href","#/adapter#remove"]],null,null,null,null,null)),(n()(),so(-1,null,["here"])),(n()(),so(-1,null,[". "])),(n()(),Qi(61,0,null,null,19,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" The "])),(n()(),Qi(63,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.fix({ updater })"])),(n()(),so(-1,null,[" usage can be very diverse. For example, we may not change anything in the buffer, but gather some statistic. In this demo "])),(n()(),Qi(66,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["countItems"])),(n()(),so(-1,null,[" method uses "])),(n()(),Qi(69,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["updater"])),(n()(),so(-1,null,[" to get a number of items in the buffer at a particular moment. The result is equal to the value of "])),(n()(),Qi(72,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.itemsCount"])),(n()(),so(-1,null,[" read-only property ("])),(n()(),Qi(75,0,null,null,1,"a",[["href","#/adapter#items-count"]],null,null,null,null,null)),(n()(),so(-1,null,["link"])),(n()(),so(-1,null,["). Also, I would not recommend to bind "])),(n()(),Qi(78,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["countItems"])),(n()(),so(-1,null,["-like methods with the template as it is in this demo, for it might affect the performance. "])),(n()(),Qi(81,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" See also the "])),(n()(),Qi(83,0,null,null,1,"a",[["href","https://github.com/dhilt/ngx-ui-scroll/pull/127"]],null,null,null,null,null)),(n()(),so(-1,null,["PR description"])),(n()(),so(-1,null,[" as it might shed additional light on this feature. "]))],(function(n,e){var t=e.component;n(e,1,0,t.datasource,t.demoContext,t.sources),n(e,11,0,t.inputValue)}),(function(n,e){var t=e.component;n(e,8,0,Yl(e,13).ngClassUntouched,Yl(e,13).ngClassTouched,Yl(e,13).ngClassPristine,Yl(e,13).ngClassDirty,Yl(e,13).ngClassValid,Yl(e,13).ngClassInvalid,Yl(e,13).ngClassPending),n(e,15,0,t.countItems()),n(e,34,0,t.itemAdapterDescription)}))}var yy=function(){return function(){this.adapterFixArgumentDescription="  interface AdapterFixOptions {\n    scrollPosition?: number;\n    minIndex?: number;\n    maxIndex?: number;\n    updater?: (item: ItemAdapter) => any;\n  }"}}(),by=tl({encapsulation:2,styles:[],data:{}});function wy(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),so(-1,null,["Angular UI Scroll Experimental Demos"])),(n()(),Qi(2,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" There are some undocumented settings and Adapter methods that provide additional flexibility. We can consider them as experimental features. Most of these features are not tested well and may have some side effects or behave imperfectly.\n"])),(n()(),Qi(4,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),so(-1,null,[" For example, "])),(n()(),Qi(6,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),so(-1,null,["Adapter.fix"])),(n()(),so(-1,null,[" method. It has different options for different cases which are discussed below. The options are passed as props of its argument object:\n"])),(n()(),Qi(9,0,null,null,1,"pre",[],null,null,null,null,null)),(n()(),so(10,null,["",""])),(n()(),Qi(11,0,null,null,1,"app-adapter-fix-position",[],null,null,null,dy,cy)),pr(12,49152,null,0,sy,[],null,null),(n()(),Qi(13,0,null,null,1,"app-inverse-setting",[],null,null,null,fy,hy)),pr(14,49152,null,0,py,[],null,null),(n()(),Qi(15,0,null,null,1,"app-adapter-fix-updater",[],null,null,null,vy,gy)),pr(16,49152,null,0,my,[],null,null)],null,(function(n,e){n(e,10,0,e.component.adapterFixArgumentDescription)}))}function xy(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"app-experimental",[],null,null,null,wy,by)),pr(1,49152,null,0,yy,[],null,null)],null,null)}var _y=Hl("app-experimental",yy,xy,{},{},[]),Cy=function(){return function(){var n=this;this.datasource={get:function(n,e,t){var l=Math.max(n,1),r=Math.min(n+e-1,1e3),i=[];if(l<=r)for(var o=l;o<=r;o++){var u={text:"item #"+o,height:20};o%15==0&&(u.data=Array.from({length:7*Math.random()+3},(function(n,e){return"*"})).join(""),u.color=o%30==0?"red":"black"),i.push(u)}t(i)},settings:{startIndex:1,padding:.25,bufferSize:1,itemSize:20,minIndex:1,windowViewport:!0}},setTimeout((function(){return n.init=!0}))}}(),Sy=tl({encapsulation:2,styles:[],data:{}});function Iy(n){return ho(0,[(n()(),Qi(0,0,null,null,4,"div",[["style","height: 20px;"]],null,null,null,null,null)),(n()(),Qi(1,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),so(2,null,["",""])),(n()(),Qi(3,0,null,null,1,"span",[],[[4,"color",null]],null,null,null,null)),(n()(),so(4,null,[" "," "]))],null,(function(n,e){n(e,2,0,e.context.$implicit.text),n(e,3,0,e.context.$implicit.color),n(e,4,0,e.context.$implicit.data)}))}function ky(n){return ho(0,[(n()(),Qi(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),Zi(16777216,null,null,1,null,Iy)),pr(2,81920,null,0,Vf,[Mt,jt,at],{uiScrollOf:[0,"uiScrollOf"]},null)],(function(n,e){n(e,2,0,e.component.datasource)}),null)}function Ey(n){return ho(0,[(n()(),Qi(0,0,null,null,5,"div",[["class","header"]],null,null,null,null,null)),(n()(),Qi(1,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),so(-1,null,["Entire window scrolling demo"])),(n()(),Qi(3,0,null,null,2,"a",[["class","navbar-link"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==Yl(n,4).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),pr(4,671744,null,0,Ip,[Cp,hd,Su],{routerLink:[0,"routerLink"]},null),(n()(),so(-1,null,["Home"])),(n()(),Zi(16777216,null,null,1,null,ky)),pr(7,16384,null,0,Fu,[jt,Mt],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,4,0,"/"),n(e,7,0,t.init)}),(function(n,e){n(e,3,0,Yl(e,4).target,Yl(e,4).href)}))}function Ty(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"app-samples-window",[],null,null,null,Ey,Sy)),pr(1,49152,null,0,Cy,[],null,null)],null,null)}var Py=Hl("app-samples-window",Cy,Ty,{},{},[]),Ay=-199,Oy=function(){return function(){}}(),Dy=function(){function n(){var n=this;this.reloadIndex=1,this.sizeIndex=1,this.sizeValue=10,this.datasourceDelay=0,this.datasource=new yh({get:function(e,t){return n.fetchData(e,t)},settings:{padding:.1,bufferSize:10,itemSize:100,startIndex:1},devSettings:{debug:!0,immediateLog:!0,logTime:!1,logProcessRun:!0,throttle:40,inertia:!0,inertiaScrollDelay:55,inertiaScrollDelta:135,changeOverflow:!1}}),this.generateData()}return n.prototype.generateData=function(){this.data=[];for(var n=0;n<=50-Ay;n++){var e={id:n+Ay,text:"item #"+(n+Ay),isSelected:n%15==0,height:Math.max(5,20+n+Ay)};e.isSelected&&(e.data=Array.from({length:7*Math.random()+3},(function(n,e){return"*"})).join(""),e.color=n%30==0?"red":"black"),this.data.push(e)}},n.prototype.fetchData=function(n,e){var t=this,l=[],r=Math.max(Ay,n),i=Math.min(50,n+e-1);if(r<=i)for(var o=r;o<=i;o++)l.push(this.data[o-Ay]);return new E((function(n){t.datasourceDelay?setTimeout((function(){return n.next(l)}),t.datasourceDelay):n.next(l)}))},n.prototype.getVisibleItemsCount=function(){var n=this.datasource.adapter,e=n.lastVisible.$index;e=Number.isInteger(e)?e:NaN;var t=n.firstVisible.$index;return t=Number.isInteger(t)?t:NaN,Number.isNaN(e)||Number.isNaN(t)?0:e-t+1},n.prototype.getViewportElement=function(){return document.getElementsByClassName("viewport")[0]},n.prototype.doScroll=function(n,e,t){var l=this,r=this.getViewportElement();setTimeout((function(){r.scrollTop-=t,--n>0&&l.doScroll(n,e,t)}),e)},n.prototype.doReload=function(){this.datasource.adapter.reload(this.reloadIndex)},n.prototype.doPrepend=function(){var n={id:--Ay,text:"item #"+Ay,isSelected:!1,height:25};this.data.unshift(n),this.datasource.adapter.prepend(n)},n.prototype.doScrollHome=function(){this.getViewportElement().scrollTop=0},n.prototype.doScrollEnd=function(){this.getViewportElement().scrollTop=999999},n.prototype.doScrollSome=function(){var n=this.getViewportElement().scrollTop;this.getViewportElement().scrollTop=n+300},n.prototype.doChangeSize=function(){var n=document.getElementById("my-viewport"),e=Number(this.sizeIndex);if(!isNaN(e)&&n){for(var t=function(e){var t=n.querySelector('[data-sid="'+e+'"]');if(t){t.style.height=l.sizeValue+"px";var r=l.data.find((function(n){return n.id===e}));r&&(r.height=l.sizeValue)}},l=this,r=e;r<e+5;r++)t(r);this.datasource.adapter.check()}},n.prototype.doLog=function(){this.datasource.adapter.showLog()},n.prototype.doToggleItem=function(n){this.datasource.adapter.fix({updater:function(e){n.id===e.data.id&&(e.data.isSelected=!e.data.isSelected)}})},n.prototype.autoscroll=function(){var n=this.datasource.adapter,e=n.isLoading$.subscribe((function(t){var l=document.getElementById("my-viewport"),r=n.lastVisible.element;if(!t&&l&&r&&r.getBoundingClientRect){var i=r.getBoundingClientRect().bottom,o=l.getBoundingClientRect().bottom,u=l.scrollTop-(o-i);l.scrollTop===u?e.unsubscribe():(n.fix({scrollPosition:u}),l.scrollTop===u&&e.unsubscribe())}}))},n}(),Ny=tl({encapsulation:2,styles:[],data:{}});function Ry(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"b",[],null,null,null,null,null)),io(null,0)],null,null)}var My=tl({encapsulation:2,styles:[],data:{}});function Vy(n){return ho(0,[(n()(),Qi(0,0,null,null,5,"div",[],[[4,"height",null]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doToggleItem(n.context.$implicit)&&l),l}),null,null)),(n()(),Qi(1,0,null,null,4,"app-samples-test-inner",[],null,null,null,Ry,Ny)),pr(2,49152,null,0,Oy,[],null,null),(n()(),so(3,0,[" "," "])),(n()(),Qi(4,0,null,0,1,"span",[],[[4,"color",null]],null,null,null,null)),(n()(),so(5,null,[" "," "]))],null,(function(n,e){n(e,0,0,e.context.$implicit.height+"px"),n(e,3,0,e.context.$implicit.text),n(e,4,0,e.context.$implicit.color),n(e,5,0,e.context.$implicit.isSelected?"********":"")}))}function jy(n){return ho(0,[(n()(),Qi(0,0,null,null,62,"div",[],null,null,null,null,null)),(n()(),Qi(1,0,null,null,5,"input",[["style","width: 50px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==Yl(n,2)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==Yl(n,2).onTouched()&&l),"compositionstart"===e&&(l=!1!==Yl(n,2)._compositionStart()&&l),"compositionend"===e&&(l=!1!==Yl(n,2)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.datasourceDelay=t)&&l),l}),null,null)),pr(2,16384,null,0,Ff,[vt,pt,[2,Uf]],null,null),fr(1024,null,zf,(function(n){return[n]}),[Ff]),pr(4,671744,null,0,Em,[[8,null],[8,null],[8,null],[6,zf]],{model:[0,"model"]},{update:"ngModelChange"}),fr(2048,null,Wf,null,[Em]),pr(6,16384,null,0,qf,[[4,Wf]],null,null),(n()(),so(-1,null,[" - "])),(n()(),Qi(8,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),so(-1,null,["datasource delay"])),(n()(),Qi(10,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(11,0,null,null,5,"input",[["style","width: 50px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==Yl(n,12)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==Yl(n,12).onTouched()&&l),"compositionstart"===e&&(l=!1!==Yl(n,12)._compositionStart()&&l),"compositionend"===e&&(l=!1!==Yl(n,12)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.reloadIndex=t)&&l),l}),null,null)),pr(12,16384,null,0,Ff,[vt,pt,[2,Uf]],null,null),fr(1024,null,zf,(function(n){return[n]}),[Ff]),pr(14,671744,null,0,Em,[[8,null],[8,null],[8,null],[6,zf]],{model:[0,"model"]},{update:"ngModelChange"}),fr(2048,null,Wf,null,[Em]),pr(16,16384,null,0,qf,[[4,Wf]],null,null),(n()(),so(-1,null,[" - "])),(n()(),Qi(18,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),so(-1,null,["reload index"])),(n()(),Qi(20,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(21,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doReload()&&l),l}),null,null)),(n()(),so(-1,null,["Reload"])),(n()(),Qi(23,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doPrepend()&&l),l}),null,null)),(n()(),so(-1,null,["Prepend"])),(n()(),Qi(25,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doLog()&&l),l}),null,null)),(n()(),so(-1,null,["Show log"])),(n()(),Qi(27,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(28,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doScrollHome()&&l),l}),null,null)),(n()(),so(-1,null,["Up"])),(n()(),Qi(30,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doScrollEnd()&&l),l}),null,null)),(n()(),so(-1,null,["Down"])),(n()(),Qi(32,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doScrollSome()&&l),l}),null,null)),(n()(),so(-1,null,["Some"])),(n()(),Qi(34,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(35,0,null,null,5,"input",[["style","width: 50px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==Yl(n,36)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==Yl(n,36).onTouched()&&l),"compositionstart"===e&&(l=!1!==Yl(n,36)._compositionStart()&&l),"compositionend"===e&&(l=!1!==Yl(n,36)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.sizeIndex=t)&&l),l}),null,null)),pr(36,16384,null,0,Ff,[vt,pt,[2,Uf]],null,null),fr(1024,null,zf,(function(n){return[n]}),[Ff]),pr(38,671744,null,0,Em,[[8,null],[8,null],[8,null],[6,zf]],{model:[0,"model"]},{update:"ngModelChange"}),fr(2048,null,Wf,null,[Em]),pr(40,16384,null,0,qf,[[4,Wf]],null,null),(n()(),Qi(41,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.doChangeSize()&&l),l}),null,null)),(n()(),so(-1,null,["Size"])),(n()(),Qi(43,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(44,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),so(45,null,["ngx-ui-scroll version: ",""])),(n()(),Qi(46,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(47,0,null,null,2,"small",[],null,null,null,null,null)),(n()(),so(48,null,["isLoading: "," (",") "])),hr(131072,Zu,[Re]),(n()(),Qi(50,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(51,0,null,null,2,"small",[],null,null,null,null,null)),(n()(),so(52,null,["first visible: "," (",") "])),hr(131072,Zu,[Re]),(n()(),Qi(54,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(55,0,null,null,2,"small",[],null,null,null,null,null)),(n()(),so(56,null,["last visible: "," (",") "])),hr(131072,Zu,[Re]),(n()(),Qi(58,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(59,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),so(60,null,["total: ",", visible: "," "])),(n()(),Qi(61,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(62,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(63,0,null,null,2,"div",[["class","viewport"],["id","my-viewport"],["style","height: 600px"]],null,null,null,null,null)),(n()(),Zi(16777216,null,null,1,null,Vy)),pr(65,81920,null,0,Vf,[Mt,jt,at],{uiScrollOf:[0,"uiScrollOf"]},null)],(function(n,e){var t=e.component;n(e,4,0,t.datasourceDelay),n(e,14,0,t.reloadIndex),n(e,38,0,t.sizeIndex),n(e,65,0,t.datasource)}),(function(n,e){var t,l,r=e.component;n(e,1,0,Yl(e,6).ngClassUntouched,Yl(e,6).ngClassTouched,Yl(e,6).ngClassPristine,Yl(e,6).ngClassDirty,Yl(e,6).ngClassValid,Yl(e,6).ngClassInvalid,Yl(e,6).ngClassPending),n(e,11,0,Yl(e,16).ngClassUntouched,Yl(e,16).ngClassTouched,Yl(e,16).ngClassPristine,Yl(e,16).ngClassDirty,Yl(e,16).ngClassValid,Yl(e,16).ngClassInvalid,Yl(e,16).ngClassPending),n(e,35,0,Yl(e,40).ngClassUntouched,Yl(e,40).ngClassTouched,Yl(e,40).ngClassPristine,Yl(e,40).ngClassDirty,Yl(e,40).ngClassValid,Yl(e,40).ngClassInvalid,Yl(e,40).ngClassPending),n(e,45,0,r.datasource.adapter.version),n(e,48,0,r.datasource.adapter.isLoading,Yt(e,48,1,Yl(e,49).transform(r.datasource.adapter.isLoading$))),n(e,52,0,r.datasource.adapter.firstVisible.$index,null==(t=Yt(e,52,1,Yl(e,53).transform(r.datasource.adapter.firstVisible$)))?null:t.$index),n(e,56,0,r.datasource.adapter.lastVisible.$index,null==(l=Yt(e,56,1,Yl(e,57).transform(r.datasource.adapter.lastVisible$)))?null:l.$index),n(e,60,0,r.datasource.adapter.itemsCount,r.getVisibleItemsCount())}))}function zy(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"app-samples-test",[],null,null,null,jy,My)),pr(1,49152,null,0,Dy,[],null,null)],null,null)}var Ly=Hl("app-samples-test",Dy,zy,{},{},[]),Uy=function(){return function(){}}(),Fy=tl({encapsulation:0,styles:[".github-corner[_ngcontent-%COMP%]:hover   .octo-arm[_ngcontent-%COMP%] {\n      animation: octocat-wave 560ms ease-in-out\n    }\n\n    @keyframes octocat-wave {\n      0%, 100% {\n        transform: rotate(0)\n      }\n      20%, 60% {\n        transform: rotate(-25deg)\n      }\n      40%, 80% {\n        transform: rotate(10deg)\n      }\n    }\n\n    @media (max-width: 500px) {\n      .github-corner[_ngcontent-%COMP%]:hover   .octo-arm[_ngcontent-%COMP%] {\n        animation: none\n      }\n\n      .github-corner[_ngcontent-%COMP%]   .octo-arm[_ngcontent-%COMP%] {\n        animation: octocat-wave 560ms ease-in-out\n      }\n    }"],data:{}});function Hy(n){return ho(0,[(n()(),Qi(0,0,null,null,49,"nav",[["class","navbar navbar-expand-lg  navbar-dark bg-dark"]],null,null,null,null,null)),(n()(),Qi(1,0,null,null,48,"div",[["class","container"]],null,null,null,null,null)),(n()(),Qi(2,0,null,null,4,"a",[["aria-label","View source on Github"],["class","github-corner"],["href","https://github.com/dhilt/ngx-ui-scroll"]],null,null,null,null,null)),(n()(),Qi(3,0,null,null,3,":svg:svg",[["aria-hidden","true"],["height","80"],["style","fill:#fff; color:#343a40; position: absolute; top: 0; border: 0; left: auto; right: 0;"],["viewBox","0 0 250 250"],["width","80"]],null,null,null,null,null)),(n()(),Qi(4,0,null,null,0,":svg:path",[["d","M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"]],null,null,null,null,null)),(n()(),Qi(5,0,null,null,0,":svg:path",[["class","octo-arm"],["d","M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"],["fill","currentColor"],["style","transform-origin: 130px 106px;"]],null,null,null,null,null)),(n()(),Qi(6,0,null,null,0,":svg:path",[["class","octo-body"],["d","M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"],["fill","currentColor"]],null,null,null,null,null)),(n()(),Qi(7,0,null,null,34,"div",[["class","main-menu"]],null,null,null,null,null)),(n()(),Qi(8,0,null,null,1,"a",[["class","navbar-brand"],["href","https://github.com/dhilt/ngx-ui-scroll"]],null,null,null,null,null)),(n()(),so(-1,null,["ngx-ui-scroll"])),(n()(),Qi(10,0,null,null,6,"a",[["class","navbar-link"],["routerLink","/"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==Yl(n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),pr(11,671744,[[2,4]],0,Ip,[Cp,hd,Su],{routerLink:[0,"routerLink"]},null),pr(12,1720320,null,2,Ep,[Cp,pt,vt,[2,Sp],[2,Ip]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),no(603979776,1,{links:1}),no(603979776,2,{linksWithHrefs:1}),uo(15,{exact:0}),(n()(),so(-1,null,["Home"])),(n()(),Qi(17,0,null,null,5,"a",[["class","navbar-link"],["routerLink","/datasource"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==Yl(n,18).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),pr(18,671744,[[4,4]],0,Ip,[Cp,hd,Su],{routerLink:[0,"routerLink"]},null),pr(19,1720320,null,2,Ep,[Cp,pt,vt,[2,Sp],[2,Ip]],{routerLinkActive:[0,"routerLinkActive"]},null),no(603979776,3,{links:1}),no(603979776,4,{linksWithHrefs:1}),(n()(),so(-1,null,["Datasource"])),(n()(),Qi(23,0,null,null,6,"a",[["class","navbar-link"],["routerLink","/settings"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==Yl(n,24).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),pr(24,671744,[[6,4]],0,Ip,[Cp,hd,Su],{routerLink:[0,"routerLink"]},null),pr(25,1720320,null,2,Ep,[Cp,pt,vt,[2,Sp],[2,Ip]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),no(603979776,5,{links:1}),no(603979776,6,{linksWithHrefs:1}),uo(28,{exact:0}),(n()(),so(-1,null,["Settings"])),(n()(),Qi(30,0,null,null,5,"a",[["class","navbar-link"],["routerLink","/adapter"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==Yl(n,31).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),pr(31,671744,[[8,4]],0,Ip,[Cp,hd,Su],{routerLink:[0,"routerLink"]},null),pr(32,1720320,null,2,Ep,[Cp,pt,vt,[2,Sp],[2,Ip]],{routerLinkActive:[0,"routerLinkActive"]},null),no(603979776,7,{links:1}),no(603979776,8,{linksWithHrefs:1}),(n()(),so(-1,null,["Adapter"])),(n()(),Qi(36,0,null,null,5,"a",[["class","navbar-link"],["routerLink","/experimental"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==Yl(n,37).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),pr(37,671744,[[10,4]],0,Ip,[Cp,hd,Su],{routerLink:[0,"routerLink"]},null),pr(38,1720320,null,2,Ep,[Cp,pt,vt,[2,Sp],[2,Ip]],{routerLinkActive:[0,"routerLinkActive"]},null),no(603979776,9,{links:1}),no(603979776,10,{linksWithHrefs:1}),(n()(),so(-1,null,["Experimental"])),(n()(),Qi(42,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Qi(43,0,null,null,6,"span",[["class","copyrights"]],null,null,null,null,null)),(n()(),so(-1,null,[" 2020 © "])),(n()(),Qi(45,0,null,null,1,"a",[["href","https://github.com/dhilt"]],null,null,null,null,null)),(n()(),so(-1,null,["dhilt"])),(n()(),so(-1,null,[", "])),(n()(),Qi(48,0,null,null,1,"a",[["href","http://www.hill30.com/"]],null,null,null,null,null)),(n()(),so(-1,null,["Hill30 Inc"]))],(function(n,e){n(e,11,0,"/");var t=n(e,15,0,!0);n(e,12,0,t,"active"),n(e,18,0,"/datasource"),n(e,19,0,"active"),n(e,24,0,"/settings");var l=n(e,28,0,!0);n(e,25,0,l,"active"),n(e,31,0,"/adapter"),n(e,32,0,"active"),n(e,37,0,"/experimental"),n(e,38,0,"active")}),(function(n,e){n(e,10,0,Yl(e,11).target,Yl(e,11).href),n(e,17,0,Yl(e,18).target,Yl(e,18).href),n(e,23,0,Yl(e,24).target,Yl(e,24).href),n(e,30,0,Yl(e,31).target,Yl(e,31).href),n(e,36,0,Yl(e,37).target,Yl(e,37).href)}))}var By=tl({encapsulation:2,styles:[],data:{}});function $y(n){return ho(0,[(n()(),Qi(0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),Qi(1,0,null,null,1,"app-nav",[],null,null,null,Hy,Fy)),pr(2,49152,null,0,Uy,[],null,null),(n()(),Qi(3,0,null,null,2,"div",[["class","container mb-5"]],null,null,null,null,null)),(n()(),Qi(4,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),pr(5,212992,null,0,Ap,[Pp,jt,at,[8,null],Re],null,null)],(function(n,e){n(e,5,0)}),null)}function Wy(n){return ho(0,[(n()(),Qi(0,0,null,null,2,"div",[["class","no-layout"]],null,null,null,null,null)),(n()(),Qi(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),pr(2,212992,null,0,Ap,[Pp,jt,at,[8,null],Re],null,null)],(function(n,e){n(e,2,0)}),null)}function qy(n){return ho(0,[(n()(),Zi(16777216,null,null,1,null,$y)),pr(1,16384,null,0,Fu,[jt,Mt],{ngIf:[0,"ngIf"]},null),(n()(),Zi(16777216,null,null,1,null,Wy)),pr(3,16384,null,0,Fu,[jt,Mt],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,1,0,t.hasLayout),n(e,3,0,!t.hasLayout)}),null)}function Gy(n){return ho(0,[(n()(),Qi(0,0,null,null,1,"app-root",[],null,null,null,qy,By)),pr(1,4374528,null,0,Jp,[hd,Cp],null,null)],null,null)}var Zy=Hl("app-root",Jp,Gy,{},{},[]),Qy=function(){return function(){}}(),Ky=function(){return function(){}}(),Xy=function(){function n(n){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?function(){e.headers=new Map,n.split("\n").forEach((function(n){var t=n.indexOf(":");if(t>0){var l=n.slice(0,t),r=l.toLowerCase(),i=n.slice(t+1).trim();e.maybeSetNormalizedName(l,r),e.headers.has(r)?e.headers.get(r).push(i):e.headers.set(r,[i])}}))}:function(){e.headers=new Map,Object.keys(n).forEach((function(t){var l=n[t],r=t.toLowerCase();"string"==typeof l&&(l=[l]),l.length>0&&(e.headers.set(r,l),e.maybeSetNormalizedName(t,r))}))}:this.headers=new Map}return n.prototype.has=function(n){return this.init(),this.headers.has(n.toLowerCase())},n.prototype.get=function(n){this.init();var e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null},n.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},n.prototype.getAll=function(n){return this.init(),this.headers.get(n.toLowerCase())||null},n.prototype.append=function(n,e){return this.clone({name:n,value:e,op:"a"})},n.prototype.set=function(n,e){return this.clone({name:n,value:e,op:"s"})},n.prototype.delete=function(n,e){return this.clone({name:n,value:e,op:"d"})},n.prototype.maybeSetNormalizedName=function(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)},n.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(n){return e.applyUpdate(n)})),this.lazyUpdate=null))},n.prototype.copyFrom=function(n){var e=this;n.init(),Array.from(n.headers.keys()).forEach((function(t){e.headers.set(t,n.headers.get(t)),e.normalizedNames.set(t,n.normalizedNames.get(t))}))},n.prototype.clone=function(e){var t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t},n.prototype.applyUpdate=function(n){var e=n.name.toLowerCase();switch(n.op){case"a":case"s":var t=n.value;if("string"==typeof t&&(t=[t]),0===t.length)return;this.maybeSetNormalizedName(n.name,e);var l=("a"===n.op?this.headers.get(e):void 0)||[];l.push.apply(l,a(t)),this.headers.set(e,l);break;case"d":var r=n.value;if(r){var i=this.headers.get(e);if(!i)return;0===(i=i.filter((function(n){return-1===r.indexOf(n)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,i)}else this.headers.delete(e),this.normalizedNames.delete(e)}},n.prototype.forEach=function(n){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(t){return n(e.normalizedNames.get(t),e.headers.get(t))}))},n}(),Jy=function(){function n(){}return n.prototype.encodeKey=function(n){return Yy(n)},n.prototype.encodeValue=function(n){return Yy(n)},n.prototype.decodeKey=function(n){return decodeURIComponent(n)},n.prototype.decodeValue=function(n){return decodeURIComponent(n)},n}();function Yy(n){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var nb=function(){function n(n){var e,t,l,r=this;if(void 0===n&&(n={}),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Jy,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=n.fromString,t=this.encoder,l=new Map,e.length>0&&e.split("&").forEach((function(n){var e=n.indexOf("="),r=u(-1==e?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,e)),t.decodeValue(n.slice(e+1))],2),i=r[0],o=r[1],a=l.get(i)||[];a.push(o),l.set(i,a)})),l)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(e){var t=n.fromObject[e];r.map.set(e,Array.isArray(t)?t:[t])}))):this.map=null}return n.prototype.has=function(n){return this.init(),this.map.has(n)},n.prototype.get=function(n){this.init();var e=this.map.get(n);return e?e[0]:null},n.prototype.getAll=function(n){return this.init(),this.map.get(n)||null},n.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},n.prototype.append=function(n,e){return this.clone({param:n,value:e,op:"a"})},n.prototype.set=function(n,e){return this.clone({param:n,value:e,op:"s"})},n.prototype.delete=function(n,e){return this.clone({param:n,value:e,op:"d"})},n.prototype.toString=function(){var n=this;return this.init(),this.keys().map((function(e){var t=n.encoder.encodeKey(e);return n.map.get(e).map((function(e){return t+"="+n.encoder.encodeValue(e)})).join("&")})).join("&")},n.prototype.clone=function(e){var t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t},n.prototype.init=function(){var n=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return n.map.set(e,n.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var t=("a"===e.op?n.map.get(e.param):void 0)||[];t.push(e.value),n.map.set(e.param,t);break;case"d":if(void 0===e.value){n.map.delete(e.param);break}var l=n.map.get(e.param)||[],r=l.indexOf(e.value);-1!==r&&l.splice(r,1),l.length>0?n.map.set(e.param,l):n.map.delete(e.param)}})),this.cloneFrom=this.updates=null)},n}();function eb(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function tb(n){return"undefined"!=typeof Blob&&n instanceof Blob}function lb(n){return"undefined"!=typeof FormData&&n instanceof FormData}var rb=function(){function n(n,e,t,l){var r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==t?t:null,r=l):r=t,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Xy),this.params){var i=this.params.toString();if(0===i.length)this.urlWithParams=e;else{var o=e.indexOf("?");this.urlWithParams=e+(-1===o?"?":o<e.length-1?"&":"")+i}}else this.params=new nb,this.urlWithParams=e}return n.prototype.serializeBody=function(){return null===this.body?null:eb(this.body)||tb(this.body)||lb(this.body)||"string"==typeof this.body?this.body:this.body instanceof nb?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},n.prototype.detectContentTypeHeader=function(){return null===this.body?null:lb(this.body)?null:tb(this.body)?this.body.type||null:eb(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nb?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},n.prototype.clone=function(e){void 0===e&&(e={});var t=e.method||this.method,l=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,a=e.headers||this.headers,s=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((function(n,t){return n.set(t,e.setHeaders[t])}),a)),e.setParams&&(s=Object.keys(e.setParams).reduce((function(n,t){return n.set(t,e.setParams[t])}),s)),new n(t,l,i,{params:s,headers:a,reportProgress:u,responseType:r,withCredentials:o})},n}(),ib=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}({}),ob=function(){return function(n,e,t){void 0===e&&(e=200),void 0===t&&(t="OK"),this.headers=n.headers||new Xy,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||t,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}(),ub=function(n){function e(e){void 0===e&&(e={});var t=n.call(this,e)||this;return t.type=ib.ResponseHeader,t}return r(e,n),e.prototype.clone=function(n){return void 0===n&&(n={}),new e({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})},e}(ob),ab=function(n){function e(e){void 0===e&&(e={});var t=n.call(this,e)||this;return t.type=ib.Response,t.body=void 0!==e.body?e.body:null,t}return r(e,n),e.prototype.clone=function(n){return void 0===n&&(n={}),new e({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})},e}(ob),sb=function(n){function e(e){var t=n.call(this,e,0,"Unknown Error")||this;return t.name="HttpErrorResponse",t.ok=!1,t.message=t.status>=200&&t.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,t.error=e.error||null,t}return r(e,n),e}(ob);function cb(n,e){return{body:e,headers:n.headers,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}var db=function(){function n(n){this.handler=n}return n.prototype.request=function(n,e,t){var l,r=this;if(void 0===t&&(t={}),n instanceof rb)l=n;else{var i;i=t.headers instanceof Xy?t.headers:new Xy(t.headers);var o=void 0;t.params&&(o=t.params instanceof nb?t.params:new nb({fromObject:t.params})),l=new rb(n,e,void 0!==t.body?t.body:null,{headers:i,params:o,reportProgress:t.reportProgress,responseType:t.responseType||"json",withCredentials:t.withCredentials})}var u=na(l).pipe($a((function(n){return r.handler.handle(n)})));if(n instanceof rb||"events"===t.observe)return u;var a=u.pipe(pa((function(n){return n instanceof ab})));switch(t.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return a.pipe(W((function(n){if(null!==n.body&&!(n.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return n.body})));case"blob":return a.pipe(W((function(n){if(null!==n.body&&!(n.body instanceof Blob))throw new Error("Response is not a Blob.");return n.body})));case"text":return a.pipe(W((function(n){if(null!==n.body&&"string"!=typeof n.body)throw new Error("Response is not a string.");return n.body})));case"json":default:return a.pipe(W((function(n){return n.body})))}case"response":return a;default:throw new Error("Unreachable: unhandled observe type "+t.observe+"}")}},n.prototype.delete=function(n,e){return void 0===e&&(e={}),this.request("DELETE",n,e)},n.prototype.get=function(n,e){return void 0===e&&(e={}),this.request("GET",n,e)},n.prototype.head=function(n,e){return void 0===e&&(e={}),this.request("HEAD",n,e)},n.prototype.jsonp=function(n,e){return this.request("JSONP",n,{params:(new nb).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},n.prototype.options=function(n,e){return void 0===e&&(e={}),this.request("OPTIONS",n,e)},n.prototype.patch=function(n,e,t){return void 0===t&&(t={}),this.request("PATCH",n,cb(t,e))},n.prototype.post=function(n,e,t){return void 0===t&&(t={}),this.request("POST",n,cb(t,e))},n.prototype.put=function(n,e,t){return void 0===t&&(t={}),this.request("PUT",n,cb(t,e))},n}(),pb=function(){function n(n,e){this.next=n,this.interceptor=e}return n.prototype.handle=function(n){return this.interceptor.intercept(n,this.next)},n}(),hb=new Dn("HTTP_INTERCEPTORS"),fb=function(){function n(){}return n.prototype.intercept=function(n,e){return e.handle(n)},n}(),mb=/^\)\]\}',?\n/,gb=function(){return function(){}}(),vb=function(){function n(){}return n.prototype.build=function(){return new XMLHttpRequest},n}(),yb=function(){function n(n){this.xhrFactory=n}return n.prototype.handle=function(n){var e=this;if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new E((function(t){var l=e.xhrFactory.build();if(l.open(n.method,n.urlWithParams),n.withCredentials&&(l.withCredentials=!0),n.headers.forEach((function(n,e){return l.setRequestHeader(n,e.join(","))})),n.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){var r=n.detectContentTypeHeader();null!==r&&l.setRequestHeader("Content-Type",r)}if(n.responseType){var i=n.responseType.toLowerCase();l.responseType="json"!==i?i:"text"}var o=n.serializeBody(),u=null,a=function(){if(null!==u)return u;var e=1223===l.status?204:l.status,t=l.statusText||"OK",r=new Xy(l.getAllResponseHeaders()),i=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||n.url;return u=new ub({headers:r,status:e,statusText:t,url:i})},s=function(){var e=a(),r=e.headers,i=e.status,o=e.statusText,u=e.url,s=null;204!==i&&(s=void 0===l.response?l.responseText:l.response),0===i&&(i=s?200:0);var c=i>=200&&i<300;if("json"===n.responseType&&"string"==typeof s){var d=s;s=s.replace(mb,"");try{s=""!==s?JSON.parse(s):null}catch(p){s=d,c&&(c=!1,s={error:p,text:s})}}c?(t.next(new ab({body:s,headers:r,status:i,statusText:o,url:u||void 0})),t.complete()):t.error(new sb({error:s,headers:r,status:i,statusText:o,url:u||void 0}))},c=function(n){var e=a().url,r=new sb({error:n,status:l.status||0,statusText:l.statusText||"Unknown Error",url:e||void 0});t.error(r)},d=!1,p=function(e){d||(t.next(a()),d=!0);var r={type:ib.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===n.responseType&&l.responseText&&(r.partialText=l.responseText),t.next(r)},h=function(n){var e={type:ib.UploadProgress,loaded:n.loaded};n.lengthComputable&&(e.total=n.total),t.next(e)};return l.addEventListener("load",s),l.addEventListener("error",c),n.reportProgress&&(l.addEventListener("progress",p),null!==o&&l.upload&&l.upload.addEventListener("progress",h)),l.send(o),t.next({type:ib.Sent}),function(){l.removeEventListener("error",c),l.removeEventListener("load",s),n.reportProgress&&(l.removeEventListener("progress",p),null!==o&&l.upload&&l.upload.removeEventListener("progress",h)),l.abort()}}))},n}(),bb=new Dn("XSRF_COOKIE_NAME"),wb=new Dn("XSRF_HEADER_NAME"),xb=function(){return function(){}}(),_b=function(){function n(n,e,t){this.doc=n,this.platform=e,this.cookieName=t,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return n.prototype.getToken=function(){if("server"===this.platform)return null;var n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ru(n,this.cookieName),this.lastCookieString=n),this.lastToken},n}(),Cb=function(){function n(n,e){this.tokenService=n,this.headerName=e}return n.prototype.intercept=function(n,e){var t=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e.handle(n);var l=this.tokenService.getToken();return null===l||n.headers.has(this.headerName)||(n=n.clone({headers:n.headers.set(this.headerName,l)})),e.handle(n)},n}(),Sb=function(){function n(n,e){this.backend=n,this.injector=e,this.chain=null}return n.prototype.handle=function(n){if(null===this.chain){var e=this.injector.get(hb,[]);this.chain=e.reduceRight((function(n,e){return new pb(n,e)}),this.backend)}return this.chain.handle(n)},n}(),Ib=function(){function n(){}var e;return e=n,n.disable=function(){return{ngModule:e,providers:[{provide:Cb,useClass:fb}]}},n.withOptions=function(n){return void 0===n&&(n={}),{ngModule:e,providers:[n.cookieName?{provide:bb,useValue:n.cookieName}:[],n.headerName?{provide:wb,useValue:n.headerName}:[]]}},n}(),kb=function(){return function(){}}(),Eb=function(){return function(){}}(),Tb=bu(xu,[Jp],(function(n){return function(n){for(var e={},t=[],l=!1,r=0;r<n.length;r++){var i=n[r];i.token===Ve&&!0===i.value&&(l=!0),1073741824&i.flags&&t.push(i.token),i.index=r,e[Jt(i.token)]=i}return{factory:null,providersByKey:e,providers:n,modules:t,isRoot:l}}([Ml(512,at,st,[[8,[Of,Mf,qm,Wg,Ov,ay,_y,Py,Ly,Zy]],[3,at],Wn]),Ml(5120,Zr,Wi,[[3,Zr]]),Ml(4608,Du,Nu,[Zr,[2,Ou]]),Ml(5120,Pr,qi,[pi]),Ml(5120,Fr,Hr,[]),Ml(5120,At,Bi,[]),Ml(5120,Ot,$i,[]),Ml(4608,Zs,Qs,[Ku]),Ml(6144,Pe,null,[Zs]),Ml(4608,Fs,Bs,[]),Ml(5120,fs,(function(n,e,t,l,r,i,o,u){return[new Ls(n,e,t),new Gs(l),new $s(r,i,o,u)]}),[Ku,pi,Wr,Ku,Ku,Fs,Gr,[2,Hs]]),Ml(4608,ms,ms,[fs,pi]),Ml(135680,ys,ys,[Ku]),Ml(4608,Is,Is,[ms,ys,Fr]),Ml(6144,mt,null,[Is]),Ml(6144,vs,null,[ys]),Ml(4608,wi,wi,[pi]),Ml(4608,tm,tm,[]),Ml(4608,xb,_b,[Ku,Wr,bb]),Ml(4608,Cb,Cb,[xb,wb]),Ml(5120,hb,(function(n){return[n]}),[Cb]),Ml(4608,vb,vb,[]),Ml(6144,gb,null,[vb]),Ml(4608,yb,yb,[gb]),Ml(6144,Ky,null,[yb]),Ml(4608,Qy,Sb,[Ky,ze]),Ml(4608,db,db,[Qy]),Ml(5120,hd,Gp,[Cp]),Ml(4608,Rp,Rp,[]),Ml(6144,Dp,null,[Rp]),Ml(135680,Mp,Mp,[Cp,Oi,li,ze,Dp]),Ml(4608,Np,Np,[]),Ml(5120,Vp,Hp,[Cp,Ju,jp]),Ml(5120,Xp,Kp,[Zp]),Ml(5120,qr,(function(n){return[n]}),[Xp]),Ml(4608,Om,Om,[]),Ml(4608,$v,$v,[db]),Ml(1073742336,Qu,Qu,[]),Ml(1024,le,lc,[]),Ml(1024,Si,(function(){return[Up()]}),[]),Ml(512,Zp,Zp,[ze]),Ml(1024,Lr,(function(n,e){return[(t=n,ds("probe",hs),ds("coreTokens",i({},ps,(t||[]).reduce((function(n,e){return n[e.name]=e.token,n}),{}))),function(){return hs}),Qp(e)];var t}),[[2,Si],Zp]),Ml(512,Ur,Ur,[[2,Lr]]),Ml(131584,Pi,Pi,[pi,Gr,ze,le,at,Ur]),Ml(1073742336,Gi,Gi,[Pi]),Ml(1073742336,rc,rc,[[3,rc]]),Ml(1073742336,Tm,Tm,[]),Ml(1073742336,Pm,Pm,[]),Ml(1073742336,Ib,Ib,[]),Ml(1073742336,kb,kb,[]),Ml(1073742336,Rm,Rm,[]),Ml(1073742336,Um,Um,[]),Ml(1024,zp,$p,[[3,Cp]]),Ml(512,Wc,qc,[]),Ml(512,Pp,Pp,[]),Ml(256,jp,{useHash:!0},[]),Ml(1024,Su,Bp,[_u,[2,Iu],jp]),Ml(512,ku,ku,[Su,_u]),Ml(512,li,li,[]),Ml(512,Oi,Ri,[li,[2,Di]]),Ml(1024,gp,(function(){return[[{path:"",component:Fm},{path:"settings",component:Fg},{path:"adapter",component:Ev},{path:"datasource",component:ry},{path:"experimental",component:yy},{path:"window",component:Cy},{path:"test",component:Dy},{path:"**",redirectTo:"",pathMatch:"full"}]]}),[]),Ml(1024,Cp,qp,[Pi,Wc,Pp,ku,ze,Oi,li,gp,jp,[2,yp],[2,fp]]),Ml(1073742336,Fp,Fp,[[2,zp],[2,Cp]]),Ml(1073742336,Eb,Eb,[]),Ml(1073742336,xu,xu,[]),Ml(256,Ve,!0,[]),Ml(256,bb,"XSRF-TOKEN",[]),Ml(256,wb,"X-XSRF-TOKEN",[])])}));(function(){if(ie)throw new Error("Cannot enable prod mode after platform setup.");re=!1})(),tc().bootstrapModuleFactory(Tb).catch((function(n){return console.log(n)}))},0:function(n,e,t){n.exports=t("/o+h")},RnVd:function(n,e){function t(n){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}))}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id="RnVd"}},[[0,0]]]);
//# sourceMappingURL=main.843324421d659ccd8a82.js.map